{
    "hints": {
        "updateApplication()void": {
            "call_config": {
                "update_application": "CALL"
            }
        },
        "createApplication()void": {
            "call_config": {
                "no_op": "CREATE"
            }
        },
        "initStakingContract(uint64)void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "loadStakingContractData(uint64,byte[])void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "finalizeStakingContract()void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "gas()void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "getMbrAmounts()(uint64,uint64,uint64,uint64)": {
            "call_config": {
                "no_op": "CALL"
            },
            "structs": {
                "output": {
                    "name": "MbrAmounts",
                    "elements": [
                        [
                            "addValidatorMbr",
                            "uint64"
                        ],
                        [
                            "addPoolMbr",
                            "uint64"
                        ],
                        [
                            "poolInitMbr",
                            "uint64"
                        ],
                        [
                            "addStakerMbr",
                            "uint64"
                        ]
                    ]
                }
            }
        },
        "getProtocolConstraints()(uint64,uint64,uint64,uint64,uint64,uint64,uint64,uint64,uint64,uint64,uint64)": {
            "call_config": {
                "no_op": "CALL"
            },
            "structs": {
                "output": {
                    "name": "Constraints",
                    "elements": [
                        [
                            "epochPayoutRoundsMin",
                            "uint64"
                        ],
                        [
                            "epochPayoutRoundsMax",
                            "uint64"
                        ],
                        [
                            "minPctToValidatorWFourDecimals",
                            "uint64"
                        ],
                        [
                            "maxPctToValidatorWFourDecimals",
                            "uint64"
                        ],
                        [
                            "minEntryStake",
                            "uint64"
                        ],
                        [
                            "maxAlgoPerPool",
                            "uint64"
                        ],
                        [
                            "maxAlgoPerValidator",
                            "uint64"
                        ],
                        [
                            "amtConsideredSaturated",
                            "uint64"
                        ],
                        [
                            "maxNodes",
                            "uint64"
                        ],
                        [
                            "maxPoolsPerNode",
                            "uint64"
                        ],
                        [
                            "maxStakersPerPool",
                            "uint64"
                        ]
                    ]
                }
            }
        },
        "getNumValidators()uint64": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "getValidatorConfig(uint64)(uint64,address,address,uint64,uint8,address,uint64[4],uint64,uint64,uint64,uint32,uint32,address,uint64,uint64,uint8,uint64,uint64)": {
            "call_config": {
                "no_op": "CALL"
            },
            "structs": {
                "output": {
                    "name": "ValidatorConfig",
                    "elements": [
                        [
                            "id",
                            "uint64"
                        ],
                        [
                            "owner",
                            "address"
                        ],
                        [
                            "manager",
                            "address"
                        ],
                        [
                            "nfdForInfo",
                            "uint64"
                        ],
                        [
                            "entryGatingType",
                            "uint8"
                        ],
                        [
                            "entryGatingAddress",
                            "address"
                        ],
                        [
                            "entryGatingAssets",
                            "uint64[4]"
                        ],
                        [
                            "gatingAssetMinBalance",
                            "uint64"
                        ],
                        [
                            "rewardTokenId",
                            "uint64"
                        ],
                        [
                            "rewardPerPayout",
                            "uint64"
                        ],
                        [
                            "epochRoundLength",
                            "uint32"
                        ],
                        [
                            "percentToValidator",
                            "uint32"
                        ],
                        [
                            "validatorCommissionAddress",
                            "address"
                        ],
                        [
                            "minEntryStake",
                            "uint64"
                        ],
                        [
                            "maxAlgoPerPool",
                            "uint64"
                        ],
                        [
                            "poolsPerNode",
                            "uint8"
                        ],
                        [
                            "sunsettingOn",
                            "uint64"
                        ],
                        [
                            "sunsettingTo",
                            "uint64"
                        ]
                    ]
                }
            }
        },
        "getValidatorState(uint64)(uint16,uint64,uint64,uint64)": {
            "call_config": {
                "no_op": "CALL"
            },
            "structs": {
                "output": {
                    "name": "ValidatorCurState",
                    "elements": [
                        [
                            "numPools",
                            "uint16"
                        ],
                        [
                            "totalStakers",
                            "uint64"
                        ],
                        [
                            "totalAlgoStaked",
                            "uint64"
                        ],
                        [
                            "rewardTokenHeldBack",
                            "uint64"
                        ]
                    ]
                }
            }
        },
        "getValidatorOwnerAndManager(uint64)(address,address)": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "getPools(uint64)(uint64,uint16,uint64)[]": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "getPoolAppId(uint64,uint64)uint64": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "getPoolInfo((uint64,uint64,uint64))(uint64,uint16,uint64)": {
            "call_config": {
                "no_op": "CALL"
            },
            "structs": {
                "poolKey": {
                    "name": "ValidatorPoolKey",
                    "elements": [
                        [
                            "id",
                            "uint64"
                        ],
                        [
                            "poolId",
                            "uint64"
                        ],
                        [
                            "poolAppId",
                            "uint64"
                        ]
                    ]
                },
                "output": {
                    "name": "PoolInfo",
                    "elements": [
                        [
                            "poolAppId",
                            "uint64"
                        ],
                        [
                            "totalStakers",
                            "uint16"
                        ],
                        [
                            "totalAlgoStaked",
                            "uint64"
                        ]
                    ]
                }
            }
        },
        "getCurMaxStakePerPool(uint64)uint64": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "doesStakerNeedToPayMBR(address)bool": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "getStakedPoolsForAccount(address)(uint64,uint64,uint64)[]": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "getTokenPayoutRatio(uint64)(uint64[24],uint64)": {
            "call_config": {
                "no_op": "CALL"
            },
            "structs": {
                "output": {
                    "name": "PoolTokenPayoutRatio",
                    "elements": [
                        [
                            "poolPctOfWhole",
                            "uint64[24]"
                        ],
                        [
                            "updatedForPayout",
                            "uint64"
                        ]
                    ]
                }
            }
        },
        "getNodePoolAssignments(uint64)((uint64[3])[8])": {
            "call_config": {
                "no_op": "CALL"
            },
            "structs": {
                "output": {
                    "name": "NodePoolAssignmentConfig",
                    "elements": [
                        [
                            "nodes",
                            "(uint64[3])[8]"
                        ]
                    ]
                }
            }
        },
        "getNFDRegistryID()uint64": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "addValidator(pay,string,(uint64,address,address,uint64,uint8,address,uint64[4],uint64,uint64,uint64,uint32,uint32,address,uint64,uint64,uint8,uint64,uint64))uint64": {
            "call_config": {
                "no_op": "CALL"
            },
            "structs": {
                "config": {
                    "name": "ValidatorConfig",
                    "elements": [
                        [
                            "id",
                            "uint64"
                        ],
                        [
                            "owner",
                            "address"
                        ],
                        [
                            "manager",
                            "address"
                        ],
                        [
                            "nfdForInfo",
                            "uint64"
                        ],
                        [
                            "entryGatingType",
                            "uint8"
                        ],
                        [
                            "entryGatingAddress",
                            "address"
                        ],
                        [
                            "entryGatingAssets",
                            "uint64[4]"
                        ],
                        [
                            "gatingAssetMinBalance",
                            "uint64"
                        ],
                        [
                            "rewardTokenId",
                            "uint64"
                        ],
                        [
                            "rewardPerPayout",
                            "uint64"
                        ],
                        [
                            "epochRoundLength",
                            "uint32"
                        ],
                        [
                            "percentToValidator",
                            "uint32"
                        ],
                        [
                            "validatorCommissionAddress",
                            "address"
                        ],
                        [
                            "minEntryStake",
                            "uint64"
                        ],
                        [
                            "maxAlgoPerPool",
                            "uint64"
                        ],
                        [
                            "poolsPerNode",
                            "uint8"
                        ],
                        [
                            "sunsettingOn",
                            "uint64"
                        ],
                        [
                            "sunsettingTo",
                            "uint64"
                        ]
                    ]
                }
            }
        },
        "changeValidatorManager(uint64,address)void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "changeValidatorSunsetInfo(uint64,uint64,uint64)void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "changeValidatorNFD(uint64,uint64,string)void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "changeValidatorCommissionAddress(uint64,address)void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "changeValidatorRewardInfo(uint64,uint8,address,uint64[4],uint64,uint64)void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "addPool(pay,uint64,uint64)(uint64,uint64,uint64)": {
            "call_config": {
                "no_op": "CALL"
            },
            "structs": {
                "output": {
                    "name": "ValidatorPoolKey",
                    "elements": [
                        [
                            "id",
                            "uint64"
                        ],
                        [
                            "poolId",
                            "uint64"
                        ],
                        [
                            "poolAppId",
                            "uint64"
                        ]
                    ]
                }
            }
        },
        "addStake(pay,uint64,uint64)(uint64,uint64,uint64)": {
            "call_config": {
                "no_op": "CALL"
            },
            "structs": {
                "output": {
                    "name": "ValidatorPoolKey",
                    "elements": [
                        [
                            "id",
                            "uint64"
                        ],
                        [
                            "poolId",
                            "uint64"
                        ],
                        [
                            "poolAppId",
                            "uint64"
                        ]
                    ]
                }
            }
        },
        "setTokenPayoutRatio(uint64)(uint64[24],uint64)": {
            "call_config": {
                "no_op": "CALL"
            },
            "structs": {
                "output": {
                    "name": "PoolTokenPayoutRatio",
                    "elements": [
                        [
                            "poolPctOfWhole",
                            "uint64[24]"
                        ],
                        [
                            "updatedForPayout",
                            "uint64"
                        ]
                    ]
                }
            }
        },
        "stakeUpdatedViaRewards((uint64,uint64,uint64),uint64,uint64,uint64,uint64)void": {
            "call_config": {
                "no_op": "CALL"
            },
            "structs": {
                "poolKey": {
                    "name": "ValidatorPoolKey",
                    "elements": [
                        [
                            "id",
                            "uint64"
                        ],
                        [
                            "poolId",
                            "uint64"
                        ],
                        [
                            "poolAppId",
                            "uint64"
                        ]
                    ]
                }
            }
        },
        "stakeRemoved((uint64,uint64,uint64),address,uint64,uint64,bool)void": {
            "call_config": {
                "no_op": "CALL"
            },
            "structs": {
                "poolKey": {
                    "name": "ValidatorPoolKey",
                    "elements": [
                        [
                            "id",
                            "uint64"
                        ],
                        [
                            "poolId",
                            "uint64"
                        ],
                        [
                            "poolAppId",
                            "uint64"
                        ]
                    ]
                }
            }
        },
        "findPoolForStaker(uint64,address,uint64)((uint64,uint64,uint64),bool,bool)": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "movePoolToNode(uint64,uint64,uint64)void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "emptyTokenRewards(uint64,address)uint64": {
            "call_config": {
                "no_op": "CALL"
            }
        }
    },
    "source": {
        "approval": "I3ByYWdtYSB2ZXJzaW9uIDEwCiNwcmFnbWEgdHlwZXRyYWNrIGZhbHNlCgovLyBAYWxnb3JhbmRmb3VuZGF0aW9uL2FsZ29yYW5kLXR5cGVzY3JpcHQvYXJjNC9pbmRleC5kLnRzOjpDb250cmFjdC5hcHByb3ZhbFByb2dyYW0oKSAtPiB1aW50NjQ6Cm1haW46CiAgICBpbnRjYmxvY2sgMCAxIDE4IDI0IDI2OCA0MzIgNzAwIDIwMCA5MDAgMTkyIFRNUExfTkZEX1JFR0lTVFJZX0FQUF9JRCAyMjYgMTAwMDAwMCAyMDkgNDA5NiAyNzggMjUyCiAgICBieXRlY2Jsb2NrICJ2IiAweDE1MWY3Yzc1ICIiICJzdGFrZWQiICJwb29sVGVtcGxhdGVBcHByb3ZhbEJ5dGVzIiAibnVtU3Rha2VycyIgMHgwMCAic3BzIiAiaW5pdCIgIm51bVYiICJpLm93bmVyLmEiIDB4MDAwMCAiaXNfdmFsaWRfbmZkX2FwcGlkIiAweDA2ODEwMSAweDYzZjNmMjhiCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjIwMQogICAgLy8gZXhwb3J0IGNsYXNzIFZhbGlkYXRvclJlZ2lzdHJ5IGV4dGVuZHMgQ29udHJhY3QgewogICAgdHhuIE51bUFwcEFyZ3MKICAgIGJ6IG1haW5fYWZ0ZXJfaWZfZWxzZUA0MQogICAgcHVzaGJ5dGVzcyAweDQ2Zjc2NTMzIDB4Yjg0NDdiMzYgMHgxYjVlODJjNiAweDc5NDcyZDgzIDB4NWY3YWNmZDkgMHgzMTcyY2E5ZCAweDhhODcxNDJkIDB4ZDEzNjZjYzMgMHgzYjA0NWM1YyAweDc1YWZmNjFkIDB4MWYyZjAxMDkgMHgyZmEyMmM0YiAweDkxMGU5NGFjIDB4NTcyNzY3ZDEgMHg5YjUwNGFhZiAweGZiYzYzMTc4IDB4MjQ0OThjZjQgMHhmODQ2ZGQ3YSAweDgzMDUwNTAxIDB4N2JiYjZjOGQgMHhmODM5NDE0YSAweDBjMzE3Y2ZiIDB4M2UyODg5NzIgMHhkZDVmYWFkYSAweDE4YWFjN2E3IDB4Zjk5ZWY1NGQgMHgxMDgwOWQ0ZCAweGU3NzhkZDVhIDB4YmY1MjU5ZDAgMHg0ZGY4ZDg2ZSAweDQxOGZjZWZjIDB4YTJkYzUxYjUgMHgyODczZjUwNCAweDA1NDdmNGZlIDB4Y2I2NjgzNTggLy8gbWV0aG9kICJ1cGRhdGVBcHBsaWNhdGlvbigpdm9pZCIsIG1ldGhvZCAiY3JlYXRlQXBwbGljYXRpb24oKXZvaWQiLCBtZXRob2QgImluaXRTdGFraW5nQ29udHJhY3QodWludDY0KXZvaWQiLCBtZXRob2QgImxvYWRTdGFraW5nQ29udHJhY3REYXRhKHVpbnQ2NCxieXRlW10pdm9pZCIsIG1ldGhvZCAiZmluYWxpemVTdGFraW5nQ29udHJhY3QoKXZvaWQiLCBtZXRob2QgImdhcygpdm9pZCIsIG1ldGhvZCAiZ2V0TWJyQW1vdW50cygpKHVpbnQ2NCx1aW50NjQsdWludDY0LHVpbnQ2NCkiLCBtZXRob2QgImdldFByb3RvY29sQ29uc3RyYWludHMoKSh1aW50NjQsdWludDY0LHVpbnQ2NCx1aW50NjQsdWludDY0LHVpbnQ2NCx1aW50NjQsdWludDY0LHVpbnQ2NCx1aW50NjQsdWludDY0KSIsIG1ldGhvZCAiZ2V0TnVtVmFsaWRhdG9ycygpdWludDY0IiwgbWV0aG9kICJnZXRWYWxpZGF0b3JDb25maWcodWludDY0KSh1aW50NjQsYWRkcmVzcyxhZGRyZXNzLHVpbnQ2NCx1aW50OCxhZGRyZXNzLHVpbnQ2NFs0XSx1aW50NjQsdWludDY0LHVpbnQ2NCx1aW50MzIsdWludDMyLGFkZHJlc3MsdWludDY0LHVpbnQ2NCx1aW50OCx1aW50NjQsdWludDY0KSIsIG1ldGhvZCAiZ2V0VmFsaWRhdG9yU3RhdGUodWludDY0KSh1aW50MTYsdWludDY0LHVpbnQ2NCx1aW50NjQpIiwgbWV0aG9kICJnZXRWYWxpZGF0b3JPd25lckFuZE1hbmFnZXIodWludDY0KShhZGRyZXNzLGFkZHJlc3MpIiwgbWV0aG9kICJnZXRQb29scyh1aW50NjQpKHVpbnQ2NCx1aW50MTYsdWludDY0KVtdIiwgbWV0aG9kICJnZXRQb29sQXBwSWQodWludDY0LHVpbnQ2NCl1aW50NjQiLCBtZXRob2QgImdldFBvb2xJbmZvKCh1aW50NjQsdWludDY0LHVpbnQ2NCkpKHVpbnQ2NCx1aW50MTYsdWludDY0KSIsIG1ldGhvZCAiZ2V0Q3VyTWF4U3Rha2VQZXJQb29sKHVpbnQ2NCl1aW50NjQiLCBtZXRob2QgImRvZXNTdGFrZXJOZWVkVG9QYXlNQlIoYWRkcmVzcylib29sIiwgbWV0aG9kICJnZXRTdGFrZWRQb29sc0ZvckFjY291bnQoYWRkcmVzcykodWludDY0LHVpbnQ2NCx1aW50NjQpW10iLCBtZXRob2QgImdldFRva2VuUGF5b3V0UmF0aW8odWludDY0KSh1aW50NjRbMjRdLHVpbnQ2NCkiLCBtZXRob2QgImdldE5vZGVQb29sQXNzaWdubWVudHModWludDY0KSgodWludDY0WzNdKVs4XSkiLCBtZXRob2QgImdldE5GRFJlZ2lzdHJ5SUQoKXVpbnQ2NCIsIG1ldGhvZCAiYWRkVmFsaWRhdG9yKHBheSxzdHJpbmcsKHVpbnQ2NCxhZGRyZXNzLGFkZHJlc3MsdWludDY0LHVpbnQ4LGFkZHJlc3MsdWludDY0WzRdLHVpbnQ2NCx1aW50NjQsdWludDY0LHVpbnQzMix1aW50MzIsYWRkcmVzcyx1aW50NjQsdWludDY0LHVpbnQ4LHVpbnQ2NCx1aW50NjQpKXVpbnQ2NCIsIG1ldGhvZCAiY2hhbmdlVmFsaWRhdG9yTWFuYWdlcih1aW50NjQsYWRkcmVzcyl2b2lkIiwgbWV0aG9kICJjaGFuZ2VWYWxpZGF0b3JTdW5zZXRJbmZvKHVpbnQ2NCx1aW50NjQsdWludDY0KXZvaWQiLCBtZXRob2QgImNoYW5nZVZhbGlkYXRvck5GRCh1aW50NjQsdWludDY0LHN0cmluZyl2b2lkIiwgbWV0aG9kICJjaGFuZ2VWYWxpZGF0b3JDb21taXNzaW9uQWRkcmVzcyh1aW50NjQsYWRkcmVzcyl2b2lkIiwgbWV0aG9kICJjaGFuZ2VWYWxpZGF0b3JSZXdhcmRJbmZvKHVpbnQ2NCx1aW50OCxhZGRyZXNzLHVpbnQ2NFs0XSx1aW50NjQsdWludDY0KXZvaWQiLCBtZXRob2QgImFkZFBvb2wocGF5LHVpbnQ2NCx1aW50NjQpKHVpbnQ2NCx1aW50NjQsdWludDY0KSIsIG1ldGhvZCAiYWRkU3Rha2UocGF5LHVpbnQ2NCx1aW50NjQpKHVpbnQ2NCx1aW50NjQsdWludDY0KSIsIG1ldGhvZCAic2V0VG9rZW5QYXlvdXRSYXRpbyh1aW50NjQpKHVpbnQ2NFsyNF0sdWludDY0KSIsIG1ldGhvZCAic3Rha2VVcGRhdGVkVmlhUmV3YXJkcygodWludDY0LHVpbnQ2NCx1aW50NjQpLHVpbnQ2NCx1aW50NjQsdWludDY0LHVpbnQ2NCl2b2lkIiwgbWV0aG9kICJzdGFrZVJlbW92ZWQoKHVpbnQ2NCx1aW50NjQsdWludDY0KSxhZGRyZXNzLHVpbnQ2NCx1aW50NjQsYm9vbCl2b2lkIiwgbWV0aG9kICJmaW5kUG9vbEZvclN0YWtlcih1aW50NjQsYWRkcmVzcyx1aW50NjQpKCh1aW50NjQsdWludDY0LHVpbnQ2NCksYm9vbCxib29sKSIsIG1ldGhvZCAibW92ZVBvb2xUb05vZGUodWludDY0LHVpbnQ2NCx1aW50NjQpdm9pZCIsIG1ldGhvZCAiZW1wdHlUb2tlblJld2FyZHModWludDY0LGFkZHJlc3MpdWludDY0IgogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMAogICAgbWF0Y2ggbWFpbl91cGRhdGVBcHBsaWNhdGlvbl9yb3V0ZUAzIG1haW5fY3JlYXRlQXBwbGljYXRpb25fcm91dGVANCBtYWluX2luaXRTdGFraW5nQ29udHJhY3Rfcm91dGVANSBtYWluX2xvYWRTdGFraW5nQ29udHJhY3REYXRhX3JvdXRlQDYgbWFpbl9maW5hbGl6ZVN0YWtpbmdDb250cmFjdF9yb3V0ZUA3IG1haW5fZ2FzX3JvdXRlQDggbWFpbl9nZXRNYnJBbW91bnRzX3JvdXRlQDkgbWFpbl9nZXRQcm90b2NvbENvbnN0cmFpbnRzX3JvdXRlQDEwIG1haW5fZ2V0TnVtVmFsaWRhdG9yc19yb3V0ZUAxMSBtYWluX2dldFZhbGlkYXRvckNvbmZpZ19yb3V0ZUAxMiBtYWluX2dldFZhbGlkYXRvclN0YXRlX3JvdXRlQDEzIG1haW5fZ2V0VmFsaWRhdG9yT3duZXJBbmRNYW5hZ2VyX3JvdXRlQDE0IG1haW5fZ2V0UG9vbHNfcm91dGVAMTUgbWFpbl9nZXRQb29sQXBwSWRfcm91dGVAMTYgbWFpbl9nZXRQb29sSW5mb19yb3V0ZUAxNyBtYWluX2dldEN1ck1heFN0YWtlUGVyUG9vbF9yb3V0ZUAxOCBtYWluX2RvZXNTdGFrZXJOZWVkVG9QYXlNQlJfcm91dGVAMTkgbWFpbl9nZXRTdGFrZWRQb29sc0ZvckFjY291bnRfcm91dGVAMjAgbWFpbl9nZXRUb2tlblBheW91dFJhdGlvX3JvdXRlQDIxIG1haW5fZ2V0Tm9kZVBvb2xBc3NpZ25tZW50c19yb3V0ZUAyMiBtYWluX2dldE5GRFJlZ2lzdHJ5SURfcm91dGVAMjMgbWFpbl9hZGRWYWxpZGF0b3Jfcm91dGVAMjQgbWFpbl9jaGFuZ2VWYWxpZGF0b3JNYW5hZ2VyX3JvdXRlQDI1IG1haW5fY2hhbmdlVmFsaWRhdG9yU3Vuc2V0SW5mb19yb3V0ZUAyNiBtYWluX2NoYW5nZVZhbGlkYXRvck5GRF9yb3V0ZUAyNyBtYWluX2NoYW5nZVZhbGlkYXRvckNvbW1pc3Npb25BZGRyZXNzX3JvdXRlQDI4IG1haW5fY2hhbmdlVmFsaWRhdG9yUmV3YXJkSW5mb19yb3V0ZUAyOSBtYWluX2FkZFBvb2xfcm91dGVAMzAgbWFpbl9hZGRTdGFrZV9yb3V0ZUAzMSBtYWluX3NldFRva2VuUGF5b3V0UmF0aW9fcm91dGVAMzIgbWFpbl9zdGFrZVVwZGF0ZWRWaWFSZXdhcmRzX3JvdXRlQDMzIG1haW5fc3Rha2VSZW1vdmVkX3JvdXRlQDM0IG1haW5fZmluZFBvb2xGb3JTdGFrZXJfcm91dGVAMzUgbWFpbl9tb3ZlUG9vbFRvTm9kZV9yb3V0ZUAzNiBtYWluX2VtcHR5VG9rZW5SZXdhcmRzX3JvdXRlQDM3CgptYWluX2FmdGVyX2lmX2Vsc2VANDE6CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjIwMQogICAgLy8gZXhwb3J0IGNsYXNzIFZhbGlkYXRvclJlZ2lzdHJ5IGV4dGVuZHMgQ29udHJhY3QgewogICAgaW50Y18wIC8vIDAKICAgIHJldHVybgoKbWFpbl9lbXB0eVRva2VuUmV3YXJkc19yb3V0ZUAzNzoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTA3OAogICAgLy8gZW1wdHlUb2tlblJld2FyZHModmFsaWRhdG9ySWQ6IFZhbGlkYXRvcklkVHlwZSwgcmVjZWl2ZXI6IEFkZHJlc3MpOiB1aW50NjQgewogICAgdHhuIE9uQ29tcGxldGlvbgogICAgIQogICAgYXNzZXJ0IC8vIE9uQ29tcGxldGlvbiBpcyBub3QgTm9PcAogICAgdHhuIEFwcGxpY2F0aW9uSUQKICAgIGFzc2VydCAvLyBjYW4gb25seSBjYWxsIHdoZW4gbm90IGNyZWF0aW5nCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjIwMQogICAgLy8gZXhwb3J0IGNsYXNzIFZhbGlkYXRvclJlZ2lzdHJ5IGV4dGVuZHMgQ29udHJhY3QgewogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgYnRvaQogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMDc4CiAgICAvLyBlbXB0eVRva2VuUmV3YXJkcyh2YWxpZGF0b3JJZDogVmFsaWRhdG9ySWRUeXBlLCByZWNlaXZlcjogQWRkcmVzcyk6IHVpbnQ2NCB7CiAgICBjYWxsc3ViIGVtcHR5VG9rZW5SZXdhcmRzCiAgICBpdG9iCiAgICBieXRlY18xIC8vIDB4MTUxZjdjNzUKICAgIHN3YXAKICAgIGNvbmNhdAogICAgbG9nCiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgptYWluX21vdmVQb29sVG9Ob2RlX3JvdXRlQDM2OgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMDM1CiAgICAvLyBtb3ZlUG9vbFRvTm9kZSh2YWxpZGF0b3JJZDogVmFsaWRhdG9ySWRUeXBlLCBwb29sQXBwSWQ6IHVpbnQ2NCwgbm9kZU51bTogdWludDY0KTogdm9pZCB7CiAgICB0eG4gT25Db21wbGV0aW9uCiAgICAhCiAgICBhc3NlcnQgLy8gT25Db21wbGV0aW9uIGlzIG5vdCBOb09wCiAgICB0eG4gQXBwbGljYXRpb25JRAogICAgYXNzZXJ0IC8vIGNhbiBvbmx5IGNhbGwgd2hlbiBub3QgY3JlYXRpbmcKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MjAxCiAgICAvLyBleHBvcnQgY2xhc3MgVmFsaWRhdG9yUmVnaXN0cnkgZXh0ZW5kcyBDb250cmFjdCB7CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBidG9pCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAyCiAgICBidG9pCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAzCiAgICBidG9pCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEwMzUKICAgIC8vIG1vdmVQb29sVG9Ob2RlKHZhbGlkYXRvcklkOiBWYWxpZGF0b3JJZFR5cGUsIHBvb2xBcHBJZDogdWludDY0LCBub2RlTnVtOiB1aW50NjQpOiB2b2lkIHsKICAgIGNhbGxzdWIgbW92ZVBvb2xUb05vZGUKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCm1haW5fZmluZFBvb2xGb3JTdGFrZXJfcm91dGVAMzU6CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjk2Mi05NjYKICAgIC8vIGZpbmRQb29sRm9yU3Rha2VyKAogICAgLy8gICB2YWxpZGF0b3JJZDogVmFsaWRhdG9ySWRUeXBlLAogICAgLy8gICBzdGFrZXI6IEFkZHJlc3MsCiAgICAvLyAgIGFtb3VudFRvU3Rha2U6IHVpbnQ2NCwKICAgIC8vICk6IFtWYWxpZGF0b3JQb29sS2V5LCBib29sZWFuLCBib29sZWFuXSB7CiAgICB0eG4gT25Db21wbGV0aW9uCiAgICAhCiAgICBhc3NlcnQgLy8gT25Db21wbGV0aW9uIGlzIG5vdCBOb09wCiAgICB0eG4gQXBwbGljYXRpb25JRAogICAgYXNzZXJ0IC8vIGNhbiBvbmx5IGNhbGwgd2hlbiBub3QgY3JlYXRpbmcKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MjAxCiAgICAvLyBleHBvcnQgY2xhc3MgVmFsaWRhdG9yUmVnaXN0cnkgZXh0ZW5kcyBDb250cmFjdCB7CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBidG9pCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAyCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAzCiAgICBidG9pCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjk2Mi05NjYKICAgIC8vIGZpbmRQb29sRm9yU3Rha2VyKAogICAgLy8gICB2YWxpZGF0b3JJZDogVmFsaWRhdG9ySWRUeXBlLAogICAgLy8gICBzdGFrZXI6IEFkZHJlc3MsCiAgICAvLyAgIGFtb3VudFRvU3Rha2U6IHVpbnQ2NCwKICAgIC8vICk6IFtWYWxpZGF0b3JQb29sS2V5LCBib29sZWFuLCBib29sZWFuXSB7CiAgICBjYWxsc3ViIGZpbmRQb29sRm9yU3Rha2VyCiAgICBieXRlY18xIC8vIDB4MTUxZjdjNzUKICAgIHN3YXAKICAgIGNvbmNhdAogICAgbG9nCiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgptYWluX3N0YWtlUmVtb3ZlZF9yb3V0ZUAzNDoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6ODY2LTg3MgogICAgLy8gc3Rha2VSZW1vdmVkKAogICAgLy8gICBwb29sS2V5OiBWYWxpZGF0b3JQb29sS2V5LAogICAgLy8gICBzdGFrZXI6IEFkZHJlc3MsCiAgICAvLyAgIGFtb3VudFJlbW92ZWQ6IHVpbnQ2NCwKICAgIC8vICAgcmV3YXJkUmVtb3ZlZDogdWludDY0LAogICAgLy8gICBzdGFrZXJSZW1vdmVkOiBib29sZWFuLAogICAgLy8gKTogdm9pZCB7CiAgICB0eG4gT25Db21wbGV0aW9uCiAgICAhCiAgICBhc3NlcnQgLy8gT25Db21wbGV0aW9uIGlzIG5vdCBOb09wCiAgICB0eG4gQXBwbGljYXRpb25JRAogICAgYXNzZXJ0IC8vIGNhbiBvbmx5IGNhbGwgd2hlbiBub3QgY3JlYXRpbmcKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MjAxCiAgICAvLyBleHBvcnQgY2xhc3MgVmFsaWRhdG9yUmVnaXN0cnkgZXh0ZW5kcyBDb250cmFjdCB7CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAyCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAzCiAgICBidG9pCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyA0CiAgICBidG9pCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyA1CiAgICBpbnRjXzAgLy8gMAogICAgZ2V0Yml0CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjg2Ni04NzIKICAgIC8vIHN0YWtlUmVtb3ZlZCgKICAgIC8vICAgcG9vbEtleTogVmFsaWRhdG9yUG9vbEtleSwKICAgIC8vICAgc3Rha2VyOiBBZGRyZXNzLAogICAgLy8gICBhbW91bnRSZW1vdmVkOiB1aW50NjQsCiAgICAvLyAgIHJld2FyZFJlbW92ZWQ6IHVpbnQ2NCwKICAgIC8vICAgc3Rha2VyUmVtb3ZlZDogYm9vbGVhbiwKICAgIC8vICk6IHZvaWQgewogICAgY2FsbHN1YiBzdGFrZVJlbW92ZWQKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCm1haW5fc3Rha2VVcGRhdGVkVmlhUmV3YXJkc19yb3V0ZUAzMzoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6ODI0LTgzMAogICAgLy8gc3Rha2VVcGRhdGVkVmlhUmV3YXJkcygKICAgIC8vICAgcG9vbEtleTogVmFsaWRhdG9yUG9vbEtleSwKICAgIC8vICAgYWxnb1RvQWRkOiB1aW50NjQsCiAgICAvLyAgIHJld2FyZFRva2VuQW1vdW50UmVzZXJ2ZWQ6IHVpbnQ2NCwKICAgIC8vICAgdmFsaWRhdG9yQ29tbWlzc2lvbjogdWludDY0LAogICAgLy8gICBzYXR1cmF0ZWRCdXJuVG9GZWVTaW5rOiB1aW50NjQsCiAgICAvLyApOiB2b2lkIHsKICAgIHR4biBPbkNvbXBsZXRpb24KICAgICEKICAgIGFzc2VydCAvLyBPbkNvbXBsZXRpb24gaXMgbm90IE5vT3AKICAgIHR4biBBcHBsaWNhdGlvbklECiAgICBhc3NlcnQgLy8gY2FuIG9ubHkgY2FsbCB3aGVuIG5vdCBjcmVhdGluZwogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoyMDEKICAgIC8vIGV4cG9ydCBjbGFzcyBWYWxpZGF0b3JSZWdpc3RyeSBleHRlbmRzIENvbnRyYWN0IHsKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDIKICAgIGJ0b2kKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDMKICAgIGJ0b2kKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDQKICAgIGJ0b2kKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDUKICAgIGJ0b2kKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6ODI0LTgzMAogICAgLy8gc3Rha2VVcGRhdGVkVmlhUmV3YXJkcygKICAgIC8vICAgcG9vbEtleTogVmFsaWRhdG9yUG9vbEtleSwKICAgIC8vICAgYWxnb1RvQWRkOiB1aW50NjQsCiAgICAvLyAgIHJld2FyZFRva2VuQW1vdW50UmVzZXJ2ZWQ6IHVpbnQ2NCwKICAgIC8vICAgdmFsaWRhdG9yQ29tbWlzc2lvbjogdWludDY0LAogICAgLy8gICBzYXR1cmF0ZWRCdXJuVG9GZWVTaW5rOiB1aW50NjQsCiAgICAvLyApOiB2b2lkIHsKICAgIGNhbGxzdWIgc3Rha2VVcGRhdGVkVmlhUmV3YXJkcwogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKbWFpbl9zZXRUb2tlblBheW91dFJhdGlvX3JvdXRlQDMyOgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo3NjcKICAgIC8vIHNldFRva2VuUGF5b3V0UmF0aW8odmFsaWRhdG9ySWQ6IFZhbGlkYXRvcklkVHlwZSk6IFBvb2xUb2tlblBheW91dFJhdGlvIHsKICAgIHR4biBPbkNvbXBsZXRpb24KICAgICEKICAgIGFzc2VydCAvLyBPbkNvbXBsZXRpb24gaXMgbm90IE5vT3AKICAgIHR4biBBcHBsaWNhdGlvbklECiAgICBhc3NlcnQgLy8gY2FuIG9ubHkgY2FsbCB3aGVuIG5vdCBjcmVhdGluZwogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoyMDEKICAgIC8vIGV4cG9ydCBjbGFzcyBWYWxpZGF0b3JSZWdpc3RyeSBleHRlbmRzIENvbnRyYWN0IHsKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGJ0b2kKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NzY3CiAgICAvLyBzZXRUb2tlblBheW91dFJhdGlvKHZhbGlkYXRvcklkOiBWYWxpZGF0b3JJZFR5cGUpOiBQb29sVG9rZW5QYXlvdXRSYXRpbyB7CiAgICBjYWxsc3ViIHNldFRva2VuUGF5b3V0UmF0aW8KICAgIGJ5dGVjXzEgLy8gMHgxNTFmN2M3NQogICAgc3dhcAogICAgY29uY2F0CiAgICBsb2cKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCm1haW5fYWRkU3Rha2Vfcm91dGVAMzE6CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjY4MC02ODQKICAgIC8vIGFkZFN0YWtlKAogICAgLy8gICBzdGFrZWRBbW91bnRQYXltZW50OiBndHhuLlBheW1lbnRUeG4sCiAgICAvLyAgIHZhbGlkYXRvcklkOiBWYWxpZGF0b3JJZFR5cGUsCiAgICAvLyAgIHZhbHVlVG9WZXJpZnk6IHVpbnQ2NCwKICAgIC8vICk6IFZhbGlkYXRvclBvb2xLZXkgewogICAgdHhuIE9uQ29tcGxldGlvbgogICAgIQogICAgYXNzZXJ0IC8vIE9uQ29tcGxldGlvbiBpcyBub3QgTm9PcAogICAgdHhuIEFwcGxpY2F0aW9uSUQKICAgIGFzc2VydCAvLyBjYW4gb25seSBjYWxsIHdoZW4gbm90IGNyZWF0aW5nCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjIwMQogICAgLy8gZXhwb3J0IGNsYXNzIFZhbGlkYXRvclJlZ2lzdHJ5IGV4dGVuZHMgQ29udHJhY3QgewogICAgdHhuIEdyb3VwSW5kZXgKICAgIGludGNfMSAvLyAxCiAgICAtCiAgICBkdXAKICAgIGd0eG5zIFR5cGVFbnVtCiAgICBpbnRjXzEgLy8gcGF5CiAgICA9PQogICAgYXNzZXJ0IC8vIHRyYW5zYWN0aW9uIHR5cGUgaXMgcGF5CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBidG9pCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAyCiAgICBidG9pCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjY4MC02ODQKICAgIC8vIGFkZFN0YWtlKAogICAgLy8gICBzdGFrZWRBbW91bnRQYXltZW50OiBndHhuLlBheW1lbnRUeG4sCiAgICAvLyAgIHZhbGlkYXRvcklkOiBWYWxpZGF0b3JJZFR5cGUsCiAgICAvLyAgIHZhbHVlVG9WZXJpZnk6IHVpbnQ2NCwKICAgIC8vICk6IFZhbGlkYXRvclBvb2xLZXkgewogICAgY2FsbHN1YiBhZGRTdGFrZQogICAgYnl0ZWNfMSAvLyAweDE1MWY3Yzc1CiAgICBzd2FwCiAgICBjb25jYXQKICAgIGxvZwogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKbWFpbl9hZGRQb29sX3JvdXRlQDMwOgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo2MTMKICAgIC8vIGFkZFBvb2wobWJyUGF5bWVudDogZ3R4bi5QYXltZW50VHhuLCB2YWxpZGF0b3JJZDogVmFsaWRhdG9ySWRUeXBlLCBub2RlTnVtOiB1aW50NjQpOiBWYWxpZGF0b3JQb29sS2V5IHsKICAgIHR4biBPbkNvbXBsZXRpb24KICAgICEKICAgIGFzc2VydCAvLyBPbkNvbXBsZXRpb24gaXMgbm90IE5vT3AKICAgIHR4biBBcHBsaWNhdGlvbklECiAgICBhc3NlcnQgLy8gY2FuIG9ubHkgY2FsbCB3aGVuIG5vdCBjcmVhdGluZwogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoyMDEKICAgIC8vIGV4cG9ydCBjbGFzcyBWYWxpZGF0b3JSZWdpc3RyeSBleHRlbmRzIENvbnRyYWN0IHsKICAgIHR4biBHcm91cEluZGV4CiAgICBpbnRjXzEgLy8gMQogICAgLQogICAgZHVwCiAgICBndHhucyBUeXBlRW51bQogICAgaW50Y18xIC8vIHBheQogICAgPT0KICAgIGFzc2VydCAvLyB0cmFuc2FjdGlvbiB0eXBlIGlzIHBheQogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgYnRvaQogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMgogICAgYnRvaQogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo2MTMKICAgIC8vIGFkZFBvb2wobWJyUGF5bWVudDogZ3R4bi5QYXltZW50VHhuLCB2YWxpZGF0b3JJZDogVmFsaWRhdG9ySWRUeXBlLCBub2RlTnVtOiB1aW50NjQpOiBWYWxpZGF0b3JQb29sS2V5IHsKICAgIGNhbGxzdWIgYWRkUG9vbAogICAgYnl0ZWNfMSAvLyAweDE1MWY3Yzc1CiAgICBzd2FwCiAgICBjb25jYXQKICAgIGxvZwogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKbWFpbl9jaGFuZ2VWYWxpZGF0b3JSZXdhcmRJbmZvX3JvdXRlQDI5OgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo1ODItNTg5CiAgICAvLyBjaGFuZ2VWYWxpZGF0b3JSZXdhcmRJbmZvKAogICAgLy8gICB2YWxpZGF0b3JJZDogVmFsaWRhdG9ySWRUeXBlLAogICAgLy8gICBFbnRyeUdhdGluZ1R5cGU6IFVpbnQ4LAogICAgLy8gICBFbnRyeUdhdGluZ0FkZHJlc3M6IEFkZHJlc3MsCiAgICAvLyAgIEVudHJ5R2F0aW5nQXNzZXRzOiBGaXhlZEFycmF5PHVpbnQ2NCwgND4sCiAgICAvLyAgIEdhdGluZ0Fzc2V0TWluQmFsYW5jZTogdWludDY0LAogICAgLy8gICBSZXdhcmRQZXJQYXlvdXQ6IHVpbnQ2NCwKICAgIC8vICk6IHZvaWQgewogICAgdHhuIE9uQ29tcGxldGlvbgogICAgIQogICAgYXNzZXJ0IC8vIE9uQ29tcGxldGlvbiBpcyBub3QgTm9PcAogICAgdHhuIEFwcGxpY2F0aW9uSUQKICAgIGFzc2VydCAvLyBjYW4gb25seSBjYWxsIHdoZW4gbm90IGNyZWF0aW5nCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjIwMQogICAgLy8gZXhwb3J0IGNsYXNzIFZhbGlkYXRvclJlZ2lzdHJ5IGV4dGVuZHMgQ29udHJhY3QgewogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgYnRvaQogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMgogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMwogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgNAogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgNQogICAgYnRvaQogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgNgogICAgYnRvaQogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo1ODItNTg5CiAgICAvLyBjaGFuZ2VWYWxpZGF0b3JSZXdhcmRJbmZvKAogICAgLy8gICB2YWxpZGF0b3JJZDogVmFsaWRhdG9ySWRUeXBlLAogICAgLy8gICBFbnRyeUdhdGluZ1R5cGU6IFVpbnQ4LAogICAgLy8gICBFbnRyeUdhdGluZ0FkZHJlc3M6IEFkZHJlc3MsCiAgICAvLyAgIEVudHJ5R2F0aW5nQXNzZXRzOiBGaXhlZEFycmF5PHVpbnQ2NCwgND4sCiAgICAvLyAgIEdhdGluZ0Fzc2V0TWluQmFsYW5jZTogdWludDY0LAogICAgLy8gICBSZXdhcmRQZXJQYXlvdXQ6IHVpbnQ2NCwKICAgIC8vICk6IHZvaWQgewogICAgY2FsbHN1YiBjaGFuZ2VWYWxpZGF0b3JSZXdhcmRJbmZvCiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgptYWluX2NoYW5nZVZhbGlkYXRvckNvbW1pc3Npb25BZGRyZXNzX3JvdXRlQDI4OgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo1NjkKICAgIC8vIGNoYW5nZVZhbGlkYXRvckNvbW1pc3Npb25BZGRyZXNzKHZhbGlkYXRvcklkOiBWYWxpZGF0b3JJZFR5cGUsIGNvbW1pc3Npb25BZGRyZXNzOiBBZGRyZXNzKTogdm9pZCB7CiAgICB0eG4gT25Db21wbGV0aW9uCiAgICAhCiAgICBhc3NlcnQgLy8gT25Db21wbGV0aW9uIGlzIG5vdCBOb09wCiAgICB0eG4gQXBwbGljYXRpb25JRAogICAgYXNzZXJ0IC8vIGNhbiBvbmx5IGNhbGwgd2hlbiBub3QgY3JlYXRpbmcKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MjAxCiAgICAvLyBleHBvcnQgY2xhc3MgVmFsaWRhdG9yUmVnaXN0cnkgZXh0ZW5kcyBDb250cmFjdCB7CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBidG9pCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAyCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjU2OQogICAgLy8gY2hhbmdlVmFsaWRhdG9yQ29tbWlzc2lvbkFkZHJlc3ModmFsaWRhdG9ySWQ6IFZhbGlkYXRvcklkVHlwZSwgY29tbWlzc2lvbkFkZHJlc3M6IEFkZHJlc3MpOiB2b2lkIHsKICAgIGNhbGxzdWIgY2hhbmdlVmFsaWRhdG9yQ29tbWlzc2lvbkFkZHJlc3MKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCm1haW5fY2hhbmdlVmFsaWRhdG9yTkZEX3JvdXRlQDI3OgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo1NDUKICAgIC8vIGNoYW5nZVZhbGlkYXRvck5GRCh2YWxpZGF0b3JJZDogVmFsaWRhdG9ySWRUeXBlLCBuZmRBcHBJRDogdWludDY0LCBuZmROYW1lOiBzdHJpbmcpOiB2b2lkIHsKICAgIHR4biBPbkNvbXBsZXRpb24KICAgICEKICAgIGFzc2VydCAvLyBPbkNvbXBsZXRpb24gaXMgbm90IE5vT3AKICAgIHR4biBBcHBsaWNhdGlvbklECiAgICBhc3NlcnQgLy8gY2FuIG9ubHkgY2FsbCB3aGVuIG5vdCBjcmVhdGluZwogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoyMDEKICAgIC8vIGV4cG9ydCBjbGFzcyBWYWxpZGF0b3JSZWdpc3RyeSBleHRlbmRzIENvbnRyYWN0IHsKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGJ0b2kKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDIKICAgIGJ0b2kKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDMKICAgIGV4dHJhY3QgMiAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjU0NQogICAgLy8gY2hhbmdlVmFsaWRhdG9yTkZEKHZhbGlkYXRvcklkOiBWYWxpZGF0b3JJZFR5cGUsIG5mZEFwcElEOiB1aW50NjQsIG5mZE5hbWU6IHN0cmluZyk6IHZvaWQgewogICAgY2FsbHN1YiBjaGFuZ2VWYWxpZGF0b3JORkQKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCm1haW5fY2hhbmdlVmFsaWRhdG9yU3Vuc2V0SW5mb19yb3V0ZUAyNjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NTI4CiAgICAvLyBjaGFuZ2VWYWxpZGF0b3JTdW5zZXRJbmZvKHZhbGlkYXRvcklkOiBWYWxpZGF0b3JJZFR5cGUsIHN1bnNldHRpbmdPbjogdWludDY0LCBzdW5zZXR0aW5nVG86IFZhbGlkYXRvcklkVHlwZSk6IHZvaWQgewogICAgdHhuIE9uQ29tcGxldGlvbgogICAgIQogICAgYXNzZXJ0IC8vIE9uQ29tcGxldGlvbiBpcyBub3QgTm9PcAogICAgdHhuIEFwcGxpY2F0aW9uSUQKICAgIGFzc2VydCAvLyBjYW4gb25seSBjYWxsIHdoZW4gbm90IGNyZWF0aW5nCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjIwMQogICAgLy8gZXhwb3J0IGNsYXNzIFZhbGlkYXRvclJlZ2lzdHJ5IGV4dGVuZHMgQ29udHJhY3QgewogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgYnRvaQogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMgogICAgYnRvaQogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMwogICAgYnRvaQogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo1MjgKICAgIC8vIGNoYW5nZVZhbGlkYXRvclN1bnNldEluZm8odmFsaWRhdG9ySWQ6IFZhbGlkYXRvcklkVHlwZSwgc3Vuc2V0dGluZ09uOiB1aW50NjQsIHN1bnNldHRpbmdUbzogVmFsaWRhdG9ySWRUeXBlKTogdm9pZCB7CiAgICBjYWxsc3ViIGNoYW5nZVZhbGlkYXRvclN1bnNldEluZm8KICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCm1haW5fY2hhbmdlVmFsaWRhdG9yTWFuYWdlcl9yb3V0ZUAyNToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NTEyCiAgICAvLyBjaGFuZ2VWYWxpZGF0b3JNYW5hZ2VyKHZhbGlkYXRvcklkOiBWYWxpZGF0b3JJZFR5cGUsIG1hbmFnZXI6IEFkZHJlc3MpOiB2b2lkIHsKICAgIHR4biBPbkNvbXBsZXRpb24KICAgICEKICAgIGFzc2VydCAvLyBPbkNvbXBsZXRpb24gaXMgbm90IE5vT3AKICAgIHR4biBBcHBsaWNhdGlvbklECiAgICBhc3NlcnQgLy8gY2FuIG9ubHkgY2FsbCB3aGVuIG5vdCBjcmVhdGluZwogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoyMDEKICAgIC8vIGV4cG9ydCBjbGFzcyBWYWxpZGF0b3JSZWdpc3RyeSBleHRlbmRzIENvbnRyYWN0IHsKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGJ0b2kKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NTEyCiAgICAvLyBjaGFuZ2VWYWxpZGF0b3JNYW5hZ2VyKHZhbGlkYXRvcklkOiBWYWxpZGF0b3JJZFR5cGUsIG1hbmFnZXI6IEFkZHJlc3MpOiB2b2lkIHsKICAgIGNhbGxzdWIgY2hhbmdlVmFsaWRhdG9yTWFuYWdlcgogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKbWFpbl9hZGRWYWxpZGF0b3Jfcm91dGVAMjQ6CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjQ2MQogICAgLy8gYWRkVmFsaWRhdG9yKG1iclBheW1lbnQ6IGd0eG4uUGF5bWVudFR4biwgbmZkTmFtZTogc3RyaW5nLCBjb25maWc6IFZhbGlkYXRvckNvbmZpZyk6IHVpbnQ2NCB7CiAgICB0eG4gT25Db21wbGV0aW9uCiAgICAhCiAgICBhc3NlcnQgLy8gT25Db21wbGV0aW9uIGlzIG5vdCBOb09wCiAgICB0eG4gQXBwbGljYXRpb25JRAogICAgYXNzZXJ0IC8vIGNhbiBvbmx5IGNhbGwgd2hlbiBub3QgY3JlYXRpbmcKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MjAxCiAgICAvLyBleHBvcnQgY2xhc3MgVmFsaWRhdG9yUmVnaXN0cnkgZXh0ZW5kcyBDb250cmFjdCB7CiAgICB0eG4gR3JvdXBJbmRleAogICAgaW50Y18xIC8vIDEKICAgIC0KICAgIGR1cAogICAgZ3R4bnMgVHlwZUVudW0KICAgIGludGNfMSAvLyBwYXkKICAgID09CiAgICBhc3NlcnQgLy8gdHJhbnNhY3Rpb24gdHlwZSBpcyBwYXkKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGV4dHJhY3QgMiAwCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAyCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjQ2MQogICAgLy8gYWRkVmFsaWRhdG9yKG1iclBheW1lbnQ6IGd0eG4uUGF5bWVudFR4biwgbmZkTmFtZTogc3RyaW5nLCBjb25maWc6IFZhbGlkYXRvckNvbmZpZyk6IHVpbnQ2NCB7CiAgICBjYWxsc3ViIGFkZFZhbGlkYXRvcgogICAgaXRvYgogICAgYnl0ZWNfMSAvLyAweDE1MWY3Yzc1CiAgICBzd2FwCiAgICBjb25jYXQKICAgIGxvZwogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKbWFpbl9nZXRORkRSZWdpc3RyeUlEX3JvdXRlQDIzOgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo0NDkKICAgIC8vIGdldE5GRFJlZ2lzdHJ5SUQoKTogdWludDY0IHsKICAgIHR4biBPbkNvbXBsZXRpb24KICAgICEKICAgIGFzc2VydCAvLyBPbkNvbXBsZXRpb24gaXMgbm90IE5vT3AKICAgIHR4biBBcHBsaWNhdGlvbklECiAgICBhc3NlcnQgLy8gY2FuIG9ubHkgY2FsbCB3aGVuIG5vdCBjcmVhdGluZwogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo0NTAKICAgIC8vIHJldHVybiBUZW1wbGF0ZVZhcjx1aW50NjQ+KCdORkRfUkVHSVNUUllfQVBQX0lEJykKICAgIGludGMgMTAgLy8gVE1QTF9ORkRfUkVHSVNUUllfQVBQX0lECiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjQ0OQogICAgLy8gZ2V0TkZEUmVnaXN0cnlJRCgpOiB1aW50NjQgewogICAgaXRvYgogICAgYnl0ZWNfMSAvLyAweDE1MWY3Yzc1CiAgICBzd2FwCiAgICBjb25jYXQKICAgIGxvZwogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKbWFpbl9nZXROb2RlUG9vbEFzc2lnbm1lbnRzX3JvdXRlQDIyOgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo0NDMKICAgIC8vIGdldE5vZGVQb29sQXNzaWdubWVudHModmFsaWRhdG9ySWQ6IHVpbnQ2NCk6IE5vZGVQb29sQXNzaWdubWVudENvbmZpZyB7CiAgICB0eG4gT25Db21wbGV0aW9uCiAgICAhCiAgICBhc3NlcnQgLy8gT25Db21wbGV0aW9uIGlzIG5vdCBOb09wCiAgICB0eG4gQXBwbGljYXRpb25JRAogICAgYXNzZXJ0IC8vIGNhbiBvbmx5IGNhbGwgd2hlbiBub3QgY3JlYXRpbmcKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MjAxCiAgICAvLyBleHBvcnQgY2xhc3MgVmFsaWRhdG9yUmVnaXN0cnkgZXh0ZW5kcyBDb250cmFjdCB7CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBidG9pCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjQ0MwogICAgLy8gZ2V0Tm9kZVBvb2xBc3NpZ25tZW50cyh2YWxpZGF0b3JJZDogdWludDY0KTogTm9kZVBvb2xBc3NpZ25tZW50Q29uZmlnIHsKICAgIGNhbGxzdWIgZ2V0Tm9kZVBvb2xBc3NpZ25tZW50cwogICAgYnl0ZWNfMSAvLyAweDE1MWY3Yzc1CiAgICBzd2FwCiAgICBjb25jYXQKICAgIGxvZwogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKbWFpbl9nZXRUb2tlblBheW91dFJhdGlvX3JvdXRlQDIxOgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo0MzgKICAgIC8vIGdldFRva2VuUGF5b3V0UmF0aW8odmFsaWRhdG9ySWQ6IFZhbGlkYXRvcklkVHlwZSk6IFBvb2xUb2tlblBheW91dFJhdGlvIHsKICAgIHR4biBPbkNvbXBsZXRpb24KICAgICEKICAgIGFzc2VydCAvLyBPbkNvbXBsZXRpb24gaXMgbm90IE5vT3AKICAgIHR4biBBcHBsaWNhdGlvbklECiAgICBhc3NlcnQgLy8gY2FuIG9ubHkgY2FsbCB3aGVuIG5vdCBjcmVhdGluZwogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoyMDEKICAgIC8vIGV4cG9ydCBjbGFzcyBWYWxpZGF0b3JSZWdpc3RyeSBleHRlbmRzIENvbnRyYWN0IHsKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGJ0b2kKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NDM4CiAgICAvLyBnZXRUb2tlblBheW91dFJhdGlvKHZhbGlkYXRvcklkOiBWYWxpZGF0b3JJZFR5cGUpOiBQb29sVG9rZW5QYXlvdXRSYXRpbyB7CiAgICBjYWxsc3ViIGdldFRva2VuUGF5b3V0UmF0aW8KICAgIGJ5dGVjXzEgLy8gMHgxNTFmN2M3NQogICAgc3dhcAogICAgY29uY2F0CiAgICBsb2cKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCm1haW5fZ2V0U3Rha2VkUG9vbHNGb3JBY2NvdW50X3JvdXRlQDIwOgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo0MTYKICAgIC8vIGdldFN0YWtlZFBvb2xzRm9yQWNjb3VudChzdGFrZXI6IEFkZHJlc3MpOiBWYWxpZGF0b3JQb29sS2V5W10gewogICAgdHhuIE9uQ29tcGxldGlvbgogICAgIQogICAgYXNzZXJ0IC8vIE9uQ29tcGxldGlvbiBpcyBub3QgTm9PcAogICAgdHhuIEFwcGxpY2F0aW9uSUQKICAgIGFzc2VydCAvLyBjYW4gb25seSBjYWxsIHdoZW4gbm90IGNyZWF0aW5nCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjIwMQogICAgLy8gZXhwb3J0IGNsYXNzIFZhbGlkYXRvclJlZ2lzdHJ5IGV4dGVuZHMgQ29udHJhY3QgewogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo0MTYKICAgIC8vIGdldFN0YWtlZFBvb2xzRm9yQWNjb3VudChzdGFrZXI6IEFkZHJlc3MpOiBWYWxpZGF0b3JQb29sS2V5W10gewogICAgY2FsbHN1YiBnZXRTdGFrZWRQb29sc0ZvckFjY291bnQKICAgIGJ5dGVjXzEgLy8gMHgxNTFmN2M3NQogICAgc3dhcAogICAgY29uY2F0CiAgICBsb2cKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCm1haW5fZG9lc1N0YWtlck5lZWRUb1BheU1CUl9yb3V0ZUAxOToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NDA2CiAgICAvLyBkb2VzU3Rha2VyTmVlZFRvUGF5TUJSKHN0YWtlcjogQWRkcmVzcyk6IGJvb2xlYW4gewogICAgdHhuIE9uQ29tcGxldGlvbgogICAgIQogICAgYXNzZXJ0IC8vIE9uQ29tcGxldGlvbiBpcyBub3QgTm9PcAogICAgdHhuIEFwcGxpY2F0aW9uSUQKICAgIGFzc2VydCAvLyBjYW4gb25seSBjYWxsIHdoZW4gbm90IGNyZWF0aW5nCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjIwMQogICAgLy8gZXhwb3J0IGNsYXNzIFZhbGlkYXRvclJlZ2lzdHJ5IGV4dGVuZHMgQ29udHJhY3QgewogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo0MDYKICAgIC8vIGRvZXNTdGFrZXJOZWVkVG9QYXlNQlIoc3Rha2VyOiBBZGRyZXNzKTogYm9vbGVhbiB7CiAgICBjYWxsc3ViIGRvZXNTdGFrZXJOZWVkVG9QYXlNQlIKICAgIGJ5dGVjIDYgLy8gMHgwMAogICAgaW50Y18wIC8vIDAKICAgIHVuY292ZXIgMgogICAgc2V0Yml0CiAgICBieXRlY18xIC8vIDB4MTUxZjdjNzUKICAgIHN3YXAKICAgIGNvbmNhdAogICAgbG9nCiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgptYWluX2dldEN1ck1heFN0YWtlUGVyUG9vbF9yb3V0ZUAxODoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6Mzg4CiAgICAvLyBnZXRDdXJNYXhTdGFrZVBlclBvb2wodmFsaWRhdG9ySWQ6IFZhbGlkYXRvcklkVHlwZSk6IHVpbnQ2NCB7CiAgICB0eG4gT25Db21wbGV0aW9uCiAgICAhCiAgICBhc3NlcnQgLy8gT25Db21wbGV0aW9uIGlzIG5vdCBOb09wCiAgICB0eG4gQXBwbGljYXRpb25JRAogICAgYXNzZXJ0IC8vIGNhbiBvbmx5IGNhbGwgd2hlbiBub3QgY3JlYXRpbmcKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MjAxCiAgICAvLyBleHBvcnQgY2xhc3MgVmFsaWRhdG9yUmVnaXN0cnkgZXh0ZW5kcyBDb250cmFjdCB7CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBidG9pCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjM4OAogICAgLy8gZ2V0Q3VyTWF4U3Rha2VQZXJQb29sKHZhbGlkYXRvcklkOiBWYWxpZGF0b3JJZFR5cGUpOiB1aW50NjQgewogICAgY2FsbHN1YiBnZXRDdXJNYXhTdGFrZVBlclBvb2wKICAgIGl0b2IKICAgIGJ5dGVjXzEgLy8gMHgxNTFmN2M3NQogICAgc3dhcAogICAgY29uY2F0CiAgICBsb2cKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCm1haW5fZ2V0UG9vbEluZm9fcm91dGVAMTc6CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjM3NwogICAgLy8gZ2V0UG9vbEluZm8ocG9vbEtleTogVmFsaWRhdG9yUG9vbEtleSk6IFBvb2xJbmZvIHsKICAgIHR4biBPbkNvbXBsZXRpb24KICAgICEKICAgIGFzc2VydCAvLyBPbkNvbXBsZXRpb24gaXMgbm90IE5vT3AKICAgIHR4biBBcHBsaWNhdGlvbklECiAgICBhc3NlcnQgLy8gY2FuIG9ubHkgY2FsbCB3aGVuIG5vdCBjcmVhdGluZwogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoyMDEKICAgIC8vIGV4cG9ydCBjbGFzcyBWYWxpZGF0b3JSZWdpc3RyeSBleHRlbmRzIENvbnRyYWN0IHsKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6Mzc3CiAgICAvLyBnZXRQb29sSW5mbyhwb29sS2V5OiBWYWxpZGF0b3JQb29sS2V5KTogUG9vbEluZm8gewogICAgY2FsbHN1YiBnZXRQb29sSW5mbwogICAgYnl0ZWNfMSAvLyAweDE1MWY3Yzc1CiAgICBzd2FwCiAgICBjb25jYXQKICAgIGxvZwogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKbWFpbl9nZXRQb29sQXBwSWRfcm91dGVAMTY6CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjM2OAogICAgLy8gZ2V0UG9vbEFwcElkKHZhbGlkYXRvcklkOiB1aW50NjQsIHBvb2xJZDogdWludDY0KTogdWludDY0IHsKICAgIHR4biBPbkNvbXBsZXRpb24KICAgICEKICAgIGFzc2VydCAvLyBPbkNvbXBsZXRpb24gaXMgbm90IE5vT3AKICAgIHR4biBBcHBsaWNhdGlvbklECiAgICBhc3NlcnQgLy8gY2FuIG9ubHkgY2FsbCB3aGVuIG5vdCBjcmVhdGluZwogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoyMDEKICAgIC8vIGV4cG9ydCBjbGFzcyBWYWxpZGF0b3JSZWdpc3RyeSBleHRlbmRzIENvbnRyYWN0IHsKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGJ0b2kKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDIKICAgIGJ0b2kKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MzY4CiAgICAvLyBnZXRQb29sQXBwSWQodmFsaWRhdG9ySWQ6IHVpbnQ2NCwgcG9vbElkOiB1aW50NjQpOiB1aW50NjQgewogICAgY2FsbHN1YiBnZXRQb29sQXBwSWQKICAgIGl0b2IKICAgIGJ5dGVjXzEgLy8gMHgxNTFmN2M3NQogICAgc3dhcAogICAgY29uY2F0CiAgICBsb2cKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCm1haW5fZ2V0UG9vbHNfcm91dGVAMTU6CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjM1MQogICAgLy8gZ2V0UG9vbHModmFsaWRhdG9ySWQ6IFZhbGlkYXRvcklkVHlwZSk6IFBvb2xJbmZvW10gewogICAgdHhuIE9uQ29tcGxldGlvbgogICAgIQogICAgYXNzZXJ0IC8vIE9uQ29tcGxldGlvbiBpcyBub3QgTm9PcAogICAgdHhuIEFwcGxpY2F0aW9uSUQKICAgIGFzc2VydCAvLyBjYW4gb25seSBjYWxsIHdoZW4gbm90IGNyZWF0aW5nCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjIwMQogICAgLy8gZXhwb3J0IGNsYXNzIFZhbGlkYXRvclJlZ2lzdHJ5IGV4dGVuZHMgQ29udHJhY3QgewogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgYnRvaQogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czozNTEKICAgIC8vIGdldFBvb2xzKHZhbGlkYXRvcklkOiBWYWxpZGF0b3JJZFR5cGUpOiBQb29sSW5mb1tdIHsKICAgIGNhbGxzdWIgZ2V0UG9vbHMKICAgIGJ5dGVjXzEgLy8gMHgxNTFmN2M3NQogICAgc3dhcAogICAgY29uY2F0CiAgICBsb2cKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCm1haW5fZ2V0VmFsaWRhdG9yT3duZXJBbmRNYW5hZ2VyX3JvdXRlQDE0OgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czozNDAKICAgIC8vIGdldFZhbGlkYXRvck93bmVyQW5kTWFuYWdlcih2YWxpZGF0b3JJZDogVmFsaWRhdG9ySWRUeXBlKTogW0FkZHJlc3MsIEFkZHJlc3NdIHsKICAgIHR4biBPbkNvbXBsZXRpb24KICAgICEKICAgIGFzc2VydCAvLyBPbkNvbXBsZXRpb24gaXMgbm90IE5vT3AKICAgIHR4biBBcHBsaWNhdGlvbklECiAgICBhc3NlcnQgLy8gY2FuIG9ubHkgY2FsbCB3aGVuIG5vdCBjcmVhdGluZwogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoyMDEKICAgIC8vIGV4cG9ydCBjbGFzcyBWYWxpZGF0b3JSZWdpc3RyeSBleHRlbmRzIENvbnRyYWN0IHsKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGJ0b2kKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MzQwCiAgICAvLyBnZXRWYWxpZGF0b3JPd25lckFuZE1hbmFnZXIodmFsaWRhdG9ySWQ6IFZhbGlkYXRvcklkVHlwZSk6IFtBZGRyZXNzLCBBZGRyZXNzXSB7CiAgICBjYWxsc3ViIGdldFZhbGlkYXRvck93bmVyQW5kTWFuYWdlcgogICAgYnl0ZWNfMSAvLyAweDE1MWY3Yzc1CiAgICBzd2FwCiAgICBjb25jYXQKICAgIGxvZwogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKbWFpbl9nZXRWYWxpZGF0b3JTdGF0ZV9yb3V0ZUAxMzoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MzM1CiAgICAvLyBnZXRWYWxpZGF0b3JTdGF0ZSh2YWxpZGF0b3JJZDogVmFsaWRhdG9ySWRUeXBlKTogVmFsaWRhdG9yQ3VyU3RhdGUgewogICAgdHhuIE9uQ29tcGxldGlvbgogICAgIQogICAgYXNzZXJ0IC8vIE9uQ29tcGxldGlvbiBpcyBub3QgTm9PcAogICAgdHhuIEFwcGxpY2F0aW9uSUQKICAgIGFzc2VydCAvLyBjYW4gb25seSBjYWxsIHdoZW4gbm90IGNyZWF0aW5nCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjIwMQogICAgLy8gZXhwb3J0IGNsYXNzIFZhbGlkYXRvclJlZ2lzdHJ5IGV4dGVuZHMgQ29udHJhY3QgewogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgYnRvaQogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czozMzUKICAgIC8vIGdldFZhbGlkYXRvclN0YXRlKHZhbGlkYXRvcklkOiBWYWxpZGF0b3JJZFR5cGUpOiBWYWxpZGF0b3JDdXJTdGF0ZSB7CiAgICBjYWxsc3ViIGdldFZhbGlkYXRvclN0YXRlCiAgICBieXRlY18xIC8vIDB4MTUxZjdjNzUKICAgIHN3YXAKICAgIGNvbmNhdAogICAgbG9nCiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgptYWluX2dldFZhbGlkYXRvckNvbmZpZ19yb3V0ZUAxMjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MzMwCiAgICAvLyBnZXRWYWxpZGF0b3JDb25maWcodmFsaWRhdG9ySWQ6IFZhbGlkYXRvcklkVHlwZSk6IFZhbGlkYXRvckNvbmZpZyB7CiAgICB0eG4gT25Db21wbGV0aW9uCiAgICAhCiAgICBhc3NlcnQgLy8gT25Db21wbGV0aW9uIGlzIG5vdCBOb09wCiAgICB0eG4gQXBwbGljYXRpb25JRAogICAgYXNzZXJ0IC8vIGNhbiBvbmx5IGNhbGwgd2hlbiBub3QgY3JlYXRpbmcKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MjAxCiAgICAvLyBleHBvcnQgY2xhc3MgVmFsaWRhdG9yUmVnaXN0cnkgZXh0ZW5kcyBDb250cmFjdCB7CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBidG9pCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjMzMAogICAgLy8gZ2V0VmFsaWRhdG9yQ29uZmlnKHZhbGlkYXRvcklkOiBWYWxpZGF0b3JJZFR5cGUpOiBWYWxpZGF0b3JDb25maWcgewogICAgY2FsbHN1YiBnZXRWYWxpZGF0b3JDb25maWcKICAgIGJ5dGVjXzEgLy8gMHgxNTFmN2M3NQogICAgc3dhcAogICAgY29uY2F0CiAgICBsb2cKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCm1haW5fZ2V0TnVtVmFsaWRhdG9yc19yb3V0ZUAxMToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MzI1CiAgICAvLyBnZXROdW1WYWxpZGF0b3JzKCk6IHVpbnQ2NCB7CiAgICB0eG4gT25Db21wbGV0aW9uCiAgICAhCiAgICBhc3NlcnQgLy8gT25Db21wbGV0aW9uIGlzIG5vdCBOb09wCiAgICB0eG4gQXBwbGljYXRpb25JRAogICAgYXNzZXJ0IC8vIGNhbiBvbmx5IGNhbGwgd2hlbiBub3QgY3JlYXRpbmcKICAgIGNhbGxzdWIgZ2V0TnVtVmFsaWRhdG9ycwogICAgaXRvYgogICAgYnl0ZWNfMSAvLyAweDE1MWY3Yzc1CiAgICBzd2FwCiAgICBjb25jYXQKICAgIGxvZwogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKbWFpbl9nZXRQcm90b2NvbENvbnN0cmFpbnRzX3JvdXRlQDEwOgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czozMDUKICAgIC8vIGdldFByb3RvY29sQ29uc3RyYWludHMoKTogQ29uc3RyYWludHMgewogICAgdHhuIE9uQ29tcGxldGlvbgogICAgIQogICAgYXNzZXJ0IC8vIE9uQ29tcGxldGlvbiBpcyBub3QgTm9PcAogICAgdHhuIEFwcGxpY2F0aW9uSUQKICAgIGFzc2VydCAvLyBjYW4gb25seSBjYWxsIHdoZW4gbm90IGNyZWF0aW5nCiAgICBwdXNoYnl0ZXMgMHgxNTFmN2M3NTAwMDAwMDAwMDAwMDAwMDEwMDAwMDAwMDAwMGY0MjQwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwZjQyNDAwMDAwMDAwMDAwMGY0MjQwMDAwMDNmYWEyNTIyNjAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwODAwMDAwMDAwMDAwMDAwMDMwMDAwMDAwMDAwMDAwMGM4CiAgICBsb2cKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCm1haW5fZ2V0TWJyQW1vdW50c19yb3V0ZUA5OgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoyNzgKICAgIC8vIGdldE1ickFtb3VudHMoKTogTWJyQW1vdW50cyB7CiAgICB0eG4gT25Db21wbGV0aW9uCiAgICAhCiAgICBhc3NlcnQgLy8gT25Db21wbGV0aW9uIGlzIG5vdCBOb09wCiAgICB0eG4gQXBwbGljYXRpb25JRAogICAgYXNzZXJ0IC8vIGNhbiBvbmx5IGNhbGwgd2hlbiBub3QgY3JlYXRpbmcKICAgIHB1c2hieXRlcyAweDE1MWY3Yzc1MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwZWIzYWMwMDAwMDAwMDAwMDE5YjU0MDAwMDAwMDAwMDAwMGU3NAogICAgbG9nCiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgptYWluX2dhc19yb3V0ZUA4OgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoyNjcKICAgIC8vIGdhcygpOiB2b2lkIHt9CiAgICB0eG4gT25Db21wbGV0aW9uCiAgICAhCiAgICBhc3NlcnQgLy8gT25Db21wbGV0aW9uIGlzIG5vdCBOb09wCiAgICB0eG4gQXBwbGljYXRpb25JRAogICAgYXNzZXJ0IC8vIGNhbiBvbmx5IGNhbGwgd2hlbiBub3QgY3JlYXRpbmcKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCm1haW5fZmluYWxpemVTdGFraW5nQ29udHJhY3Rfcm91dGVANzoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MjYwCiAgICAvLyBmaW5hbGl6ZVN0YWtpbmdDb250cmFjdCgpOiB2b2lkIHsKICAgIHR4biBPbkNvbXBsZXRpb24KICAgICEKICAgIGFzc2VydCAvLyBPbkNvbXBsZXRpb24gaXMgbm90IE5vT3AKICAgIHR4biBBcHBsaWNhdGlvbklECiAgICBhc3NlcnQgLy8gY2FuIG9ubHkgY2FsbCB3aGVuIG5vdCBjcmVhdGluZwogICAgY2FsbHN1YiBmaW5hbGl6ZVN0YWtpbmdDb250cmFjdAogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKbWFpbl9sb2FkU3Rha2luZ0NvbnRyYWN0RGF0YV9yb3V0ZUA2OgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoyNTUKICAgIC8vIGxvYWRTdGFraW5nQ29udHJhY3REYXRhKG9mZnNldDogdWludDY0LCBkYXRhOiBieXRlcyk6IHZvaWQgewogICAgdHhuIE9uQ29tcGxldGlvbgogICAgIQogICAgYXNzZXJ0IC8vIE9uQ29tcGxldGlvbiBpcyBub3QgTm9PcAogICAgdHhuIEFwcGxpY2F0aW9uSUQKICAgIGFzc2VydCAvLyBjYW4gb25seSBjYWxsIHdoZW4gbm90IGNyZWF0aW5nCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjIwMQogICAgLy8gZXhwb3J0IGNsYXNzIFZhbGlkYXRvclJlZ2lzdHJ5IGV4dGVuZHMgQ29udHJhY3QgewogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgYnRvaQogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMgogICAgZXh0cmFjdCAyIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MjU1CiAgICAvLyBsb2FkU3Rha2luZ0NvbnRyYWN0RGF0YShvZmZzZXQ6IHVpbnQ2NCwgZGF0YTogYnl0ZXMpOiB2b2lkIHsKICAgIGNhbGxzdWIgbG9hZFN0YWtpbmdDb250cmFjdERhdGEKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCm1haW5faW5pdFN0YWtpbmdDb250cmFjdF9yb3V0ZUA1OgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoyNTAKICAgIC8vIGluaXRTdGFraW5nQ29udHJhY3QoYXBwcm92YWxQcm9ncmFtU2l6ZTogdWludDY0KTogdm9pZCB7CiAgICB0eG4gT25Db21wbGV0aW9uCiAgICAhCiAgICBhc3NlcnQgLy8gT25Db21wbGV0aW9uIGlzIG5vdCBOb09wCiAgICB0eG4gQXBwbGljYXRpb25JRAogICAgYXNzZXJ0IC8vIGNhbiBvbmx5IGNhbGwgd2hlbiBub3QgY3JlYXRpbmcKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MjAxCiAgICAvLyBleHBvcnQgY2xhc3MgVmFsaWRhdG9yUmVnaXN0cnkgZXh0ZW5kcyBDb250cmFjdCB7CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBidG9pCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjI1MAogICAgLy8gaW5pdFN0YWtpbmdDb250cmFjdChhcHByb3ZhbFByb2dyYW1TaXplOiB1aW50NjQpOiB2b2lkIHsKICAgIGNhbGxzdWIgaW5pdFN0YWtpbmdDb250cmFjdAogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKbWFpbl9jcmVhdGVBcHBsaWNhdGlvbl9yb3V0ZUA0OgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoyNDIKICAgIC8vIGNyZWF0ZUFwcGxpY2F0aW9uKCk6IHZvaWQgewogICAgdHhuIE9uQ29tcGxldGlvbgogICAgIQogICAgYXNzZXJ0IC8vIE9uQ29tcGxldGlvbiBpcyBub3QgTm9PcAogICAgdHhuIEFwcGxpY2F0aW9uSUQKICAgICEKICAgIGFzc2VydCAvLyBjYW4gb25seSBjYWxsIHdoZW4gY3JlYXRpbmcKICAgIGNhbGxzdWIgY3JlYXRlQXBwbGljYXRpb24KICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCm1haW5fdXBkYXRlQXBwbGljYXRpb25fcm91dGVAMzoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MjMyCiAgICAvLyB1cGRhdGVBcHBsaWNhdGlvbigpOiB2b2lkIHsKICAgIHR4biBPbkNvbXBsZXRpb24KICAgIHB1c2hpbnQgNCAvLyBVcGRhdGVBcHBsaWNhdGlvbgogICAgPT0KICAgIGFzc2VydCAvLyBPbkNvbXBsZXRpb24gaXMgbm90IFVwZGF0ZUFwcGxpY2F0aW9uCiAgICB0eG4gQXBwbGljYXRpb25JRAogICAgYXNzZXJ0IC8vIGNhbiBvbmx5IGNhbGwgd2hlbiBub3QgY3JlYXRpbmcKICAgIGNhbGxzdWIgdXBkYXRlQXBwbGljYXRpb24KICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCgovLyBfcHV5YV9saWIudXRpbC5lbnN1cmVfYnVkZ2V0KHJlcXVpcmVkX2J1ZGdldDogdWludDY0LCBmZWVfc291cmNlOiB1aW50NjQpIC0+IHZvaWQ6CmVuc3VyZV9idWRnZXQ6CiAgICBwcm90byAyIDAKICAgIGZyYW1lX2RpZyAtMgogICAgcHVzaGludCAxMCAvLyAxMAogICAgKwoKZW5zdXJlX2J1ZGdldF93aGlsZV90b3BAMToKICAgIGZyYW1lX2RpZyAwCiAgICBnbG9iYWwgT3Bjb2RlQnVkZ2V0CiAgICA+CiAgICBieiBlbnN1cmVfYnVkZ2V0X2FmdGVyX3doaWxlQDcKICAgIGl0eG5fYmVnaW4KICAgIHB1c2hpbnQgNiAvLyBhcHBsCiAgICBpdHhuX2ZpZWxkIFR5cGVFbnVtCiAgICBwdXNoaW50IDUgLy8gRGVsZXRlQXBwbGljYXRpb24KICAgIGl0eG5fZmllbGQgT25Db21wbGV0aW9uCiAgICBieXRlYyAxMyAvLyAweDA2ODEwMQogICAgaXR4bl9maWVsZCBBcHByb3ZhbFByb2dyYW0KICAgIGJ5dGVjIDEzIC8vIDB4MDY4MTAxCiAgICBpdHhuX2ZpZWxkIENsZWFyU3RhdGVQcm9ncmFtCiAgICBmcmFtZV9kaWcgLTEKICAgIHN3aXRjaCBlbnN1cmVfYnVkZ2V0X3N3aXRjaF9jYXNlXzBAMyBlbnN1cmVfYnVkZ2V0X3N3aXRjaF9jYXNlXzFANAoKZW5zdXJlX2J1ZGdldF9zd2l0Y2hfY2FzZV9uZXh0QDY6CiAgICBpdHhuX3N1Ym1pdAogICAgYiBlbnN1cmVfYnVkZ2V0X3doaWxlX3RvcEAxCgplbnN1cmVfYnVkZ2V0X3N3aXRjaF9jYXNlXzFANDoKICAgIGdsb2JhbCBNaW5UeG5GZWUKICAgIGl0eG5fZmllbGQgRmVlCiAgICBiIGVuc3VyZV9idWRnZXRfc3dpdGNoX2Nhc2VfbmV4dEA2CgplbnN1cmVfYnVkZ2V0X3N3aXRjaF9jYXNlXzBAMzoKICAgIGludGNfMCAvLyAwCiAgICBpdHhuX2ZpZWxkIEZlZQogICAgYiBlbnN1cmVfYnVkZ2V0X3N3aXRjaF9jYXNlX25leHRANgoKZW5zdXJlX2J1ZGdldF9hZnRlcl93aGlsZUA3OgogICAgcmV0c3ViCgoKLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo6VmFsaWRhdG9yUmVnaXN0cnkudXBkYXRlQXBwbGljYXRpb24oKSAtPiB2b2lkOgp1cGRhdGVBcHBsaWNhdGlvbjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MjM0CiAgICAvLyBUeG4uc2VuZGVyID09PSBBY2NvdW50KCdMWjRWMklSVkxDWEZKSzRSRUpWNFRBR0VLRVlUQTJHTVI2VEMyMzQ0T0IzTDNBRjNNV1haNlpBRklRJyksCiAgICB0eG4gU2VuZGVyCiAgICBwdXNoYnl0ZXMgYmFzZTMyKExaNFYySVJWTENYRkpLNFJFSlY0VEFHRUtFWVRBMkdNUjZUQzIzNDRPQjNMM0FGM01XWFEpIC8vIGFkZHIgTFo0VjJJUlZMQ1hGSks0UkVKVjRUQUdFS0VZVEEyR01SNlRDMjM0NE9CM0wzQUYzTVdYWjZaQUZJUQogICAgPT0KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MjMzLTIzNgogICAgLy8gYXNzZXJ0KAogICAgLy8gICBUeG4uc2VuZGVyID09PSBBY2NvdW50KCdMWjRWMklSVkxDWEZKSzRSRUpWNFRBR0VLRVlUQTJHTVI2VEMyMzQ0T0IzTDNBRjNNV1haNlpBRklRJyksCiAgICAvLyAgICdUZW1wb3Jhcnk6IGNvbnRyYWN0IGlzIHVwZ3JhZGVhYmxlIGJ1dCBvbmx5IGR1cmluZyB0ZXN0aW5nIGFuZCBvbmx5IGZyb20gYSBkZXZlbG9wbWVudCBhY2NvdW50JywKICAgIC8vICkKICAgIGFzc2VydCAvLyBUZW1wb3Jhcnk6IGNvbnRyYWN0IGlzIHVwZ3JhZGVhYmxlIGJ1dCBvbmx5IGR1cmluZyB0ZXN0aW5nIGFuZCBvbmx5IGZyb20gYSBkZXZlbG9wbWVudCBhY2NvdW50CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjIwNwogICAgLy8gc3Rha2luZ1Bvb2xBcHByb3ZhbFByb2dyYW0gPSBCb3g8Ynl0ZXM+KHsga2V5OiAncG9vbFRlbXBsYXRlQXBwcm92YWxCeXRlcycgfSkKICAgIGJ5dGVjIDQgLy8gInBvb2xUZW1wbGF0ZUFwcHJvdmFsQnl0ZXMiCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjIzOAogICAgLy8gdGhpcy5zdGFraW5nUG9vbEFwcHJvdmFsUHJvZ3JhbS5kZWxldGUoKQogICAgYm94X2RlbAogICAgcG9wCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjIwOQogICAgLy8gc3Rha2luZ1Bvb2xJbml0aWFsaXplZCA9IEdsb2JhbFN0YXRlPGJvb2xlYW4+KHsga2V5OiAnaW5pdCcgfSkKICAgIGJ5dGVjIDggLy8gImluaXQiCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjIzOQogICAgLy8gdGhpcy5zdGFraW5nUG9vbEluaXRpYWxpemVkLnZhbHVlID0gZmFsc2UKICAgIGludGNfMCAvLyAwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgcmV0c3ViCgoKLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo6VmFsaWRhdG9yUmVnaXN0cnkuY3JlYXRlQXBwbGljYXRpb24oKSAtPiB2b2lkOgpjcmVhdGVBcHBsaWNhdGlvbjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MjA5CiAgICAvLyBzdGFraW5nUG9vbEluaXRpYWxpemVkID0gR2xvYmFsU3RhdGU8Ym9vbGVhbj4oeyBrZXk6ICdpbml0JyB9KQogICAgYnl0ZWMgOCAvLyAiaW5pdCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MjQzCiAgICAvLyB0aGlzLnN0YWtpbmdQb29sSW5pdGlhbGl6ZWQudmFsdWUgPSBmYWxzZQogICAgaW50Y18wIC8vIDAKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjIxMQogICAgLy8gbnVtVmFsaWRhdG9ycyA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oeyBrZXk6ICdudW1WJyB9KQogICAgYnl0ZWMgOSAvLyAibnVtViIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MjQ0CiAgICAvLyB0aGlzLm51bVZhbGlkYXRvcnMudmFsdWUgPSAwCiAgICBpbnRjXzAgLy8gMAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MjE0CiAgICAvLyBudW1TdGFrZXJzID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGtleTogJ251bVN0YWtlcnMnIH0pCiAgICBieXRlYyA1IC8vICJudW1TdGFrZXJzIgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoyNDUKICAgIC8vIHRoaXMubnVtU3Rha2Vycy52YWx1ZSA9IDAKICAgIGludGNfMCAvLyAwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoyMTcKICAgIC8vIHRvdGFsQWxnb1N0YWtlZCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oeyBrZXk6ICdzdGFrZWQnIH0pCiAgICBieXRlY18zIC8vICJzdGFrZWQiCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjI0NgogICAgLy8gdGhpcy50b3RhbEFsZ29TdGFrZWQudmFsdWUgPSAwCiAgICBpbnRjXzAgLy8gMAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MjAyCiAgICAvLyBwcm9ncmFtVmVyc2lvbiA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oeyBrZXk6ICdwcm9ncmFtVmVyc2lvbicgfSkKICAgIHB1c2hieXRlcyAicHJvZ3JhbVZlcnNpb24iCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjI0NwogICAgLy8gdGhpcy5wcm9ncmFtVmVyc2lvbi52YWx1ZSA9IDEwCiAgICBwdXNoaW50IDEwIC8vIDEwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgcmV0c3ViCgoKLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo6VmFsaWRhdG9yUmVnaXN0cnkuaW5pdFN0YWtpbmdDb250cmFjdChhcHByb3ZhbFByb2dyYW1TaXplOiB1aW50NjQpIC0+IHZvaWQ6CmluaXRTdGFraW5nQ29udHJhY3Q6CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjI1MAogICAgLy8gaW5pdFN0YWtpbmdDb250cmFjdChhcHByb3ZhbFByb2dyYW1TaXplOiB1aW50NjQpOiB2b2lkIHsKICAgIHByb3RvIDEgMAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoyMDcKICAgIC8vIHN0YWtpbmdQb29sQXBwcm92YWxQcm9ncmFtID0gQm94PGJ5dGVzPih7IGtleTogJ3Bvb2xUZW1wbGF0ZUFwcHJvdmFsQnl0ZXMnIH0pCiAgICBieXRlYyA0IC8vICJwb29sVGVtcGxhdGVBcHByb3ZhbEJ5dGVzIgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoyNTIKICAgIC8vIHRoaXMuc3Rha2luZ1Bvb2xBcHByb3ZhbFByb2dyYW0uY3JlYXRlKHsgc2l6ZTogYXBwcm92YWxQcm9ncmFtU2l6ZSB9KQogICAgZnJhbWVfZGlnIC0xCiAgICBib3hfY3JlYXRlCiAgICBwb3AKICAgIHJldHN1YgoKCi8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OlZhbGlkYXRvclJlZ2lzdHJ5LmxvYWRTdGFraW5nQ29udHJhY3REYXRhKG9mZnNldDogdWludDY0LCBkYXRhOiBieXRlcykgLT4gdm9pZDoKbG9hZFN0YWtpbmdDb250cmFjdERhdGE6CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjI1NQogICAgLy8gbG9hZFN0YWtpbmdDb250cmFjdERhdGEob2Zmc2V0OiB1aW50NjQsIGRhdGE6IGJ5dGVzKTogdm9pZCB7CiAgICBwcm90byAyIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MjU2CiAgICAvLyBhc3NlcnQoIXRoaXMuc3Rha2luZ1Bvb2xJbml0aWFsaXplZC52YWx1ZSwgJ3N0YWtpbmcgcG9vbCBhbHJlYWR5IGluaXRpYWxpemVkJykKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjIwOQogICAgLy8gc3Rha2luZ1Bvb2xJbml0aWFsaXplZCA9IEdsb2JhbFN0YXRlPGJvb2xlYW4+KHsga2V5OiAnaW5pdCcgfSkKICAgIGJ5dGVjIDggLy8gImluaXQiCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjI1NgogICAgLy8gYXNzZXJ0KCF0aGlzLnN0YWtpbmdQb29sSW5pdGlhbGl6ZWQudmFsdWUsICdzdGFraW5nIHBvb2wgYWxyZWFkeSBpbml0aWFsaXplZCcpCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgIQogICAgYXNzZXJ0IC8vIHN0YWtpbmcgcG9vbCBhbHJlYWR5IGluaXRpYWxpemVkCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjIwNwogICAgLy8gc3Rha2luZ1Bvb2xBcHByb3ZhbFByb2dyYW0gPSBCb3g8Ynl0ZXM+KHsga2V5OiAncG9vbFRlbXBsYXRlQXBwcm92YWxCeXRlcycgfSkKICAgIGJ5dGVjIDQgLy8gInBvb2xUZW1wbGF0ZUFwcHJvdmFsQnl0ZXMiCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjI1NwogICAgLy8gdGhpcy5zdGFraW5nUG9vbEFwcHJvdmFsUHJvZ3JhbS5yZWYucmVwbGFjZShvZmZzZXQsIGRhdGEpCiAgICBmcmFtZV9kaWcgLTIKICAgIGZyYW1lX2RpZyAtMQogICAgYm94X3JlcGxhY2UKICAgIHJldHN1YgoKCi8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OlZhbGlkYXRvclJlZ2lzdHJ5LmZpbmFsaXplU3Rha2luZ0NvbnRyYWN0KCkgLT4gdm9pZDoKZmluYWxpemVTdGFraW5nQ29udHJhY3Q6CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjIwOQogICAgLy8gc3Rha2luZ1Bvb2xJbml0aWFsaXplZCA9IEdsb2JhbFN0YXRlPGJvb2xlYW4+KHsga2V5OiAnaW5pdCcgfSkKICAgIGJ5dGVjIDggLy8gImluaXQiCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjI2MQogICAgLy8gdGhpcy5zdGFraW5nUG9vbEluaXRpYWxpemVkLnZhbHVlID0gdHJ1ZQogICAgaW50Y18xIC8vIDEKICAgIGFwcF9nbG9iYWxfcHV0CiAgICByZXRzdWIKCgovLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjpWYWxpZGF0b3JSZWdpc3RyeS5nZXROdW1WYWxpZGF0b3JzKCkgLT4gdWludDY0OgpnZXROdW1WYWxpZGF0b3JzOgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czozMjYKICAgIC8vIHJldHVybiB0aGlzLm51bVZhbGlkYXRvcnMudmFsdWUKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjIxMQogICAgLy8gbnVtVmFsaWRhdG9ycyA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oeyBrZXk6ICdudW1WJyB9KQogICAgYnl0ZWMgOSAvLyAibnVtViIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MzI2CiAgICAvLyByZXR1cm4gdGhpcy5udW1WYWxpZGF0b3JzLnZhbHVlCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgcmV0c3ViCgoKLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo6VmFsaWRhdG9yUmVnaXN0cnkuZ2V0VmFsaWRhdG9yQ29uZmlnKHZhbGlkYXRvcklkOiB1aW50NjQpIC0+IGJ5dGVzOgpnZXRWYWxpZGF0b3JDb25maWc6CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjMzMAogICAgLy8gZ2V0VmFsaWRhdG9yQ29uZmlnKHZhbGlkYXRvcklkOiBWYWxpZGF0b3JJZFR5cGUpOiBWYWxpZGF0b3JDb25maWcgewogICAgcHJvdG8gMSAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjMzMQogICAgLy8gcmV0dXJuIHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUuY29uZmlnCiAgICBmcmFtZV9kaWcgLTEKICAgIGl0b2IKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MjIxCiAgICAvLyB2YWxpZGF0b3JMaXN0ID0gQm94TWFwPFZhbGlkYXRvcklkVHlwZSwgVmFsaWRhdG9ySW5mbz4oeyBrZXlQcmVmaXg6ICd2JyB9KQogICAgYnl0ZWNfMCAvLyAidiIKICAgIHN3YXAKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czozMzEKICAgIC8vIHJldHVybiB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLmNvbmZpZwogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIGV4dHJhY3QgMCAyNDIKICAgIHJldHN1YgoKCi8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OlZhbGlkYXRvclJlZ2lzdHJ5LmdldFZhbGlkYXRvclN0YXRlKHZhbGlkYXRvcklkOiB1aW50NjQpIC0+IGJ5dGVzOgpnZXRWYWxpZGF0b3JTdGF0ZToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MzM1CiAgICAvLyBnZXRWYWxpZGF0b3JTdGF0ZSh2YWxpZGF0b3JJZDogVmFsaWRhdG9ySWRUeXBlKTogVmFsaWRhdG9yQ3VyU3RhdGUgewogICAgcHJvdG8gMSAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjMzNgogICAgLy8gcmV0dXJuIHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUuc3RhdGUKICAgIGZyYW1lX2RpZyAtMQogICAgaXRvYgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoyMjEKICAgIC8vIHZhbGlkYXRvckxpc3QgPSBCb3hNYXA8VmFsaWRhdG9ySWRUeXBlLCBWYWxpZGF0b3JJbmZvPih7IGtleVByZWZpeDogJ3YnIH0pCiAgICBieXRlY18wIC8vICJ2IgogICAgc3dhcAogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjMzNgogICAgLy8gcmV0dXJuIHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUuc3RhdGUKICAgIGJveF9nZXQKICAgIGFzc2VydCAvLyBCb3ggbXVzdCBoYXZlIHZhbHVlCiAgICBleHRyYWN0IDI0MiAyNgogICAgcmV0c3ViCgoKLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo6VmFsaWRhdG9yUmVnaXN0cnkuZ2V0VmFsaWRhdG9yT3duZXJBbmRNYW5hZ2VyKHZhbGlkYXRvcklkOiB1aW50NjQpIC0+IGJ5dGVzOgpnZXRWYWxpZGF0b3JPd25lckFuZE1hbmFnZXI6CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjM0MAogICAgLy8gZ2V0VmFsaWRhdG9yT3duZXJBbmRNYW5hZ2VyKHZhbGlkYXRvcklkOiBWYWxpZGF0b3JJZFR5cGUpOiBbQWRkcmVzcywgQWRkcmVzc10gewogICAgcHJvdG8gMSAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjM0MQogICAgLy8gcmV0dXJuIFt0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLmNvbmZpZy5vd25lciwgdGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS5jb25maWcubWFuYWdlcl0KICAgIGZyYW1lX2RpZyAtMQogICAgaXRvYgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoyMjEKICAgIC8vIHZhbGlkYXRvckxpc3QgPSBCb3hNYXA8VmFsaWRhdG9ySWRUeXBlLCBWYWxpZGF0b3JJbmZvPih7IGtleVByZWZpeDogJ3YnIH0pCiAgICBieXRlY18wIC8vICJ2IgogICAgc3dhcAogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjM0MQogICAgLy8gcmV0dXJuIFt0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLmNvbmZpZy5vd25lciwgdGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS5jb25maWcubWFuYWdlcl0KICAgIGJveF9nZXQKICAgIGFzc2VydCAvLyBCb3ggbXVzdCBoYXZlIHZhbHVlCiAgICBleHRyYWN0IDAgMjQyCiAgICBkdXAKICAgIGV4dHJhY3QgOCAzMgogICAgc3dhcAogICAgZXh0cmFjdCA0MCAzMgogICAgY29uY2F0CiAgICByZXRzdWIKCgovLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjpWYWxpZGF0b3JSZWdpc3RyeS5nZXRQb29scyh2YWxpZGF0b3JJZDogdWludDY0KSAtPiBieXRlczoKZ2V0UG9vbHM6CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjM1MQogICAgLy8gZ2V0UG9vbHModmFsaWRhdG9ySWQ6IFZhbGlkYXRvcklkVHlwZSk6IFBvb2xJbmZvW10gewogICAgcHJvdG8gMSAxCiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czozNTIKICAgIC8vIGNvbnN0IHJldERhdGE6IFBvb2xJbmZvW10gPSBbXQogICAgYnl0ZWMgMTEgLy8gMHgwMDAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjM1MwogICAgLy8gY29uc3QgcG9vbFNldCA9IGNsb25lKHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUucG9vbHMpCiAgICBmcmFtZV9kaWcgLTEKICAgIGl0b2IKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MjIxCiAgICAvLyB2YWxpZGF0b3JMaXN0ID0gQm94TWFwPFZhbGlkYXRvcklkVHlwZSwgVmFsaWRhdG9ySW5mbz4oeyBrZXlQcmVmaXg6ICd2JyB9KQogICAgYnl0ZWNfMCAvLyAidiIKICAgIHN3YXAKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czozNTMKICAgIC8vIGNvbnN0IHBvb2xTZXQgPSBjbG9uZSh0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLnBvb2xzKQogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MzU0CiAgICAvLyBmb3IgKGxldCBpOiB1aW50NjQgPSAwOyBpIDwgcG9vbFNldC5sZW5ndGg7IGkgKz0gMSkgewogICAgaW50Y18wIC8vIDAKCmdldFBvb2xzX3doaWxlX3RvcEAxOgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czozNTQKICAgIC8vIGZvciAobGV0IGk6IHVpbnQ2NCA9IDA7IGkgPCBwb29sU2V0Lmxlbmd0aDsgaSArPSAxKSB7CiAgICBmcmFtZV9kaWcgMwogICAgaW50Y18zIC8vIDI0CiAgICA8CiAgICBieiBnZXRQb29sc19ibG9ja0A2CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjM1NQogICAgLy8gaWYgKHBvb2xTZXRbaV0ucG9vbEFwcElkID09PSAwKSB7CiAgICBmcmFtZV9kaWcgMgogICAgaW50YyA0IC8vIDI2OAogICAgaW50YyA1IC8vIDQzMgogICAgZXh0cmFjdDMKICAgIGZyYW1lX2RpZyAzCiAgICBpbnRjXzIgLy8gMTgKICAgICoKICAgIGludGNfMiAvLyAxOAogICAgZXh0cmFjdDMgLy8gb24gZXJyb3I6IGluZGV4IGFjY2VzcyBpcyBvdXQgb2YgYm91bmRzCiAgICBkdXAKICAgIGZyYW1lX2J1cnkgMAogICAgaW50Y18wIC8vIDAKICAgIGV4dHJhY3RfdWludDY0CiAgICBieiBnZXRQb29sc19ibG9ja0A2CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjM1OQogICAgLy8gcmV0RGF0YS5wdXNoKHBvb2xTZXRbaV0pCiAgICBmcmFtZV9kaWcgMQogICAgZHVwCiAgICBmcmFtZV9kaWcgMAogICAgY29uY2F0IC8vIG9uIGVycm9yOiBtYXggYXJyYXkgbGVuZ3RoIGV4Y2VlZGVkCiAgICBzd2FwCiAgICBpbnRjXzAgLy8gMAogICAgZXh0cmFjdF91aW50MTYKICAgIGludGNfMSAvLyAxCiAgICArCiAgICBpdG9iCiAgICBleHRyYWN0IDYgMgogICAgcmVwbGFjZTIgMAogICAgZnJhbWVfYnVyeSAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjM1NAogICAgLy8gZm9yIChsZXQgaTogdWludDY0ID0gMDsgaSA8IHBvb2xTZXQubGVuZ3RoOyBpICs9IDEpIHsKICAgIGZyYW1lX2RpZyAzCiAgICBpbnRjXzEgLy8gMQogICAgKwogICAgZnJhbWVfYnVyeSAzCiAgICBiIGdldFBvb2xzX3doaWxlX3RvcEAxCgpnZXRQb29sc19ibG9ja0A2OgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czozNjEKICAgIC8vIHJldHVybiByZXREYXRhCiAgICBmcmFtZV9kaWcgMQogICAgZnJhbWVfYnVyeSAwCiAgICByZXRzdWIKCgovLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjpWYWxpZGF0b3JSZWdpc3RyeS5nZXRQb29sQXBwSWQodmFsaWRhdG9ySWQ6IHVpbnQ2NCwgcG9vbElkOiB1aW50NjQpIC0+IHVpbnQ2NDoKZ2V0UG9vbEFwcElkOgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czozNjgKICAgIC8vIGdldFBvb2xBcHBJZCh2YWxpZGF0b3JJZDogdWludDY0LCBwb29sSWQ6IHVpbnQ2NCk6IHVpbnQ2NCB7CiAgICBwcm90byAyIDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MzcwCiAgICAvLyBwb29sSWQgIT09IDAgJiYgcG9vbElkIDw9IHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUucG9vbHMubGVuZ3RoLAogICAgZnJhbWVfZGlnIC0xCiAgICBieiBnZXRQb29sQXBwSWRfYm9vbF9mYWxzZUAzCiAgICBmcmFtZV9kaWcgLTIKICAgIGl0b2IKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MjIxCiAgICAvLyB2YWxpZGF0b3JMaXN0ID0gQm94TWFwPFZhbGlkYXRvcklkVHlwZSwgVmFsaWRhdG9ySW5mbz4oeyBrZXlQcmVmaXg6ICd2JyB9KQogICAgYnl0ZWNfMCAvLyAidiIKICAgIHN3YXAKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czozNzAKICAgIC8vIHBvb2xJZCAhPT0gMCAmJiBwb29sSWQgPD0gdGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS5wb29scy5sZW5ndGgsCiAgICBib3hfbGVuCiAgICBidXJ5IDEKICAgIGFzc2VydCAvLyBCb3ggbXVzdCBoYXZlIHZhbHVlCiAgICBmcmFtZV9kaWcgLTEKICAgIGludGNfMyAvLyAyNAogICAgPD0KICAgIGJ6IGdldFBvb2xBcHBJZF9ib29sX2ZhbHNlQDMKICAgIGludGNfMSAvLyAxCgpnZXRQb29sQXBwSWRfYm9vbF9tZXJnZUA0OgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czozNjktMzcyCiAgICAvLyBhc3NlcnQoCiAgICAvLyAgIHBvb2xJZCAhPT0gMCAmJiBwb29sSWQgPD0gdGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS5wb29scy5sZW5ndGgsCiAgICAvLyAgICdwb29sIGlkIG11c3QgYmUgYmV0d2VlbiAxIGFuZCBudW1iZXIgb2YgcG9vbHMgZm9yIHRoaXMgdmFsaWRhdG9yJywKICAgIC8vICkKICAgIGFzc2VydCAvLyBwb29sIGlkIG11c3QgYmUgYmV0d2VlbiAxIGFuZCBudW1iZXIgb2YgcG9vbHMgZm9yIHRoaXMgdmFsaWRhdG9yCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjM3MwogICAgLy8gcmV0dXJuIHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUucG9vbHNbcG9vbElkIC0gMV0ucG9vbEFwcElkCiAgICBmcmFtZV9kaWcgLTIKICAgIGl0b2IKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MjIxCiAgICAvLyB2YWxpZGF0b3JMaXN0ID0gQm94TWFwPFZhbGlkYXRvcklkVHlwZSwgVmFsaWRhdG9ySW5mbz4oeyBrZXlQcmVmaXg6ICd2JyB9KQogICAgYnl0ZWNfMCAvLyAidiIKICAgIHN3YXAKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czozNzMKICAgIC8vIHJldHVybiB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLnBvb2xzW3Bvb2xJZCAtIDFdLnBvb2xBcHBJZAogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIGZyYW1lX2RpZyAtMQogICAgaW50Y18xIC8vIDEKICAgIC0KICAgIHN3YXAKICAgIGludGMgNCAvLyAyNjgKICAgIGludGMgNSAvLyA0MzIKICAgIGV4dHJhY3QzCiAgICBzd2FwCiAgICBpbnRjXzIgLy8gMTgKICAgICoKICAgIGludGNfMiAvLyAxOAogICAgZXh0cmFjdDMgLy8gb24gZXJyb3I6IGluZGV4IGFjY2VzcyBpcyBvdXQgb2YgYm91bmRzCiAgICBpbnRjXzAgLy8gMAogICAgZXh0cmFjdF91aW50NjQKICAgIHJldHN1YgoKZ2V0UG9vbEFwcElkX2Jvb2xfZmFsc2VAMzoKICAgIGludGNfMCAvLyAwCiAgICBiIGdldFBvb2xBcHBJZF9ib29sX21lcmdlQDQKCgovLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjpWYWxpZGF0b3JSZWdpc3RyeS5nZXRQb29sSW5mbyhwb29sS2V5OiBieXRlcykgLT4gYnl0ZXM6CmdldFBvb2xJbmZvOgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czozNzcKICAgIC8vIGdldFBvb2xJbmZvKHBvb2xLZXk6IFZhbGlkYXRvclBvb2xLZXkpOiBQb29sSW5mbyB7CiAgICBwcm90byAxIDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6Mzc4CiAgICAvLyByZXR1cm4gdGhpcy52YWxpZGF0b3JMaXN0KHBvb2xLZXkuaWQpLnZhbHVlLnBvb2xzW3Bvb2xLZXkucG9vbElkIC0gMV0KICAgIGZyYW1lX2RpZyAtMQogICAgaW50Y18wIC8vIDAKICAgIGV4dHJhY3RfdWludDY0CiAgICBpdG9iCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjIyMQogICAgLy8gdmFsaWRhdG9yTGlzdCA9IEJveE1hcDxWYWxpZGF0b3JJZFR5cGUsIFZhbGlkYXRvckluZm8+KHsga2V5UHJlZml4OiAndicgfSkKICAgIGJ5dGVjXzAgLy8gInYiCiAgICBzd2FwCiAgICBjb25jYXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6Mzc4CiAgICAvLyByZXR1cm4gdGhpcy52YWxpZGF0b3JMaXN0KHBvb2xLZXkuaWQpLnZhbHVlLnBvb2xzW3Bvb2xLZXkucG9vbElkIC0gMV0KICAgIGJveF9nZXQKICAgIGFzc2VydCAvLyBCb3ggbXVzdCBoYXZlIHZhbHVlCiAgICBmcmFtZV9kaWcgLTEKICAgIHB1c2hpbnQgOCAvLyA4CiAgICBleHRyYWN0X3VpbnQ2NAogICAgaW50Y18xIC8vIDEKICAgIC0KICAgIHN3YXAKICAgIGludGMgNCAvLyAyNjgKICAgIGludGMgNSAvLyA0MzIKICAgIGV4dHJhY3QzCiAgICBzd2FwCiAgICBpbnRjXzIgLy8gMTgKICAgICoKICAgIGludGNfMiAvLyAxOAogICAgZXh0cmFjdDMgLy8gb24gZXJyb3I6IGluZGV4IGFjY2VzcyBpcyBvdXQgb2YgYm91bmRzCiAgICByZXRzdWIKCgovLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjpWYWxpZGF0b3JSZWdpc3RyeS5nZXRDdXJNYXhTdGFrZVBlclBvb2wodmFsaWRhdG9ySWQ6IHVpbnQ2NCkgLT4gdWludDY0OgpnZXRDdXJNYXhTdGFrZVBlclBvb2w6CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjM4OAogICAgLy8gZ2V0Q3VyTWF4U3Rha2VQZXJQb29sKHZhbGlkYXRvcklkOiBWYWxpZGF0b3JJZFR5cGUpOiB1aW50NjQgewogICAgcHJvdG8gMSAxCiAgICBieXRlY18yIC8vICIiCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjM4OQogICAgLy8gY29uc3QgbnVtUG9vbHMgPSB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLnN0YXRlLm51bVBvb2xzCiAgICBmcmFtZV9kaWcgLTEKICAgIGl0b2IKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MjIxCiAgICAvLyB2YWxpZGF0b3JMaXN0ID0gQm94TWFwPFZhbGlkYXRvcklkVHlwZSwgVmFsaWRhdG9ySW5mbz4oeyBrZXlQcmVmaXg6ICd2JyB9KQogICAgYnl0ZWNfMCAvLyAidiIKICAgIHN3YXAKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czozODkKICAgIC8vIGNvbnN0IG51bVBvb2xzID0gdGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS5zdGF0ZS5udW1Qb29scwogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIGR1cAogICAgZXh0cmFjdCAyNDIgMjYKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjM5MAogICAgLy8gY29uc3QgaGFyZE1heERpdmlkZWRCZXR3ZWVuUG9vbHM6IHVpbnQ2NCA9IHRoaXMubWF4QWxsb3dlZFN0YWtlKCkgLyBudW1Qb29scy5uYXRpdmUKICAgIGV4dHJhY3RfdWludDE2CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjE1NDkKICAgIC8vIHJldHVybiAwCiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czozOTAKICAgIC8vIGNvbnN0IGhhcmRNYXhEaXZpZGVkQmV0d2VlblBvb2xzOiB1aW50NjQgPSB0aGlzLm1heEFsbG93ZWRTdGFrZSgpIC8gbnVtUG9vbHMubmF0aXZlCiAgICBzd2FwCiAgICAvCiAgICBzd2FwCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjM5MQogICAgLy8gbGV0IG1heFBlclBvb2w6IHVpbnQ2NCA9IHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUuY29uZmlnLm1heEFsZ29QZXJQb29sCiAgICBleHRyYWN0IDAgMjQyCiAgICBwdXNoaW50IDIxNyAvLyAyMTcKICAgIGV4dHJhY3RfdWludDY0CiAgICBkdXAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MzkyCiAgICAvLyBpZiAobWF4UGVyUG9vbCA9PT0gMCkgewogICAgYm56IGdldEN1ck1heFN0YWtlUGVyUG9vbF9hZnRlcl9pZl9lbHNlQDIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTU1NwogICAgLy8gcmV0dXJuIDcwXzAwMF8wMDBfMDAwXzAwMCAvLyA3MG0gQUxHTyBpbiBtaWNyb0FsZ28KICAgIHB1c2hpbnQgNzAwMDAwMDAwMDAwMDAgLy8gNzAwMDAwMDAwMDAwMDAKICAgIGZyYW1lX2J1cnkgMgoKZ2V0Q3VyTWF4U3Rha2VQZXJQb29sX2FmdGVyX2lmX2Vsc2VAMjoKICAgIGZyYW1lX2RpZyAyCiAgICBkdXAKICAgIGZyYW1lX2J1cnkgMAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czozOTUKICAgIC8vIGlmIChoYXJkTWF4RGl2aWRlZEJldHdlZW5Qb29scyA8IG1heFBlclBvb2wpIHsKICAgIGZyYW1lX2RpZyAxCiAgICA+CiAgICBieiBnZXRDdXJNYXhTdGFrZVBlclBvb2xfYWZ0ZXJfaWZfZWxzZUA0CiAgICBmcmFtZV9kaWcgMQogICAgZnJhbWVfYnVyeSAwCgpnZXRDdXJNYXhTdGFrZVBlclBvb2xfYWZ0ZXJfaWZfZWxzZUA0OgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czozOTgKICAgIC8vIHJldHVybiBtYXhQZXJQb29sCiAgICByZXRzdWIKCgovLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjpWYWxpZGF0b3JSZWdpc3RyeS5kb2VzU3Rha2VyTmVlZFRvUGF5TUJSKHN0YWtlcjogYnl0ZXMpIC0+IHVpbnQ2NDoKZG9lc1N0YWtlck5lZWRUb1BheU1CUjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NDA2CiAgICAvLyBkb2VzU3Rha2VyTmVlZFRvUGF5TUJSKHN0YWtlcjogQWRkcmVzcyk6IGJvb2xlYW4gewogICAgcHJvdG8gMSAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjIyNQogICAgLy8gc3Rha2VyUG9vbFNldCA9IEJveE1hcDxBZGRyZXNzLCBGaXhlZEFycmF5PFZhbGlkYXRvclBvb2xLZXksIHR5cGVvZiBNQVhfUE9PTFNfUEVSX1NUQUtFUj4+KHsga2V5UHJlZml4OiAnc3BzJyB9KQogICAgYnl0ZWMgNyAvLyAic3BzIgogICAgZnJhbWVfZGlnIC0xCiAgICBjb25jYXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NDA3CiAgICAvLyByZXR1cm4gIXRoaXMuc3Rha2VyUG9vbFNldChzdGFrZXIpLmV4aXN0cwogICAgYm94X2xlbgogICAgYnVyeSAxCiAgICAhCiAgICByZXRzdWIKCgovLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjpWYWxpZGF0b3JSZWdpc3RyeS5nZXRTdGFrZWRQb29sc0ZvckFjY291bnQoc3Rha2VyOiBieXRlcykgLT4gYnl0ZXM6CmdldFN0YWtlZFBvb2xzRm9yQWNjb3VudDoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NDE2CiAgICAvLyBnZXRTdGFrZWRQb29sc0ZvckFjY291bnQoc3Rha2VyOiBBZGRyZXNzKTogVmFsaWRhdG9yUG9vbEtleVtdIHsKICAgIHByb3RvIDEgMQogICAgaW50Y18wIC8vIDAKICAgIGR1cG4gMwogICAgYnl0ZWNfMiAvLyAiIgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoyMjUKICAgIC8vIHN0YWtlclBvb2xTZXQgPSBCb3hNYXA8QWRkcmVzcywgRml4ZWRBcnJheTxWYWxpZGF0b3JQb29sS2V5LCB0eXBlb2YgTUFYX1BPT0xTX1BFUl9TVEFLRVI+Pih7IGtleVByZWZpeDogJ3NwcycgfSkKICAgIGJ5dGVjIDcgLy8gInNwcyIKICAgIGZyYW1lX2RpZyAtMQogICAgY29uY2F0CiAgICBkdXAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NDE3CiAgICAvLyBpZiAoIXRoaXMuc3Rha2VyUG9vbFNldChzdGFrZXIpLmV4aXN0cykgewogICAgYm94X2xlbgogICAgYnVyeSAxCiAgICBibnogZ2V0U3Rha2VkUG9vbHNGb3JBY2NvdW50X2FmdGVyX2lmX2Vsc2VAMgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo0MTgKICAgIC8vIHJldHVybiBbXQogICAgYnl0ZWMgMTEgLy8gMHgwMDAwCiAgICBmcmFtZV9idXJ5IDAKICAgIHJldHN1YgoKZ2V0U3Rha2VkUG9vbHNGb3JBY2NvdW50X2FmdGVyX2lmX2Vsc2VAMjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NDIwCiAgICAvLyBjb25zdCByZXREYXRhOiBWYWxpZGF0b3JQb29sS2V5W10gPSBbXQogICAgYnl0ZWMgMTEgLy8gMHgwMDAwCiAgICBmcmFtZV9idXJ5IDIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NDIxCiAgICAvLyBjb25zdCBwb29sU2V0ID0gY2xvbmUodGhpcy5zdGFrZXJQb29sU2V0KHN0YWtlcikudmFsdWUpCiAgICBmcmFtZV9kaWcgNQogICAgYm94X2dldAogICAgc3dhcAogICAgZnJhbWVfYnVyeSAxCiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo0MjIKICAgIC8vIGZvciAobGV0IGk6IHVpbnQ2NCA9IDA7IGkgPCBwb29sU2V0Lmxlbmd0aDsgaSArPSAxKSB7CiAgICBpbnRjXzAgLy8gMAogICAgZnJhbWVfYnVyeSA0CgpnZXRTdGFrZWRQb29sc0ZvckFjY291bnRfd2hpbGVfdG9wQDM6CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjQyMgogICAgLy8gZm9yIChsZXQgaTogdWludDY0ID0gMDsgaSA8IHBvb2xTZXQubGVuZ3RoOyBpICs9IDEpIHsKICAgIGZyYW1lX2RpZyA0CiAgICBwdXNoaW50IDYgLy8gNgogICAgPAogICAgYnogZ2V0U3Rha2VkUG9vbHNGb3JBY2NvdW50X2FmdGVyX3doaWxlQDcKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NDIzCiAgICAvLyBpZiAocG9vbFNldFtpXS5pZCAhPT0gMCkgewogICAgZnJhbWVfZGlnIDQKICAgIGludGNfMyAvLyAyNAogICAgKgogICAgZnJhbWVfZGlnIDEKICAgIHN3YXAKICAgIGludGNfMyAvLyAyNAogICAgZXh0cmFjdDMgLy8gb24gZXJyb3I6IGluZGV4IGFjY2VzcyBpcyBvdXQgb2YgYm91bmRzCiAgICBkdXAKICAgIGZyYW1lX2J1cnkgMAogICAgaW50Y18wIC8vIDAKICAgIGV4dHJhY3RfdWludDY0CiAgICBmcmFtZV9kaWcgMgogICAgZnJhbWVfYnVyeSAzCiAgICBieiBnZXRTdGFrZWRQb29sc0ZvckFjY291bnRfYWZ0ZXJfaWZfZWxzZUA2CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjQyNAogICAgLy8gcmV0RGF0YS5wdXNoKHBvb2xTZXRbaV0pCiAgICBmcmFtZV9kaWcgMgogICAgZHVwCiAgICBmcmFtZV9kaWcgMAogICAgY29uY2F0IC8vIG9uIGVycm9yOiBtYXggYXJyYXkgbGVuZ3RoIGV4Y2VlZGVkCiAgICBzd2FwCiAgICBpbnRjXzAgLy8gMAogICAgZXh0cmFjdF91aW50MTYKICAgIGludGNfMSAvLyAxCiAgICArCiAgICBpdG9iCiAgICBleHRyYWN0IDYgMgogICAgcmVwbGFjZTIgMAogICAgZnJhbWVfYnVyeSAzCgpnZXRTdGFrZWRQb29sc0ZvckFjY291bnRfYWZ0ZXJfaWZfZWxzZUA2OgogICAgZnJhbWVfZGlnIDMKICAgIGZyYW1lX2J1cnkgMgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo0MjIKICAgIC8vIGZvciAobGV0IGk6IHVpbnQ2NCA9IDA7IGkgPCBwb29sU2V0Lmxlbmd0aDsgaSArPSAxKSB7CiAgICBmcmFtZV9kaWcgNAogICAgaW50Y18xIC8vIDEKICAgICsKICAgIGZyYW1lX2J1cnkgNAogICAgYiBnZXRTdGFrZWRQb29sc0ZvckFjY291bnRfd2hpbGVfdG9wQDMKCmdldFN0YWtlZFBvb2xzRm9yQWNjb3VudF9hZnRlcl93aGlsZUA3OgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo0MjcKICAgIC8vIHJldHVybiByZXREYXRhCiAgICBmcmFtZV9kaWcgMgogICAgZnJhbWVfYnVyeSAwCiAgICByZXRzdWIKCgovLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjpWYWxpZGF0b3JSZWdpc3RyeS5nZXRUb2tlblBheW91dFJhdGlvKHZhbGlkYXRvcklkOiB1aW50NjQpIC0+IGJ5dGVzOgpnZXRUb2tlblBheW91dFJhdGlvOgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo0MzgKICAgIC8vIGdldFRva2VuUGF5b3V0UmF0aW8odmFsaWRhdG9ySWQ6IFZhbGlkYXRvcklkVHlwZSk6IFBvb2xUb2tlblBheW91dFJhdGlvIHsKICAgIHByb3RvIDEgMQogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo0MzkKICAgIC8vIHJldHVybiB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLnRva2VuUGF5b3V0UmF0aW8KICAgIGZyYW1lX2RpZyAtMQogICAgaXRvYgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoyMjEKICAgIC8vIHZhbGlkYXRvckxpc3QgPSBCb3hNYXA8VmFsaWRhdG9ySWRUeXBlLCBWYWxpZGF0b3JJbmZvPih7IGtleVByZWZpeDogJ3YnIH0pCiAgICBieXRlY18wIC8vICJ2IgogICAgc3dhcAogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjQzOQogICAgLy8gcmV0dXJuIHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUudG9rZW5QYXlvdXRSYXRpbwogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIGludGMgNiAvLyA3MDAKICAgIGludGMgNyAvLyAyMDAKICAgIGV4dHJhY3QzCiAgICByZXRzdWIKCgovLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjpWYWxpZGF0b3JSZWdpc3RyeS5nZXROb2RlUG9vbEFzc2lnbm1lbnRzKHZhbGlkYXRvcklkOiB1aW50NjQpIC0+IGJ5dGVzOgpnZXROb2RlUG9vbEFzc2lnbm1lbnRzOgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo0NDMKICAgIC8vIGdldE5vZGVQb29sQXNzaWdubWVudHModmFsaWRhdG9ySWQ6IHVpbnQ2NCk6IE5vZGVQb29sQXNzaWdubWVudENvbmZpZyB7CiAgICBwcm90byAxIDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NDQ0CiAgICAvLyBhc3NlcnQodGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS5leGlzdHMsICJ0aGUgc3BlY2lmaWVkIHZhbGlkYXRvciBpZCBkb2Vzbid0IGV4aXN0IikKICAgIGZyYW1lX2RpZyAtMQogICAgaXRvYgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoyMjEKICAgIC8vIHZhbGlkYXRvckxpc3QgPSBCb3hNYXA8VmFsaWRhdG9ySWRUeXBlLCBWYWxpZGF0b3JJbmZvPih7IGtleVByZWZpeDogJ3YnIH0pCiAgICBieXRlY18wIC8vICJ2IgogICAgc3dhcAogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjQ0NAogICAgLy8gYXNzZXJ0KHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkuZXhpc3RzLCAidGhlIHNwZWNpZmllZCB2YWxpZGF0b3IgaWQgZG9lc24ndCBleGlzdCIpCiAgICBkdXAKICAgIGJveF9sZW4KICAgIGJ1cnkgMQogICAgYXNzZXJ0IC8vIHRoZSBzcGVjaWZpZWQgdmFsaWRhdG9yIGlkIGRvZXNuJ3QgZXhpc3QKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NDQ2CiAgICAvLyByZXR1cm4gdGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS5ub2RlUG9vbEFzc2lnbm1lbnRzCiAgICBib3hfZ2V0CiAgICBwb3AKICAgIGludGMgOCAvLyA5MDAKICAgIGludGMgOSAvLyAxOTIKICAgIGV4dHJhY3QzCiAgICByZXRzdWIKCgovLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjpWYWxpZGF0b3JSZWdpc3RyeS5hZGRWYWxpZGF0b3IobWJyUGF5bWVudDogdWludDY0LCBuZmROYW1lOiBieXRlcywgY29uZmlnOiBieXRlcykgLT4gdWludDY0OgphZGRWYWxpZGF0b3I6CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjQ2MQogICAgLy8gYWRkVmFsaWRhdG9yKG1iclBheW1lbnQ6IGd0eG4uUGF5bWVudFR4biwgbmZkTmFtZTogc3RyaW5nLCBjb25maWc6IFZhbGlkYXRvckNvbmZpZyk6IHVpbnQ2NCB7CiAgICBwcm90byAzIDEKICAgIGJ5dGVjXzIgLy8gIiIKICAgIGR1cG4gNAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMjQxCiAgICAvLyBjb25maWcuZW50cnlHYXRpbmdUeXBlLm5hdGl2ZSA+PSBHQVRJTkdfVFlQRV9OT05FICYmIGNvbmZpZy5lbnRyeUdhdGluZ1R5cGUubmF0aXZlIDw9IEdBVElOR19UWVBFX0NPTlNUX01BWCwKICAgIGZyYW1lX2RpZyAtMQogICAgZXh0cmFjdCA4MCAxCiAgICBmcmFtZV9kaWcgLTEKICAgIHB1c2hpbnQgODAgLy8gODAKICAgIGdldGJ5dGUKICAgIHB1c2hpbnQgNCAvLyA0CiAgICA8PQogICAgYnogYWRkVmFsaWRhdG9yX2Jvb2xfZmFsc2VAMTAKICAgIGludGNfMSAvLyAxCgphZGRWYWxpZGF0b3JfYm9vbF9tZXJnZUAxMToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTI0MC0xMjQzCiAgICAvLyBhc3NlcnQoCiAgICAvLyAgIGNvbmZpZy5lbnRyeUdhdGluZ1R5cGUubmF0aXZlID49IEdBVElOR19UWVBFX05PTkUgJiYgY29uZmlnLmVudHJ5R2F0aW5nVHlwZS5uYXRpdmUgPD0gR0FUSU5HX1RZUEVfQ09OU1RfTUFYLAogICAgLy8gICAnZ2F0aW5nIHR5cGUgbm90IHZhbGlkJywKICAgIC8vICkKICAgIGFzc2VydCAvLyBnYXRpbmcgdHlwZSBub3QgdmFsaWQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTI0NQogICAgLy8gY29uZmlnLmVwb2NoUm91bmRMZW5ndGgubmF0aXZlID49IE1JTl9FUE9DSF9MRU5HVEggJiYgY29uZmlnLmVwb2NoUm91bmRMZW5ndGgubmF0aXZlIDw9IE1BWF9FUE9DSF9MRU5HVEgsCiAgICBmcmFtZV9kaWcgLTEKICAgIHB1c2hpbnQgMTY5IC8vIDE2OQogICAgZXh0cmFjdF91aW50MzIKICAgIGR1cAogICAgZnJhbWVfYnVyeSAxCiAgICBieiBhZGRWYWxpZGF0b3JfYm9vbF9mYWxzZUAxNAogICAgZnJhbWVfZGlnIDEKICAgIGludGMgMTIgLy8gMTAwMDAwMAogICAgPD0KICAgIGJ6IGFkZFZhbGlkYXRvcl9ib29sX2ZhbHNlQDE0CiAgICBpbnRjXzEgLy8gMQoKYWRkVmFsaWRhdG9yX2Jvb2xfbWVyZ2VAMTU6CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEyNDQtMTI0NwogICAgLy8gYXNzZXJ0KAogICAgLy8gICBjb25maWcuZXBvY2hSb3VuZExlbmd0aC5uYXRpdmUgPj0gTUlOX0VQT0NIX0xFTkdUSCAmJiBjb25maWcuZXBvY2hSb3VuZExlbmd0aC5uYXRpdmUgPD0gTUFYX0VQT0NIX0xFTkdUSCwKICAgIC8vICAgJ2Vwb2NoIGxlbmd0aCBub3QgaW4gYWxsb3dhYmxlIHJhbmdlJywKICAgIC8vICkKICAgIGFzc2VydCAvLyBlcG9jaCBsZW5ndGggbm90IGluIGFsbG93YWJsZSByYW5nZQogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMjQ5CiAgICAvLyBjb25maWcucGVyY2VudFRvVmFsaWRhdG9yLm5hdGl2ZSA+PSBNSU5fUENUX1RPX1ZBTElEQVRPUiAmJgogICAgZnJhbWVfZGlnIC0xCiAgICBwdXNoaW50IDE3MyAvLyAxNzMKICAgIGV4dHJhY3RfdWludDMyCiAgICBkdXAKICAgIGZyYW1lX2J1cnkgMgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMjUwCiAgICAvLyBjb25maWcucGVyY2VudFRvVmFsaWRhdG9yLm5hdGl2ZSA8PSBNQVhfUENUX1RPX1ZBTElEQVRPUiwKICAgIGludGMgMTIgLy8gMTAwMDAwMAogICAgPD0KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTI0OS0xMjUwCiAgICAvLyBjb25maWcucGVyY2VudFRvVmFsaWRhdG9yLm5hdGl2ZSA+PSBNSU5fUENUX1RPX1ZBTElEQVRPUiAmJgogICAgLy8gICBjb25maWcucGVyY2VudFRvVmFsaWRhdG9yLm5hdGl2ZSA8PSBNQVhfUENUX1RPX1ZBTElEQVRPUiwKICAgIGJ6IGFkZFZhbGlkYXRvcl9ib29sX2ZhbHNlQDE4CiAgICBpbnRjXzEgLy8gMQoKYWRkVmFsaWRhdG9yX2Jvb2xfbWVyZ2VAMTk6CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEyNDgtMTI1MgogICAgLy8gYXNzZXJ0KAogICAgLy8gICBjb25maWcucGVyY2VudFRvVmFsaWRhdG9yLm5hdGl2ZSA+PSBNSU5fUENUX1RPX1ZBTElEQVRPUiAmJgogICAgLy8gICAgIGNvbmZpZy5wZXJjZW50VG9WYWxpZGF0b3IubmF0aXZlIDw9IE1BWF9QQ1RfVE9fVkFMSURBVE9SLAogICAgLy8gICAnY29tbWlzc2lvbiBwZXJjZW50YWdlIG5vdCB2YWxpZCcsCiAgICAvLyApCiAgICBhc3NlcnQgLy8gY29tbWlzc2lvbiBwZXJjZW50YWdlIG5vdCB2YWxpZAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMjUzCiAgICAvLyBpZiAoY29uZmlnLnBlcmNlbnRUb1ZhbGlkYXRvci5uYXRpdmUgIT09IDApIHsKICAgIGZyYW1lX2RpZyAyCiAgICBieiBhZGRWYWxpZGF0b3JfYWZ0ZXJfaWZfZWxzZUAyMQogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMjU1CiAgICAvLyBjb25maWcudmFsaWRhdG9yQ29tbWlzc2lvbkFkZHJlc3MubmF0aXZlICE9PSBHbG9iYWwuemVyb0FkZHJlc3MsCiAgICBmcmFtZV9kaWcgLTEKICAgIGV4dHJhY3QgMTc3IDMyCiAgICBnbG9iYWwgWmVyb0FkZHJlc3MKICAgICE9CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEyNTQtMTI1NwogICAgLy8gYXNzZXJ0KAogICAgLy8gICBjb25maWcudmFsaWRhdG9yQ29tbWlzc2lvbkFkZHJlc3MubmF0aXZlICE9PSBHbG9iYWwuemVyb0FkZHJlc3MsCiAgICAvLyAgICd2YWxpZGF0b3JDb21taXNzaW9uQWRkcmVzcyBtdXN0IGJlIHNldCBpZiBwZXJjZW50IHRvIHZhbGlkYXRvciBpcyBub3QgMCcsCiAgICAvLyApCiAgICBhc3NlcnQgLy8gdmFsaWRhdG9yQ29tbWlzc2lvbkFkZHJlc3MgbXVzdCBiZSBzZXQgaWYgcGVyY2VudCB0byB2YWxpZGF0b3IgaXMgbm90IDAKCmFkZFZhbGlkYXRvcl9hZnRlcl9pZl9lbHNlQDIxOgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMjU5CiAgICAvLyBhc3NlcnQoY29uZmlnLm1pbkVudHJ5U3Rha2UgPj0gTUlOX0FMR09fU1RBS0VfUEVSX1BPT0wsICdzdGFraW5nIHBvb2wgbXVzdCBoYXZlIG1pbmltdW0gZW50cnkgb2YgMSBhbGdvJykKICAgIGZyYW1lX2RpZyAtMQogICAgaW50YyAxMyAvLyAyMDkKICAgIGV4dHJhY3RfdWludDY0CiAgICBpbnRjIDEyIC8vIDEwMDAwMDAKICAgID49CiAgICBhc3NlcnQgLy8gc3Rha2luZyBwb29sIG11c3QgaGF2ZSBtaW5pbXVtIGVudHJ5IG9mIDEgYWxnbwogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMjYyCiAgICAvLyBjb25maWcucG9vbHNQZXJOb2RlLm5hdGl2ZSA+IDAgJiYgY29uZmlnLnBvb2xzUGVyTm9kZS5uYXRpdmUgPD0gTUFYX1BPT0xTX1BFUl9OT0RFLAogICAgZnJhbWVfZGlnIC0xCiAgICBwdXNoaW50IDIyNSAvLyAyMjUKICAgIGdldGJ5dGUKICAgIGR1cAogICAgZnJhbWVfYnVyeSAwCiAgICBieiBhZGRWYWxpZGF0b3JfYm9vbF9mYWxzZUAyNAogICAgZnJhbWVfZGlnIDAKICAgIHB1c2hpbnQgMyAvLyAzCiAgICA8PQogICAgYnogYWRkVmFsaWRhdG9yX2Jvb2xfZmFsc2VAMjQKICAgIGludGNfMSAvLyAxCgphZGRWYWxpZGF0b3JfYm9vbF9tZXJnZUAyNToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTI2MS0xMjY0CiAgICAvLyBhc3NlcnQoCiAgICAvLyAgIGNvbmZpZy5wb29sc1Blck5vZGUubmF0aXZlID4gMCAmJiBjb25maWcucG9vbHNQZXJOb2RlLm5hdGl2ZSA8PSBNQVhfUE9PTFNfUEVSX05PREUsCiAgICAvLyAgICdudW1iZXIgb2YgcG9vbHMgcGVyIG5vZGUgZXhjZWVkcyBhbGxvd2VkIG51bWJlcicsCiAgICAvLyApCiAgICBhc3NlcnQgLy8gbnVtYmVyIG9mIHBvb2xzIHBlciBub2RlIGV4Y2VlZHMgYWxsb3dlZCBudW1iZXIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTI2NQogICAgLy8gaWYgKGNvbmZpZy5zdW5zZXR0aW5nT24gIT09IDApIHsKICAgIGZyYW1lX2RpZyAtMQogICAgaW50YyAxMSAvLyAyMjYKICAgIGV4dHJhY3RfdWludDY0CiAgICBkdXAKICAgIGZyYW1lX2J1cnkgNAogICAgYnogYWRkVmFsaWRhdG9yX2FmdGVyX2lmX2Vsc2VAMjcKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTI2NgogICAgLy8gYXNzZXJ0KGNvbmZpZy5zdW5zZXR0aW5nT24gPiBHbG9iYWwubGF0ZXN0VGltZXN0YW1wLCAnc3Vuc2V0dGluZ09uIG11c3QgYmUgbGF0ZXIgdGhhbiBub3cgaWYgc2V0JykKICAgIGZyYW1lX2RpZyA0CiAgICBnbG9iYWwgTGF0ZXN0VGltZXN0YW1wCiAgICA+CiAgICBhc3NlcnQgLy8gc3Vuc2V0dGluZ09uIG11c3QgYmUgbGF0ZXIgdGhhbiBub3cgaWYgc2V0CgphZGRWYWxpZGF0b3JfYWZ0ZXJfaWZfZWxzZUAyNzoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NDYzCiAgICAvLyBhc3NlcnQoY29uZmlnLm93bmVyLm5hdGl2ZSAhPT0gR2xvYmFsLnplcm9BZGRyZXNzKQogICAgZnJhbWVfZGlnIC0xCiAgICBleHRyYWN0IDggMzIKICAgIGR1cAogICAgZ2xvYmFsIFplcm9BZGRyZXNzCiAgICAhPQogICAgYXNzZXJ0CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjQ2NAogICAgLy8gYXNzZXJ0KGNvbmZpZy5tYW5hZ2VyLm5hdGl2ZSAhPT0gR2xvYmFsLnplcm9BZGRyZXNzKQogICAgZnJhbWVfZGlnIC0xCiAgICBleHRyYWN0IDQwIDMyCiAgICBnbG9iYWwgWmVyb0FkZHJlc3MKICAgICE9CiAgICBhc3NlcnQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NDY1CiAgICAvLyBhc3NlcnQoVHhuLnNlbmRlciA9PT0gY29uZmlnLm93bmVyLm5hdGl2ZSwgJ3NlbmRlciBtdXN0IGJlIG93bmVyIHRvIGFkZCBuZXcgdmFsaWRhdG9yJykKICAgIHR4biBTZW5kZXIKICAgID09CiAgICBhc3NlcnQgLy8gc2VuZGVyIG11c3QgYmUgb3duZXIgdG8gYWRkIG5ldyB2YWxpZGF0b3IKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NDY3CiAgICAvLyBhc3NlcnRNYXRjaChtYnJQYXltZW50LCB7IGFtb3VudDogdGhpcy5nZXRNYnJBbW91bnRzKCkuYWRkVmFsaWRhdG9yTWJyIH0pCiAgICBmcmFtZV9kaWcgLTMKICAgIGd0eG5zIEFtb3VudAogICAgIQogICAgYXNzZXJ0IC8vIGFzc2VydCB0YXJnZXQgaXMgbWF0Y2ggZm9yIGNvbmRpdGlvbnMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NDY5CiAgICAvLyBhc3NlcnQobWJyUGF5bWVudC5mZWUgPiAxMCAqIDEwMDAwMDAsICdmZWUgbXVzdCBiZSAxMCBBTEdPIG9yIG1vcmUgdG8gcHJldmVudCBzcGFtbWluZyBvZiB2YWxpZGF0b3JzJykKICAgIGZyYW1lX2RpZyAtMwogICAgZ3R4bnMgRmVlCiAgICBwdXNoaW50IDEwMDAwMDAwIC8vIDEwMDAwMDAwCiAgICA+CiAgICBhc3NlcnQgLy8gZmVlIG11c3QgYmUgMTAgQUxHTyBvciBtb3JlIHRvIHByZXZlbnQgc3BhbW1pbmcgb2YgdmFsaWRhdG9ycwogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo0NzIKICAgIC8vIGNvbnN0IHZhbGlkYXRvcklkOiB1aW50NjQgPSB0aGlzLm51bVZhbGlkYXRvcnMudmFsdWUgKyAxCiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoyMTEKICAgIC8vIG51bVZhbGlkYXRvcnMgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KHsga2V5OiAnbnVtVicgfSkKICAgIGJ5dGVjIDkgLy8gIm51bVYiCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjQ3MgogICAgLy8gY29uc3QgdmFsaWRhdG9ySWQ6IHVpbnQ2NCA9IHRoaXMubnVtVmFsaWRhdG9ycy52YWx1ZSArIDEKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBpbnRjXzEgLy8gMQogICAgKwogICAgZHVwCiAgICBmcmFtZV9idXJ5IDMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MjExCiAgICAvLyBudW1WYWxpZGF0b3JzID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGtleTogJ251bVYnIH0pCiAgICBieXRlYyA5IC8vICJudW1WIgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo0NzMKICAgIC8vIHRoaXMubnVtVmFsaWRhdG9ycy52YWx1ZSA9IHZhbGlkYXRvcklkCiAgICBkaWcgMQogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NDc1CiAgICAvLyB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLmNyZWF0ZSgpCiAgICBpdG9iCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjIyMQogICAgLy8gdmFsaWRhdG9yTGlzdCA9IEJveE1hcDxWYWxpZGF0b3JJZFR5cGUsIFZhbGlkYXRvckluZm8+KHsga2V5UHJlZml4OiAndicgfSkKICAgIGJ5dGVjXzAgLy8gInYiCiAgICBkaWcgMQogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjQ3NQogICAgLy8gdGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS5jcmVhdGUoKQogICAgZHVwCiAgICBwdXNoaW50IDEwOTIgLy8gMTA5MgogICAgYm94X2NyZWF0ZQogICAgcG9wCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjQ3NgogICAgLy8gdGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS5jb25maWcgPSBjbG9uZShjb25maWcpCiAgICBkdXAKICAgIGludGNfMCAvLyAwCiAgICBmcmFtZV9kaWcgLTEKICAgIGJveF9yZXBsYWNlCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjQ3NwogICAgLy8gdGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS5jb25maWcuaWQgPSB2YWxpZGF0b3JJZAogICAgaW50Y18wIC8vIDAKICAgIHVuY292ZXIgMgogICAgYm94X3JlcGxhY2UKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NDgwCiAgICAvLyBpZiAoY29uZmlnLm5mZEZvckluZm8gIT09IDApIHsKICAgIGZyYW1lX2RpZyAtMQogICAgcHVzaGludCA3MiAvLyA3MgogICAgZXh0cmFjdF91aW50NjQKICAgIGR1cAogICAgZnJhbWVfYnVyeSA0CiAgICBieiBhZGRWYWxpZGF0b3JfYWZ0ZXJfaWZfZWxzZUAzCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjQ4Mi00ODgKICAgIC8vIGl0eG4KICAgIC8vICAgLmFwcGxpY2F0aW9uQ2FsbCh7CiAgICAvLyAgICAgYXBwSWQ6IFRlbXBsYXRlVmFyPHVpbnQ2ND4oJ05GRF9SRUdJU1RSWV9BUFBfSUQnKSwKICAgIC8vICAgICBhcHBBcmdzOiBbQnl0ZXMoJ2lzX3ZhbGlkX25mZF9hcHBpZCcpLCBCeXRlcyhuZmROYW1lKSwgb3AuaXRvYihjb25maWcubmZkRm9ySW5mbyldLAogICAgLy8gICAgIGFwcHM6IFtBcHBsaWNhdGlvbihjb25maWcubmZkRm9ySW5mbyldLAogICAgLy8gICB9KQogICAgLy8gICAuc3VibWl0KCkKICAgIGl0eG5fYmVnaW4KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NDg0CiAgICAvLyBhcHBJZDogVGVtcGxhdGVWYXI8dWludDY0PignTkZEX1JFR0lTVFJZX0FQUF9JRCcpLAogICAgaW50YyAxMCAvLyBUTVBMX05GRF9SRUdJU1RSWV9BUFBfSUQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NDg1CiAgICAvLyBhcHBBcmdzOiBbQnl0ZXMoJ2lzX3ZhbGlkX25mZF9hcHBpZCcpLCBCeXRlcyhuZmROYW1lKSwgb3AuaXRvYihjb25maWcubmZkRm9ySW5mbyldLAogICAgZnJhbWVfZGlnIDQKICAgIGR1cAogICAgaXRvYgogICAgZGlnIDEKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25zCiAgICBieXRlYyAxMiAvLyAiaXNfdmFsaWRfbmZkX2FwcGlkIgogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbkFyZ3MKICAgIGZyYW1lX2RpZyAtMgogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbkFyZ3MKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25BcmdzCiAgICBzd2FwCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uSUQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NDgyLTQ4NwogICAgLy8gaXR4bgogICAgLy8gICAuYXBwbGljYXRpb25DYWxsKHsKICAgIC8vICAgICBhcHBJZDogVGVtcGxhdGVWYXI8dWludDY0PignTkZEX1JFR0lTVFJZX0FQUF9JRCcpLAogICAgLy8gICAgIGFwcEFyZ3M6IFtCeXRlcygnaXNfdmFsaWRfbmZkX2FwcGlkJyksIEJ5dGVzKG5mZE5hbWUpLCBvcC5pdG9iKGNvbmZpZy5uZmRGb3JJbmZvKV0sCiAgICAvLyAgICAgYXBwczogW0FwcGxpY2F0aW9uKGNvbmZpZy5uZmRGb3JJbmZvKV0sCiAgICAvLyAgIH0pCiAgICBwdXNoaW50IDYgLy8gNgogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgaW50Y18wIC8vIDAKICAgIGl0eG5fZmllbGQgRmVlCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjQ4Mi00ODgKICAgIC8vIGl0eG4KICAgIC8vICAgLmFwcGxpY2F0aW9uQ2FsbCh7CiAgICAvLyAgICAgYXBwSWQ6IFRlbXBsYXRlVmFyPHVpbnQ2ND4oJ05GRF9SRUdJU1RSWV9BUFBfSUQnKSwKICAgIC8vICAgICBhcHBBcmdzOiBbQnl0ZXMoJ2lzX3ZhbGlkX25mZF9hcHBpZCcpLCBCeXRlcyhuZmROYW1lKSwgb3AuaXRvYihjb25maWcubmZkRm9ySW5mbyldLAogICAgLy8gICAgIGFwcHM6IFtBcHBsaWNhdGlvbihjb25maWcubmZkRm9ySW5mbyldLAogICAgLy8gICB9KQogICAgLy8gICAuc3VibWl0KCkKICAgIGl0eG5fc3VibWl0CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjQ4OQogICAgLy8gYXNzZXJ0KG9wLmJ0b2kob3AuSVR4bi5sYXN0TG9nKSA9PT0gMSwgInByb3ZpZGVkIE5GRCBpc24ndCB2YWxpZCIpCiAgICBpdHhuIExhc3RMb2cKICAgIGJ0b2kKICAgIGludGNfMSAvLyAxCiAgICA9PQogICAgYXNzZXJ0IC8vIHByb3ZpZGVkIE5GRCBpc24ndCB2YWxpZAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo0OTEKICAgIC8vIGNvbnN0IFtvd25lcl0gPSBvcC5BcHBHbG9iYWwuZ2V0RXhCeXRlcyhjb25maWcubmZkRm9ySW5mbywgQnl0ZXMoJ2kub3duZXIuYScpKQogICAgYnl0ZWMgMTAgLy8gImkub3duZXIuYSIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBwb3AKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NDkyCiAgICAvLyBhc3NlcnQoVHhuLnNlbmRlciA9PT0gQWNjb3VudChvd25lciksICdJZiBzcGVjaWZ5aW5nIE5GRCwgYWNjb3VudCBhZGRpbmcgdmFsaWRhdG9yIG11c3QgYmUgb3duZXInKQogICAgdHhuIFNlbmRlcgogICAgPT0KICAgIGFzc2VydCAvLyBJZiBzcGVjaWZ5aW5nIE5GRCwgYWNjb3VudCBhZGRpbmcgdmFsaWRhdG9yIG11c3QgYmUgb3duZXIKCmFkZFZhbGlkYXRvcl9hZnRlcl9pZl9lbHNlQDM6CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjQ5NQogICAgLy8gY29uZmlnLmVudHJ5R2F0aW5nVHlwZSA9PT0gbmV3IFVpbnQ4KEdBVElOR19UWVBFX0NSRUFURURfQllfTkZEX0FERFJFU1NFUykgfHwKICAgIGZyYW1lX2RpZyA1CiAgICBwdXNoYnl0ZXMgMHgwMwogICAgPT0KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NDk1LTQ5NgogICAgLy8gY29uZmlnLmVudHJ5R2F0aW5nVHlwZSA9PT0gbmV3IFVpbnQ4KEdBVElOR19UWVBFX0NSRUFURURfQllfTkZEX0FERFJFU1NFUykgfHwKICAgIC8vIGNvbmZpZy5lbnRyeUdhdGluZ1R5cGUgPT09IG5ldyBVaW50OChHQVRJTkdfVFlQRV9TRUdNRU5UX09GX05GRCkKICAgIGJueiBhZGRWYWxpZGF0b3JfaWZfYm9keUA1CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjQ5NgogICAgLy8gY29uZmlnLmVudHJ5R2F0aW5nVHlwZSA9PT0gbmV3IFVpbnQ4KEdBVElOR19UWVBFX1NFR01FTlRfT0ZfTkZEKQogICAgZnJhbWVfZGlnIDUKICAgIHB1c2hieXRlcyAweDA0CiAgICA9PQogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo0OTUtNDk2CiAgICAvLyBjb25maWcuZW50cnlHYXRpbmdUeXBlID09PSBuZXcgVWludDgoR0FUSU5HX1RZUEVfQ1JFQVRFRF9CWV9ORkRfQUREUkVTU0VTKSB8fAogICAgLy8gY29uZmlnLmVudHJ5R2F0aW5nVHlwZSA9PT0gbmV3IFVpbnQ4KEdBVElOR19UWVBFX1NFR01FTlRfT0ZfTkZEKQogICAgYnogYWRkVmFsaWRhdG9yX2FmdGVyX2lmX2Vsc2VANgoKYWRkVmFsaWRhdG9yX2lmX2JvZHlANToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NDk5CiAgICAvLyBhc3NlcnQodGhpcy5pc05GREFwcElEVmFsaWQoY29uZmlnLmVudHJ5R2F0aW5nQXNzZXRzWzBdKSwgJ3Byb3ZpZGVkIE5GRCBBcHAgaWQgZm9yIGdhdGluZyBtdXN0IGJlIHZhbGlkIE5GRCcpCiAgICBmcmFtZV9kaWcgLTEKICAgIGV4dHJhY3QgMTEzIDMyCiAgICBpbnRjXzAgLy8gMAogICAgZXh0cmFjdF91aW50NjQKICAgIGNhbGxzdWIgaXNORkRBcHBJRFZhbGlkCiAgICBhc3NlcnQgLy8gcHJvdmlkZWQgTkZEIEFwcCBpZCBmb3IgZ2F0aW5nIG11c3QgYmUgdmFsaWQgTkZECgphZGRWYWxpZGF0b3JfYWZ0ZXJfaWZfZWxzZUA2OgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo1MDIKICAgIC8vIHJldHVybiB2YWxpZGF0b3JJZAogICAgZnJhbWVfZGlnIDMKICAgIGZyYW1lX2J1cnkgMAogICAgcmV0c3ViCgphZGRWYWxpZGF0b3JfYm9vbF9mYWxzZUAyNDoKICAgIGludGNfMCAvLyAwCiAgICBiIGFkZFZhbGlkYXRvcl9ib29sX21lcmdlQDI1CgphZGRWYWxpZGF0b3JfYm9vbF9mYWxzZUAxODoKICAgIGludGNfMCAvLyAwCiAgICBiIGFkZFZhbGlkYXRvcl9ib29sX21lcmdlQDE5CgphZGRWYWxpZGF0b3JfYm9vbF9mYWxzZUAxNDoKICAgIGludGNfMCAvLyAwCiAgICBiIGFkZFZhbGlkYXRvcl9ib29sX21lcmdlQDE1CgphZGRWYWxpZGF0b3JfYm9vbF9mYWxzZUAxMDoKICAgIGludGNfMCAvLyAwCiAgICBiIGFkZFZhbGlkYXRvcl9ib29sX21lcmdlQDExCgoKLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo6VmFsaWRhdG9yUmVnaXN0cnkuY2hhbmdlVmFsaWRhdG9yTWFuYWdlcih2YWxpZGF0b3JJZDogdWludDY0LCBtYW5hZ2VyOiBieXRlcykgLT4gdm9pZDoKY2hhbmdlVmFsaWRhdG9yTWFuYWdlcjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NTEyCiAgICAvLyBjaGFuZ2VWYWxpZGF0b3JNYW5hZ2VyKHZhbGlkYXRvcklkOiBWYWxpZGF0b3JJZFR5cGUsIG1hbmFnZXI6IEFkZHJlc3MpOiB2b2lkIHsKICAgIHByb3RvIDIgMAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo1MTQKICAgIC8vIFR4bi5zZW5kZXIgPT09IHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUuY29uZmlnLm93bmVyLm5hdGl2ZSwKICAgIHR4biBTZW5kZXIKICAgIGZyYW1lX2RpZyAtMgogICAgaXRvYgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoyMjEKICAgIC8vIHZhbGlkYXRvckxpc3QgPSBCb3hNYXA8VmFsaWRhdG9ySWRUeXBlLCBWYWxpZGF0b3JJbmZvPih7IGtleVByZWZpeDogJ3YnIH0pCiAgICBieXRlY18wIC8vICJ2IgogICAgc3dhcAogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjUxNAogICAgLy8gVHhuLnNlbmRlciA9PT0gdGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS5jb25maWcub3duZXIubmF0aXZlLAogICAgZHVwCiAgICBib3hfZ2V0CiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgZXh0cmFjdCAwIDI0MgogICAgZXh0cmFjdCA4IDMyCiAgICB1bmNvdmVyIDIKICAgID09CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjUxMy01MTYKICAgIC8vIGFzc2VydCgKICAgIC8vICAgVHhuLnNlbmRlciA9PT0gdGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS5jb25maWcub3duZXIubmF0aXZlLAogICAgLy8gICAnY2FuIG9ubHkgYmUgY2FsbGVkIGJ5IHZhbGlkYXRvciBvd25lcicsCiAgICAvLyApCiAgICBhc3NlcnQgLy8gY2FuIG9ubHkgYmUgY2FsbGVkIGJ5IHZhbGlkYXRvciBvd25lcgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo1MTcKICAgIC8vIHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUuY29uZmlnLm1hbmFnZXIgPSBtYW5hZ2VyCiAgICBwdXNoaW50IDQwIC8vIDQwCiAgICBmcmFtZV9kaWcgLTEKICAgIGJveF9yZXBsYWNlCiAgICByZXRzdWIKCgovLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjpWYWxpZGF0b3JSZWdpc3RyeS5jaGFuZ2VWYWxpZGF0b3JTdW5zZXRJbmZvKHZhbGlkYXRvcklkOiB1aW50NjQsIHN1bnNldHRpbmdPbjogdWludDY0LCBzdW5zZXR0aW5nVG86IHVpbnQ2NCkgLT4gdm9pZDoKY2hhbmdlVmFsaWRhdG9yU3Vuc2V0SW5mbzoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NTI4CiAgICAvLyBjaGFuZ2VWYWxpZGF0b3JTdW5zZXRJbmZvKHZhbGlkYXRvcklkOiBWYWxpZGF0b3JJZFR5cGUsIHN1bnNldHRpbmdPbjogdWludDY0LCBzdW5zZXR0aW5nVG86IFZhbGlkYXRvcklkVHlwZSk6IHZvaWQgewogICAgcHJvdG8gMyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjUzMAogICAgLy8gVHhuLnNlbmRlciA9PT0gdGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS5jb25maWcub3duZXIubmF0aXZlLAogICAgdHhuIFNlbmRlcgogICAgZnJhbWVfZGlnIC0zCiAgICBpdG9iCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjIyMQogICAgLy8gdmFsaWRhdG9yTGlzdCA9IEJveE1hcDxWYWxpZGF0b3JJZFR5cGUsIFZhbGlkYXRvckluZm8+KHsga2V5UHJlZml4OiAndicgfSkKICAgIGJ5dGVjXzAgLy8gInYiCiAgICBzd2FwCiAgICBjb25jYXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NTMwCiAgICAvLyBUeG4uc2VuZGVyID09PSB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLmNvbmZpZy5vd25lci5uYXRpdmUsCiAgICBkdXAKICAgIGJveF9nZXQKICAgIGFzc2VydCAvLyBCb3ggbXVzdCBoYXZlIHZhbHVlCiAgICBleHRyYWN0IDAgMjQyCiAgICBleHRyYWN0IDggMzIKICAgIHVuY292ZXIgMgogICAgPT0KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NTI5LTUzMgogICAgLy8gYXNzZXJ0KAogICAgLy8gICBUeG4uc2VuZGVyID09PSB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLmNvbmZpZy5vd25lci5uYXRpdmUsCiAgICAvLyAgICdjYW4gb25seSBiZSBjYWxsZWQgYnkgdmFsaWRhdG9yIG93bmVyJywKICAgIC8vICkKICAgIGFzc2VydCAvLyBjYW4gb25seSBiZSBjYWxsZWQgYnkgdmFsaWRhdG9yIG93bmVyCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjUzMwogICAgLy8gdGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS5jb25maWcuc3Vuc2V0dGluZ09uID0gc3Vuc2V0dGluZ09uCiAgICBmcmFtZV9kaWcgLTIKICAgIGl0b2IKICAgIGRpZyAxCiAgICBpbnRjIDExIC8vIDIyNgogICAgdW5jb3ZlciAyCiAgICBib3hfcmVwbGFjZQogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo1MzQKICAgIC8vIHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUuY29uZmlnLnN1bnNldHRpbmdUbyA9IHN1bnNldHRpbmdUbwogICAgZnJhbWVfZGlnIC0xCiAgICBpdG9iCiAgICBwdXNoaW50IDIzNCAvLyAyMzQKICAgIHN3YXAKICAgIGJveF9yZXBsYWNlCiAgICByZXRzdWIKCgovLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjpWYWxpZGF0b3JSZWdpc3RyeS5jaGFuZ2VWYWxpZGF0b3JORkQodmFsaWRhdG9ySWQ6IHVpbnQ2NCwgbmZkQXBwSUQ6IHVpbnQ2NCwgbmZkTmFtZTogYnl0ZXMpIC0+IHZvaWQ6CmNoYW5nZVZhbGlkYXRvck5GRDoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NTQ1CiAgICAvLyBjaGFuZ2VWYWxpZGF0b3JORkQodmFsaWRhdG9ySWQ6IFZhbGlkYXRvcklkVHlwZSwgbmZkQXBwSUQ6IHVpbnQ2NCwgbmZkTmFtZTogc3RyaW5nKTogdm9pZCB7CiAgICBwcm90byAzIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NTQ4CiAgICAvLyBUeG4uc2VuZGVyID09PSB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLmNvbmZpZy5vd25lci5uYXRpdmUsCiAgICB0eG4gU2VuZGVyCiAgICBmcmFtZV9kaWcgLTMKICAgIGl0b2IKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MjIxCiAgICAvLyB2YWxpZGF0b3JMaXN0ID0gQm94TWFwPFZhbGlkYXRvcklkVHlwZSwgVmFsaWRhdG9ySW5mbz4oeyBrZXlQcmVmaXg6ICd2JyB9KQogICAgYnl0ZWNfMCAvLyAidiIKICAgIHN3YXAKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo1NDgKICAgIC8vIFR4bi5zZW5kZXIgPT09IHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUuY29uZmlnLm93bmVyLm5hdGl2ZSwKICAgIGR1cAogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIGV4dHJhY3QgMCAyNDIKICAgIGV4dHJhY3QgOCAzMgogICAgdW5jb3ZlciAyCiAgICA9PQogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo1NDctNTUwCiAgICAvLyBhc3NlcnQoCiAgICAvLyAgIFR4bi5zZW5kZXIgPT09IHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUuY29uZmlnLm93bmVyLm5hdGl2ZSwKICAgIC8vICAgJ2NhbiBvbmx5IGJlIGNhbGxlZCBieSB2YWxpZGF0b3Igb3duZXInLAogICAgLy8gKQogICAgYXNzZXJ0IC8vIGNhbiBvbmx5IGJlIGNhbGxlZCBieSB2YWxpZGF0b3Igb3duZXIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NTUxLTU1OAogICAgLy8gaXR4bgogICAgLy8gICAuYXBwbGljYXRpb25DYWxsKHsKICAgIC8vICAgICBhcHBJZDogVGVtcGxhdGVWYXI8dWludDY0PignTkZEX1JFR0lTVFJZX0FQUF9JRCcpLAogICAgLy8gICAgIG9uQ29tcGxldGlvbjogT25Db21wbGV0ZUFjdGlvbi5Ob09wLAogICAgLy8gICAgIGFjY291bnRzOiBbVHhuLnNlbmRlcl0sCiAgICAvLyAgICAgYXBwQXJnczogW0J5dGVzKCdpc192YWxpZF9uZmRfYXBwaWQnKSwgQnl0ZXMobmZkTmFtZSksIG9wLml0b2IobmZkQXBwSUQpXSwKICAgIC8vICAgfSkKICAgIC8vICAgLnN1Ym1pdCgpCiAgICBpdHhuX2JlZ2luCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjU1MwogICAgLy8gYXBwSWQ6IFRlbXBsYXRlVmFyPHVpbnQ2ND4oJ05GRF9SRUdJU1RSWV9BUFBfSUQnKSwKICAgIGludGMgMTAgLy8gVE1QTF9ORkRfUkVHSVNUUllfQVBQX0lECiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjU1NQogICAgLy8gYWNjb3VudHM6IFtUeG4uc2VuZGVyXSwKICAgIHR4biBTZW5kZXIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NTU2CiAgICAvLyBhcHBBcmdzOiBbQnl0ZXMoJ2lzX3ZhbGlkX25mZF9hcHBpZCcpLCBCeXRlcyhuZmROYW1lKSwgb3AuaXRvYihuZmRBcHBJRCldLAogICAgZnJhbWVfZGlnIC0yCiAgICBpdG9iCiAgICBieXRlYyAxMiAvLyAiaXNfdmFsaWRfbmZkX2FwcGlkIgogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbkFyZ3MKICAgIGZyYW1lX2RpZyAtMQogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbkFyZ3MKICAgIGR1cAogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbkFyZ3MKICAgIHN3YXAKICAgIGl0eG5fZmllbGQgQWNjb3VudHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NTU0CiAgICAvLyBvbkNvbXBsZXRpb246IE9uQ29tcGxldGVBY3Rpb24uTm9PcCwKICAgIGludGNfMCAvLyAwCiAgICBpdHhuX2ZpZWxkIE9uQ29tcGxldGlvbgogICAgc3dhcAogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbklECiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjU1MS01NTcKICAgIC8vIGl0eG4KICAgIC8vICAgLmFwcGxpY2F0aW9uQ2FsbCh7CiAgICAvLyAgICAgYXBwSWQ6IFRlbXBsYXRlVmFyPHVpbnQ2ND4oJ05GRF9SRUdJU1RSWV9BUFBfSUQnKSwKICAgIC8vICAgICBvbkNvbXBsZXRpb246IE9uQ29tcGxldGVBY3Rpb24uTm9PcCwKICAgIC8vICAgICBhY2NvdW50czogW1R4bi5zZW5kZXJdLAogICAgLy8gICAgIGFwcEFyZ3M6IFtCeXRlcygnaXNfdmFsaWRfbmZkX2FwcGlkJyksIEJ5dGVzKG5mZE5hbWUpLCBvcC5pdG9iKG5mZEFwcElEKV0sCiAgICAvLyAgIH0pCiAgICBwdXNoaW50IDYgLy8gNgogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgaW50Y18wIC8vIDAKICAgIGl0eG5fZmllbGQgRmVlCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjU1MS01NTgKICAgIC8vIGl0eG4KICAgIC8vICAgLmFwcGxpY2F0aW9uQ2FsbCh7CiAgICAvLyAgICAgYXBwSWQ6IFRlbXBsYXRlVmFyPHVpbnQ2ND4oJ05GRF9SRUdJU1RSWV9BUFBfSUQnKSwKICAgIC8vICAgICBvbkNvbXBsZXRpb246IE9uQ29tcGxldGVBY3Rpb24uTm9PcCwKICAgIC8vICAgICBhY2NvdW50czogW1R4bi5zZW5kZXJdLAogICAgLy8gICAgIGFwcEFyZ3M6IFtCeXRlcygnaXNfdmFsaWRfbmZkX2FwcGlkJyksIEJ5dGVzKG5mZE5hbWUpLCBvcC5pdG9iKG5mZEFwcElEKV0sCiAgICAvLyAgIH0pCiAgICAvLyAgIC5zdWJtaXQoKQogICAgaXR4bl9zdWJtaXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NTYwCiAgICAvLyBjb25zdCBbb3duZXJdID0gb3AuQXBwR2xvYmFsLmdldEV4Qnl0ZXMobmZkQXBwSUQsIEJ5dGVzKCdpLm93bmVyLmEnKSkKICAgIGZyYW1lX2RpZyAtMgogICAgYnl0ZWMgMTAgLy8gImkub3duZXIuYSIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBwb3AKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NTYxCiAgICAvLyBhc3NlcnQoVHhuLnNlbmRlciA9PT0gQWNjb3VudChvd25lciksICdJZiBzcGVjaWZ5aW5nIE5GRCwgYWNjb3VudCBhZGRpbmcgdmFsaWRhdG9yIG11c3QgYmUgb3duZXInKQogICAgdHhuIFNlbmRlcgogICAgPT0KICAgIGFzc2VydCAvLyBJZiBzcGVjaWZ5aW5nIE5GRCwgYWNjb3VudCBhZGRpbmcgdmFsaWRhdG9yIG11c3QgYmUgb3duZXIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NTYyCiAgICAvLyB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLmNvbmZpZy5uZmRGb3JJbmZvID0gbmZkQXBwSUQKICAgIHB1c2hpbnQgNzIgLy8gNzIKICAgIHN3YXAKICAgIGJveF9yZXBsYWNlCiAgICByZXRzdWIKCgovLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjpWYWxpZGF0b3JSZWdpc3RyeS5jaGFuZ2VWYWxpZGF0b3JDb21taXNzaW9uQWRkcmVzcyh2YWxpZGF0b3JJZDogdWludDY0LCBjb21taXNzaW9uQWRkcmVzczogYnl0ZXMpIC0+IHZvaWQ6CmNoYW5nZVZhbGlkYXRvckNvbW1pc3Npb25BZGRyZXNzOgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo1NjkKICAgIC8vIGNoYW5nZVZhbGlkYXRvckNvbW1pc3Npb25BZGRyZXNzKHZhbGlkYXRvcklkOiBWYWxpZGF0b3JJZFR5cGUsIGNvbW1pc3Npb25BZGRyZXNzOiBBZGRyZXNzKTogdm9pZCB7CiAgICBwcm90byAyIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NTcxCiAgICAvLyBUeG4uc2VuZGVyID09PSB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLmNvbmZpZy5vd25lci5uYXRpdmUsCiAgICB0eG4gU2VuZGVyCiAgICBmcmFtZV9kaWcgLTIKICAgIGl0b2IKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MjIxCiAgICAvLyB2YWxpZGF0b3JMaXN0ID0gQm94TWFwPFZhbGlkYXRvcklkVHlwZSwgVmFsaWRhdG9ySW5mbz4oeyBrZXlQcmVmaXg6ICd2JyB9KQogICAgYnl0ZWNfMCAvLyAidiIKICAgIHN3YXAKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo1NzEKICAgIC8vIFR4bi5zZW5kZXIgPT09IHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUuY29uZmlnLm93bmVyLm5hdGl2ZSwKICAgIGR1cAogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIGV4dHJhY3QgMCAyNDIKICAgIGV4dHJhY3QgOCAzMgogICAgdW5jb3ZlciAyCiAgICA9PQogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo1NzAtNTczCiAgICAvLyBhc3NlcnQoCiAgICAvLyAgIFR4bi5zZW5kZXIgPT09IHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUuY29uZmlnLm93bmVyLm5hdGl2ZSwKICAgIC8vICAgJ2NhbiBvbmx5IGJlIGNhbGxlZCBieSB2YWxpZGF0b3Igb3duZXInLAogICAgLy8gKQogICAgYXNzZXJ0IC8vIGNhbiBvbmx5IGJlIGNhbGxlZCBieSB2YWxpZGF0b3Igb3duZXIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NTc0CiAgICAvLyBhc3NlcnQoY29tbWlzc2lvbkFkZHJlc3MubmF0aXZlICE9PSBHbG9iYWwuemVyb0FkZHJlc3MpCiAgICBmcmFtZV9kaWcgLTEKICAgIGdsb2JhbCBaZXJvQWRkcmVzcwogICAgIT0KICAgIGFzc2VydAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo1NzUKICAgIC8vIHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUuY29uZmlnLnZhbGlkYXRvckNvbW1pc3Npb25BZGRyZXNzID0gY29tbWlzc2lvbkFkZHJlc3MKICAgIHB1c2hpbnQgMTc3IC8vIDE3NwogICAgZnJhbWVfZGlnIC0xCiAgICBib3hfcmVwbGFjZQogICAgcmV0c3ViCgoKLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo6VmFsaWRhdG9yUmVnaXN0cnkuY2hhbmdlVmFsaWRhdG9yUmV3YXJkSW5mbyh2YWxpZGF0b3JJZDogdWludDY0LCBFbnRyeUdhdGluZ1R5cGU6IGJ5dGVzLCBFbnRyeUdhdGluZ0FkZHJlc3M6IGJ5dGVzLCBFbnRyeUdhdGluZ0Fzc2V0czogYnl0ZXMsIEdhdGluZ0Fzc2V0TWluQmFsYW5jZTogdWludDY0LCBSZXdhcmRQZXJQYXlvdXQ6IHVpbnQ2NCkgLT4gdm9pZDoKY2hhbmdlVmFsaWRhdG9yUmV3YXJkSW5mbzoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NTgyLTU4OQogICAgLy8gY2hhbmdlVmFsaWRhdG9yUmV3YXJkSW5mbygKICAgIC8vICAgdmFsaWRhdG9ySWQ6IFZhbGlkYXRvcklkVHlwZSwKICAgIC8vICAgRW50cnlHYXRpbmdUeXBlOiBVaW50OCwKICAgIC8vICAgRW50cnlHYXRpbmdBZGRyZXNzOiBBZGRyZXNzLAogICAgLy8gICBFbnRyeUdhdGluZ0Fzc2V0czogRml4ZWRBcnJheTx1aW50NjQsIDQ+LAogICAgLy8gICBHYXRpbmdBc3NldE1pbkJhbGFuY2U6IHVpbnQ2NCwKICAgIC8vICAgUmV3YXJkUGVyUGF5b3V0OiB1aW50NjQsCiAgICAvLyApOiB2b2lkIHsKICAgIHByb3RvIDYgMAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo1OTEKICAgIC8vIFR4bi5zZW5kZXIgPT09IHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUuY29uZmlnLm93bmVyLm5hdGl2ZSwKICAgIHR4biBTZW5kZXIKICAgIGZyYW1lX2RpZyAtNgogICAgaXRvYgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoyMjEKICAgIC8vIHZhbGlkYXRvckxpc3QgPSBCb3hNYXA8VmFsaWRhdG9ySWRUeXBlLCBWYWxpZGF0b3JJbmZvPih7IGtleVByZWZpeDogJ3YnIH0pCiAgICBieXRlY18wIC8vICJ2IgogICAgc3dhcAogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjU5MQogICAgLy8gVHhuLnNlbmRlciA9PT0gdGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS5jb25maWcub3duZXIubmF0aXZlLAogICAgZHVwCiAgICBib3hfZ2V0CiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgZXh0cmFjdCAwIDI0MgogICAgZXh0cmFjdCA4IDMyCiAgICB1bmNvdmVyIDIKICAgID09CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjU5MC01OTMKICAgIC8vIGFzc2VydCgKICAgIC8vICAgVHhuLnNlbmRlciA9PT0gdGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS5jb25maWcub3duZXIubmF0aXZlLAogICAgLy8gICAnY2FuIG9ubHkgYmUgY2FsbGVkIGJ5IHZhbGlkYXRvciBvd25lcicsCiAgICAvLyApCiAgICBhc3NlcnQgLy8gY2FuIG9ubHkgYmUgY2FsbGVkIGJ5IHZhbGlkYXRvciBvd25lcgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo1OTUKICAgIC8vIHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUuY29uZmlnLmVudHJ5R2F0aW5nVHlwZSA9IEVudHJ5R2F0aW5nVHlwZQogICAgZHVwCiAgICBwdXNoaW50IDgwIC8vIDgwCiAgICBmcmFtZV9kaWcgLTUKICAgIGJveF9yZXBsYWNlCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjU5NgogICAgLy8gdGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS5jb25maWcuZW50cnlHYXRpbmdBZGRyZXNzID0gRW50cnlHYXRpbmdBZGRyZXNzCiAgICBkdXAKICAgIHB1c2hpbnQgODEgLy8gODEKICAgIGZyYW1lX2RpZyAtNAogICAgYm94X3JlcGxhY2UKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NTk3CiAgICAvLyB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLmNvbmZpZy5lbnRyeUdhdGluZ0Fzc2V0cyA9IGNsb25lKEVudHJ5R2F0aW5nQXNzZXRzKQogICAgZHVwCiAgICBwdXNoaW50IDExMyAvLyAxMTMKICAgIGZyYW1lX2RpZyAtMwogICAgYm94X3JlcGxhY2UKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NTk4CiAgICAvLyB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLmNvbmZpZy5nYXRpbmdBc3NldE1pbkJhbGFuY2UgPSBHYXRpbmdBc3NldE1pbkJhbGFuY2UKICAgIGZyYW1lX2RpZyAtMgogICAgaXRvYgogICAgZGlnIDEKICAgIHB1c2hpbnQgMTQ1IC8vIDE0NQogICAgdW5jb3ZlciAyCiAgICBib3hfcmVwbGFjZQogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo1OTkKICAgIC8vIHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUuY29uZmlnLnJld2FyZFBlclBheW91dCA9IFJld2FyZFBlclBheW91dAogICAgZnJhbWVfZGlnIC0xCiAgICBpdG9iCiAgICBwdXNoaW50IDE2MSAvLyAxNjEKICAgIHN3YXAKICAgIGJveF9yZXBsYWNlCiAgICByZXRzdWIKCgovLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjpWYWxpZGF0b3JSZWdpc3RyeS5hZGRQb29sKG1iclBheW1lbnQ6IHVpbnQ2NCwgdmFsaWRhdG9ySWQ6IHVpbnQ2NCwgbm9kZU51bTogdWludDY0KSAtPiBieXRlczoKYWRkUG9vbDoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NjEzCiAgICAvLyBhZGRQb29sKG1iclBheW1lbnQ6IGd0eG4uUGF5bWVudFR4biwgdmFsaWRhdG9ySWQ6IFZhbGlkYXRvcklkVHlwZSwgbm9kZU51bTogdWludDY0KTogVmFsaWRhdG9yUG9vbEtleSB7CiAgICBwcm90byAzIDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NjE2CiAgICAvLyBUeG4uc2VuZGVyID09PSB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLmNvbmZpZy5vd25lci5uYXRpdmUgfHwKICAgIHR4biBTZW5kZXIKICAgIGZyYW1lX2RpZyAtMgogICAgaXRvYgogICAgZHVwCiAgICBjb3ZlciAyCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjIyMQogICAgLy8gdmFsaWRhdG9yTGlzdCA9IEJveE1hcDxWYWxpZGF0b3JJZFR5cGUsIFZhbGlkYXRvckluZm8+KHsga2V5UHJlZml4OiAndicgfSkKICAgIGJ5dGVjXzAgLy8gInYiCiAgICBzd2FwCiAgICBjb25jYXQKICAgIGR1cAogICAgY292ZXIgMgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo2MTYKICAgIC8vIFR4bi5zZW5kZXIgPT09IHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUuY29uZmlnLm93bmVyLm5hdGl2ZSB8fAogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIGV4dHJhY3QgMCAyNDIKICAgIGV4dHJhY3QgOCAzMgogICAgPT0KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NjE2LTYxNwogICAgLy8gVHhuLnNlbmRlciA9PT0gdGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS5jb25maWcub3duZXIubmF0aXZlIHx8CiAgICAvLyAgIFR4bi5zZW5kZXIgPT09IHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUuY29uZmlnLm1hbmFnZXIubmF0aXZlLAogICAgYm56IGFkZFBvb2xfYm9vbF90cnVlQDIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NjE3CiAgICAvLyBUeG4uc2VuZGVyID09PSB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLmNvbmZpZy5tYW5hZ2VyLm5hdGl2ZSwKICAgIHR4biBTZW5kZXIKICAgIGZyYW1lX2RpZyAxCiAgICBib3hfZ2V0CiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgZXh0cmFjdCAwIDI0MgogICAgZXh0cmFjdCA0MCAzMgogICAgPT0KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NjE2LTYxNwogICAgLy8gVHhuLnNlbmRlciA9PT0gdGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS5jb25maWcub3duZXIubmF0aXZlIHx8CiAgICAvLyAgIFR4bi5zZW5kZXIgPT09IHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUuY29uZmlnLm1hbmFnZXIubmF0aXZlLAogICAgYnogYWRkUG9vbF9ib29sX2ZhbHNlQDMKCmFkZFBvb2xfYm9vbF90cnVlQDI6CiAgICBpbnRjXzEgLy8gMQoKYWRkUG9vbF9ib29sX21lcmdlQDQ6CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjYxNS02MTkKICAgIC8vIGFzc2VydCgKICAgIC8vICAgVHhuLnNlbmRlciA9PT0gdGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS5jb25maWcub3duZXIubmF0aXZlIHx8CiAgICAvLyAgICAgVHhuLnNlbmRlciA9PT0gdGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS5jb25maWcubWFuYWdlci5uYXRpdmUsCiAgICAvLyAgICdjYW4gb25seSBiZSBjYWxsZWQgYnkgb3duZXIgb3IgbWFuYWdlciBvZiB2YWxpZGF0b3InLAogICAgLy8gKQogICAgYXNzZXJ0IC8vIGNhbiBvbmx5IGJlIGNhbGxlZCBieSBvd25lciBvciBtYW5hZ2VyIG9mIHZhbGlkYXRvcgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo2MjIKICAgIC8vIGFzc2VydE1hdGNoKG1iclBheW1lbnQsIHsgYW1vdW50OiB0aGlzLmdldE1ickFtb3VudHMoKS5hZGRQb29sTWJyIH0pIC8vIFRPRE86IGZpeCByZWNlaXZlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MgfSkKICAgIGZyYW1lX2RpZyAtMwogICAgZ3R4bnMgQW1vdW50CiAgICBwdXNoaW50IDk2MzUwMCAvLyA5NjM1MDAKICAgID09CiAgICBhc3NlcnQgLy8gYXNzZXJ0IHRhcmdldCBpcyBtYXRjaCBmb3IgY29uZGl0aW9ucwogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo2MjQKICAgIC8vIGFzc2VydCh0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLmV4aXN0cywgInNwZWNpZmllZCB2YWxpZGF0b3IgaWQgaXNuJ3QgdmFsaWQiKQogICAgZnJhbWVfZGlnIDEKICAgIGR1cAogICAgYm94X2xlbgogICAgYnVyeSAxCiAgICBhc3NlcnQgLy8gc3BlY2lmaWVkIHZhbGlkYXRvciBpZCBpc24ndCB2YWxpZAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo2MjYKICAgIC8vIGxldCBudW1Qb29sczogdWludDY0ID0gdGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS5zdGF0ZS5udW1Qb29scy5uYXRpdmUKICAgIGR1cAogICAgYm94X2dldAogICAgcG9wCiAgICBkdXAKICAgIGV4dHJhY3QgMjQyIDI2CiAgICBpbnRjXzAgLy8gMAogICAgZXh0cmFjdF91aW50MTYKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NjI3CiAgICAvLyBpZiAoKG51bVBvb2xzIGFzIHVpbnQ2NCkgPj0gTUFYX1BPT0xTKSB7CiAgICBkdXAKICAgIGludGNfMyAvLyAyNAogICAgPj0KICAgICEKICAgIGFzc2VydCAvLyBhbHJlYWR5IGF0IG1heCBwb29sIHNpemUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NjMwCiAgICAvLyBudW1Qb29scyArPSAxCiAgICBpbnRjXzEgLy8gMQogICAgKwogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo2MzMtNjUzCiAgICAvLyBpdHhuCiAgICAvLyAgIC5hcHBsaWNhdGlvbkNhbGwoewogICAgLy8gICAgIG9uQ29tcGxldGlvbjogT25Db21wbGV0ZUFjdGlvbi5Ob09wLAogICAgLy8gICAgIGFwcHJvdmFsUHJvZ3JhbTogWwogICAgLy8gICAgICAgdGhpcy5zdGFraW5nUG9vbEFwcHJvdmFsUHJvZ3JhbS5yZWYuZXh0cmFjdCgwLCA0MDk2KSwKICAgIC8vICAgICAgIHRoaXMuc3Rha2luZ1Bvb2xBcHByb3ZhbFByb2dyYW0ucmVmLmV4dHJhY3QoNDA5NiwgdGhpcy5zdGFraW5nUG9vbEFwcHJvdmFsUHJvZ3JhbS5yZWYubGVuZ3RoIC0gNDA5NiksCiAgICAvLyAgICAgXSwKICAgIC8vICAgICBjbGVhclN0YXRlUHJvZ3JhbTogc3Rha2luZ1Bvb2woKS5jbGVhclN0YXRlUHJvZ3JhbSwKICAgIC8vICAgICBnbG9iYWxOdW1VaW50OiBzdGFraW5nUG9vbCgpLmdsb2JhbFVpbnRzLAogICAgLy8gICAgIGdsb2JhbE51bUJ5dGVzOiBzdGFraW5nUG9vbCgpLmdsb2JhbEJ5dGVzLAogICAgLy8gICAgIGV4dHJhUHJvZ3JhbVBhZ2VzOiAzLAogICAgLy8gICAgIGFwcEFyZ3M6IFsKICAgIC8vICAgICAgIC8vIGNyZWF0aW5nQ29udHJhY3RJRCwgdmFsaWRhdG9ySWQsIHBvb2xJZCwgbWluRW50cnlTdGFrZQogICAgLy8gICAgICAgbWV0aG9kU2VsZWN0b3IoJ2NyZWF0ZUFwcGxpY2F0aW9uKHVpbnQ2NCx1aW50NjQsdWludDY0LHVpbnQ2NCl2b2lkJyksCiAgICAvLyAgICAgICBvcC5pdG9iKEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25JZC5pZCksCiAgICAvLyAgICAgICBvcC5pdG9iKHZhbGlkYXRvcklkKSwKICAgIC8vICAgICAgIG9wLml0b2IobnVtUG9vbHMgYXMgdWludDY0KSwKICAgIC8vICAgICAgIG9wLml0b2IodGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS5jb25maWcubWluRW50cnlTdGFrZSksCiAgICAvLyAgICAgXSwKICAgIC8vICAgfSkKICAgIC8vICAgLnN1Ym1pdCgpCiAgICBpdHhuX2JlZ2luCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjIwNwogICAgLy8gc3Rha2luZ1Bvb2xBcHByb3ZhbFByb2dyYW0gPSBCb3g8Ynl0ZXM+KHsga2V5OiAncG9vbFRlbXBsYXRlQXBwcm92YWxCeXRlcycgfSkKICAgIGJ5dGVjIDQgLy8gInBvb2xUZW1wbGF0ZUFwcHJvdmFsQnl0ZXMiCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjYzNwogICAgLy8gdGhpcy5zdGFraW5nUG9vbEFwcHJvdmFsUHJvZ3JhbS5yZWYuZXh0cmFjdCgwLCA0MDk2KSwKICAgIGludGNfMCAvLyAwCiAgICBpbnRjIDE0IC8vIDQwOTYKICAgIGJveF9leHRyYWN0CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjIwNwogICAgLy8gc3Rha2luZ1Bvb2xBcHByb3ZhbFByb2dyYW0gPSBCb3g8Ynl0ZXM+KHsga2V5OiAncG9vbFRlbXBsYXRlQXBwcm92YWxCeXRlcycgfSkKICAgIGJ5dGVjIDQgLy8gInBvb2xUZW1wbGF0ZUFwcHJvdmFsQnl0ZXMiCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjYzOAogICAgLy8gdGhpcy5zdGFraW5nUG9vbEFwcHJvdmFsUHJvZ3JhbS5yZWYuZXh0cmFjdCg0MDk2LCB0aGlzLnN0YWtpbmdQb29sQXBwcm92YWxQcm9ncmFtLnJlZi5sZW5ndGggLSA0MDk2KSwKICAgIGJveF9sZW4KICAgIHBvcAogICAgaW50YyAxNCAvLyA0MDk2CiAgICAtCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjIwNwogICAgLy8gc3Rha2luZ1Bvb2xBcHByb3ZhbFByb2dyYW0gPSBCb3g8Ynl0ZXM+KHsga2V5OiAncG9vbFRlbXBsYXRlQXBwcm92YWxCeXRlcycgfSkKICAgIGJ5dGVjIDQgLy8gInBvb2xUZW1wbGF0ZUFwcHJvdmFsQnl0ZXMiCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjYzOAogICAgLy8gdGhpcy5zdGFraW5nUG9vbEFwcHJvdmFsUHJvZ3JhbS5yZWYuZXh0cmFjdCg0MDk2LCB0aGlzLnN0YWtpbmdQb29sQXBwcm92YWxQcm9ncmFtLnJlZi5sZW5ndGggLSA0MDk2KSwKICAgIGludGMgMTQgLy8gNDA5NgogICAgdW5jb3ZlciAyCiAgICBib3hfZXh0cmFjdAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo2NDcKICAgIC8vIG9wLml0b2IoR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbklkLmlkKSwKICAgIGdsb2JhbCBDdXJyZW50QXBwbGljYXRpb25JRAogICAgaXRvYgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo2NDkKICAgIC8vIG9wLml0b2IobnVtUG9vbHMgYXMgdWludDY0KSwKICAgIGRpZyAzCiAgICBpdG9iCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjY1MAogICAgLy8gb3AuaXRvYih0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLmNvbmZpZy5taW5FbnRyeVN0YWtlKSwKICAgIHVuY292ZXIgNQogICAgZXh0cmFjdCAwIDI0MgogICAgaW50YyAxMyAvLyAyMDkKICAgIGV4dHJhY3RfdWludDY0CiAgICBpdG9iCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjY0NgogICAgLy8gbWV0aG9kU2VsZWN0b3IoJ2NyZWF0ZUFwcGxpY2F0aW9uKHVpbnQ2NCx1aW50NjQsdWludDY0LHVpbnQ2NCl2b2lkJyksCiAgICBwdXNoYnl0ZXMgMHg1OWU5MGFhNiAvLyBtZXRob2QgImNyZWF0ZUFwcGxpY2F0aW9uKHVpbnQ2NCx1aW50NjQsdWludDY0LHVpbnQ2NCl2b2lkIgogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbkFyZ3MKICAgIHVuY292ZXIgMgogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbkFyZ3MKICAgIGZyYW1lX2RpZyAwCiAgICBkdXAKICAgIGNvdmVyIDYKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25BcmdzCiAgICBkaWcgMQogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbkFyZ3MKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25BcmdzCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjY0MwogICAgLy8gZXh0cmFQcm9ncmFtUGFnZXM6IDMsCiAgICBwdXNoaW50IDMgLy8gMwogICAgaXR4bl9maWVsZCBFeHRyYVByb2dyYW1QYWdlcwogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvY29tcGlsZWQuYWxnby50czo3LTkKICAgIC8vIHJldHVybiBjb21waWxlQXJjNChTdGFraW5nUG9vbCwgewogICAgLy8gICB0ZW1wbGF0ZVZhcnM6IHsgTkZEX1JFR0lTVFJZX0FQUF9JRDogMCBhcyB1aW50NjQsIEZFRV9TSU5LX0FERFI6IG5ldyBBZGRyZXNzKCkgfSwKICAgIC8vIH0pCiAgICBwdXNoaW50IDMgLy8gMwogICAgaXR4bl9maWVsZCBHbG9iYWxOdW1CeXRlU2xpY2UKICAgIHB1c2hpbnQgMTEgLy8gMTEKICAgIGl0eG5fZmllbGQgR2xvYmFsTnVtVWludAogICAgcHVzaGJ5dGVzIGJhc2U2NChDb0VCUXc9PSkKICAgIGl0eG5fZmllbGQgQ2xlYXJTdGF0ZVByb2dyYW1QYWdlcwogICAgdW5jb3ZlciAyCiAgICBpdHhuX2ZpZWxkIEFwcHJvdmFsUHJvZ3JhbVBhZ2VzCiAgICBzd2FwCiAgICBpdHhuX2ZpZWxkIEFwcHJvdmFsUHJvZ3JhbVBhZ2VzCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjYzNQogICAgLy8gb25Db21wbGV0aW9uOiBPbkNvbXBsZXRlQWN0aW9uLk5vT3AsCiAgICBpbnRjXzAgLy8gMAogICAgaXR4bl9maWVsZCBPbkNvbXBsZXRpb24KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NjMzLTY1MgogICAgLy8gaXR4bgogICAgLy8gICAuYXBwbGljYXRpb25DYWxsKHsKICAgIC8vICAgICBvbkNvbXBsZXRpb246IE9uQ29tcGxldGVBY3Rpb24uTm9PcCwKICAgIC8vICAgICBhcHByb3ZhbFByb2dyYW06IFsKICAgIC8vICAgICAgIHRoaXMuc3Rha2luZ1Bvb2xBcHByb3ZhbFByb2dyYW0ucmVmLmV4dHJhY3QoMCwgNDA5NiksCiAgICAvLyAgICAgICB0aGlzLnN0YWtpbmdQb29sQXBwcm92YWxQcm9ncmFtLnJlZi5leHRyYWN0KDQwOTYsIHRoaXMuc3Rha2luZ1Bvb2xBcHByb3ZhbFByb2dyYW0ucmVmLmxlbmd0aCAtIDQwOTYpLAogICAgLy8gICAgIF0sCiAgICAvLyAgICAgY2xlYXJTdGF0ZVByb2dyYW06IHN0YWtpbmdQb29sKCkuY2xlYXJTdGF0ZVByb2dyYW0sCiAgICAvLyAgICAgZ2xvYmFsTnVtVWludDogc3Rha2luZ1Bvb2woKS5nbG9iYWxVaW50cywKICAgIC8vICAgICBnbG9iYWxOdW1CeXRlczogc3Rha2luZ1Bvb2woKS5nbG9iYWxCeXRlcywKICAgIC8vICAgICBleHRyYVByb2dyYW1QYWdlczogMywKICAgIC8vICAgICBhcHBBcmdzOiBbCiAgICAvLyAgICAgICAvLyBjcmVhdGluZ0NvbnRyYWN0SUQsIHZhbGlkYXRvcklkLCBwb29sSWQsIG1pbkVudHJ5U3Rha2UKICAgIC8vICAgICAgIG1ldGhvZFNlbGVjdG9yKCdjcmVhdGVBcHBsaWNhdGlvbih1aW50NjQsdWludDY0LHVpbnQ2NCx1aW50NjQpdm9pZCcpLAogICAgLy8gICAgICAgb3AuaXRvYihHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uSWQuaWQpLAogICAgLy8gICAgICAgb3AuaXRvYih2YWxpZGF0b3JJZCksCiAgICAvLyAgICAgICBvcC5pdG9iKG51bVBvb2xzIGFzIHVpbnQ2NCksCiAgICAvLyAgICAgICBvcC5pdG9iKHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUuY29uZmlnLm1pbkVudHJ5U3Rha2UpLAogICAgLy8gICAgIF0sCiAgICAvLyAgIH0pCiAgICBwdXNoaW50IDYgLy8gNgogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgaW50Y18wIC8vIDAKICAgIGl0eG5fZmllbGQgRmVlCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjYzMy02NTMKICAgIC8vIGl0eG4KICAgIC8vICAgLmFwcGxpY2F0aW9uQ2FsbCh7CiAgICAvLyAgICAgb25Db21wbGV0aW9uOiBPbkNvbXBsZXRlQWN0aW9uLk5vT3AsCiAgICAvLyAgICAgYXBwcm92YWxQcm9ncmFtOiBbCiAgICAvLyAgICAgICB0aGlzLnN0YWtpbmdQb29sQXBwcm92YWxQcm9ncmFtLnJlZi5leHRyYWN0KDAsIDQwOTYpLAogICAgLy8gICAgICAgdGhpcy5zdGFraW5nUG9vbEFwcHJvdmFsUHJvZ3JhbS5yZWYuZXh0cmFjdCg0MDk2LCB0aGlzLnN0YWtpbmdQb29sQXBwcm92YWxQcm9ncmFtLnJlZi5sZW5ndGggLSA0MDk2KSwKICAgIC8vICAgICBdLAogICAgLy8gICAgIGNsZWFyU3RhdGVQcm9ncmFtOiBzdGFraW5nUG9vbCgpLmNsZWFyU3RhdGVQcm9ncmFtLAogICAgLy8gICAgIGdsb2JhbE51bVVpbnQ6IHN0YWtpbmdQb29sKCkuZ2xvYmFsVWludHMsCiAgICAvLyAgICAgZ2xvYmFsTnVtQnl0ZXM6IHN0YWtpbmdQb29sKCkuZ2xvYmFsQnl0ZXMsCiAgICAvLyAgICAgZXh0cmFQcm9ncmFtUGFnZXM6IDMsCiAgICAvLyAgICAgYXBwQXJnczogWwogICAgLy8gICAgICAgLy8gY3JlYXRpbmdDb250cmFjdElELCB2YWxpZGF0b3JJZCwgcG9vbElkLCBtaW5FbnRyeVN0YWtlCiAgICAvLyAgICAgICBtZXRob2RTZWxlY3RvcignY3JlYXRlQXBwbGljYXRpb24odWludDY0LHVpbnQ2NCx1aW50NjQsdWludDY0KXZvaWQnKSwKICAgIC8vICAgICAgIG9wLml0b2IoR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbklkLmlkKSwKICAgIC8vICAgICAgIG9wLml0b2IodmFsaWRhdG9ySWQpLAogICAgLy8gICAgICAgb3AuaXRvYihudW1Qb29scyBhcyB1aW50NjQpLAogICAgLy8gICAgICAgb3AuaXRvYih0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLmNvbmZpZy5taW5FbnRyeVN0YWtlKSwKICAgIC8vICAgICBdLAogICAgLy8gICB9KQogICAgLy8gICAuc3VibWl0KCkKICAgIGl0eG5fc3VibWl0CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjY1NQogICAgLy8gdGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS5zdGF0ZS5udW1Qb29scyA9IG5ldyBVaW50MTYobnVtUG9vbHMpCiAgICBkdXAKICAgIGJpdGxlbgogICAgcHVzaGludCAxNiAvLyAxNgogICAgPD0KICAgIGFzc2VydCAvLyBvdmVyZmxvdwogICAgZHVwCiAgICBleHRyYWN0IDYgMgogICAgZGlnIDQKICAgIHB1c2hpbnQgMjQyIC8vIDI0MgogICAgdW5jb3ZlciAyCiAgICBib3hfcmVwbGFjZQogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo2NTgKICAgIC8vIGNvbnN0IHBvb2xBcHBJZCA9IG9wLklUeG4uY3JlYXRlZEFwcGxpY2F0aW9uSWQuaWQKICAgIGl0eG4gQ3JlYXRlZEFwcGxpY2F0aW9uSUQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NjU5CiAgICAvLyB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLnBvb2xzW251bVBvb2xzIC0gMV0ucG9vbEFwcElkID0gcG9vbEFwcElkCiAgICB1bmNvdmVyIDIKICAgIGludGNfMSAvLyAxCiAgICAtCiAgICBkaWcgMQogICAgaXRvYgogICAgZGlnIDEKICAgIGludGNfMyAvLyAyNAogICAgPAogICAgYXNzZXJ0IC8vIGluZGV4IG91dCBvZiBib3VuZHMKICAgIHN3YXAKICAgIGludGNfMiAvLyAxOAogICAgKgogICAgaW50YyA0IC8vIDI2OAogICAgKwogICAgdW5jb3ZlciA1CiAgICBzd2FwCiAgICB1bmNvdmVyIDIKICAgIGJveF9yZXBsYWNlCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjY2MAogICAgLy8gdGhpcy5hZGRQb29sVG9Ob2RlKHZhbGlkYXRvcklkLCBwb29sQXBwSWQsIG5vZGVOdW0pCiAgICBmcmFtZV9kaWcgLTIKICAgIHN3YXAKICAgIGZyYW1lX2RpZyAtMQogICAgY2FsbHN1YiBhZGRQb29sVG9Ob2RlCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjY2OAogICAgLy8gcmV0dXJuIHsgaWQ6IHZhbGlkYXRvcklkLCBwb29sSWQ6IG51bVBvb2xzIGFzIHVpbnQ2NCwgcG9vbEFwcElkOiBvcC5JVHhuLmNyZWF0ZWRBcHBsaWNhdGlvbklkLmlkIH0KICAgIGl0eG4gQ3JlYXRlZEFwcGxpY2F0aW9uSUQKICAgIGNvdmVyIDIKICAgIGNvbmNhdAogICAgc3dhcAogICAgaXRvYgogICAgY29uY2F0CiAgICBmcmFtZV9idXJ5IDAKICAgIHJldHN1YgoKYWRkUG9vbF9ib29sX2ZhbHNlQDM6CiAgICBpbnRjXzAgLy8gMAogICAgYiBhZGRQb29sX2Jvb2xfbWVyZ2VANAoKCi8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OlZhbGlkYXRvclJlZ2lzdHJ5LmFkZFN0YWtlKHN0YWtlZEFtb3VudFBheW1lbnQ6IHVpbnQ2NCwgdmFsaWRhdG9ySWQ6IHVpbnQ2NCwgdmFsdWVUb1ZlcmlmeTogdWludDY0KSAtPiBieXRlczoKYWRkU3Rha2U6CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjY4MC02ODQKICAgIC8vIGFkZFN0YWtlKAogICAgLy8gICBzdGFrZWRBbW91bnRQYXltZW50OiBndHhuLlBheW1lbnRUeG4sCiAgICAvLyAgIHZhbGlkYXRvcklkOiBWYWxpZGF0b3JJZFR5cGUsCiAgICAvLyAgIHZhbHVlVG9WZXJpZnk6IHVpbnQ2NCwKICAgIC8vICk6IFZhbGlkYXRvclBvb2xLZXkgewogICAgcHJvdG8gMyAxCiAgICBpbnRjXzAgLy8gMAogICAgZHVwbiA3CiAgICBieXRlY18yIC8vICIiCiAgICBkdXBuIDEzCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjY4NQogICAgLy8gYXNzZXJ0KHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkuZXhpc3RzLCAic3BlY2lmaWVkIHZhbGlkYXRvciBpZCBpc24ndCB2YWxpZCIpCiAgICBmcmFtZV9kaWcgLTIKICAgIGl0b2IKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MjIxCiAgICAvLyB2YWxpZGF0b3JMaXN0ID0gQm94TWFwPFZhbGlkYXRvcklkVHlwZSwgVmFsaWRhdG9ySW5mbz4oeyBrZXlQcmVmaXg6ICd2JyB9KQogICAgYnl0ZWNfMCAvLyAidiIKICAgIHN3YXAKICAgIGNvbmNhdAogICAgZHVwbiAyCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjY4NQogICAgLy8gYXNzZXJ0KHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkuZXhpc3RzLCAic3BlY2lmaWVkIHZhbGlkYXRvciBpZCBpc24ndCB2YWxpZCIpCiAgICBib3hfbGVuCiAgICBidXJ5IDEKICAgIGFzc2VydCAvLyBzcGVjaWZpZWQgdmFsaWRhdG9yIGlkIGlzbid0IHZhbGlkCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjY4OAogICAgLy8gaWYgKHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUuY29uZmlnLnN1bnNldHRpbmdPbiA+IDApIHsKICAgIGJveF9nZXQKICAgIHBvcAogICAgZXh0cmFjdCAwIDI0MgogICAgaW50YyAxMSAvLyAyMjYKICAgIGV4dHJhY3RfdWludDY0CiAgICBieiBhZGRTdGFrZV9hZnRlcl9pZl9lbHNlQDIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NjkwCiAgICAvLyB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLmNvbmZpZy5zdW5zZXR0aW5nT24gPCBHbG9iYWwubGF0ZXN0VGltZXN0YW1wLAogICAgZnJhbWVfZGlnIDIyCiAgICBib3hfZ2V0CiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgZXh0cmFjdCAwIDI0MgogICAgaW50YyAxMSAvLyAyMjYKICAgIGV4dHJhY3RfdWludDY0CiAgICBnbG9iYWwgTGF0ZXN0VGltZXN0YW1wCiAgICA8CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjY4OS02OTIKICAgIC8vIGFzc2VydCgKICAgIC8vICAgdGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS5jb25maWcuc3Vuc2V0dGluZ09uIDwgR2xvYmFsLmxhdGVzdFRpbWVzdGFtcCwKICAgIC8vICAgImNhbid0IHN0YWtlIHdpdGggYSB2YWxpZGF0b3IgdGhhdCBpcyBwYXN0IGl0cyBzdW5zZXR0aW5nIHRpbWUiLAogICAgLy8gKQogICAgYXNzZXJ0IC8vIGNhbid0IHN0YWtlIHdpdGggYSB2YWxpZGF0b3IgdGhhdCBpcyBwYXN0IGl0cyBzdW5zZXR0aW5nIHRpbWUKCmFkZFN0YWtlX2FmdGVyX2lmX2Vsc2VAMjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6Njk1CiAgICAvLyBjb25zdCBzdGFrZXIgPSBuZXcgQWRkcmVzcyhUeG4uc2VuZGVyKQogICAgdHhuIFNlbmRlcgogICAgZHVwCiAgICBmcmFtZV9idXJ5IDUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6Njk5LTcwMgogICAgLy8gYXNzZXJ0TWF0Y2goc3Rha2VkQW1vdW50UGF5bWVudCwgewogICAgLy8gICBzZW5kZXI6IHN0YWtlci5uYXRpdmUsCiAgICAvLyAgIC8vIFRPRE86IEZJWCByZWNlaXZlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICAvLyB9KQogICAgZnJhbWVfZGlnIC0zCiAgICBndHhucyBTZW5kZXIKICAgIGR1cAogICAgZnJhbWVfYnVyeSA3CiAgICA9PQogICAgYXNzZXJ0IC8vIGFzc2VydCB0YXJnZXQgaXMgbWF0Y2ggZm9yIGNvbmRpdGlvbnMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NzA3CiAgICAvLyB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLnN0YXRlLnRvdGFsQWxnb1N0YWtlZCA8IHRoaXMubWF4QWxsb3dlZFN0YWtlKCksCiAgICBmcmFtZV9kaWcgMjIKICAgIGJveF9nZXQKICAgIGFzc2VydCAvLyBCb3ggbXVzdCBoYXZlIHZhbHVlCiAgICBkdXAKICAgIGV4dHJhY3QgMjQyIDI2CiAgICBwdXNoaW50IDEwIC8vIDEwCiAgICBleHRyYWN0X3VpbnQ2NAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxNTQ5CiAgICAvLyByZXR1cm4gMAogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NzA3CiAgICAvLyB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLnN0YXRlLnRvdGFsQWxnb1N0YWtlZCA8IHRoaXMubWF4QWxsb3dlZFN0YWtlKCksCiAgICA8CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjcwNi03MDkKICAgIC8vIGFzc2VydCgKICAgIC8vICAgdGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS5zdGF0ZS50b3RhbEFsZ29TdGFrZWQgPCB0aGlzLm1heEFsbG93ZWRTdGFrZSgpLAogICAgLy8gICAndG90YWwgc3Rha2VkIGZvciBhbGwgb2YgYSB2YWxpZGF0b3JzIHBvb2xzIG1heSBub3QgZXhjZWVkIGhhcmQgY2FwJywKICAgIC8vICkKICAgIGFzc2VydCAvLyB0b3RhbCBzdGFrZWQgZm9yIGFsbCBvZiBhIHZhbGlkYXRvcnMgcG9vbHMgbWF5IG5vdCBleGNlZWQgaGFyZCBjYXAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTQxMwogICAgLy8gY29uc3QgdHlwZSA9IHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUuY29uZmlnLmVudHJ5R2F0aW5nVHlwZS5uYXRpdmUKICAgIGV4dHJhY3QgMCAyNDIKICAgIHB1c2hpbnQgODAgLy8gODAKICAgIGdldGJ5dGUKICAgIGR1cAogICAgZnJhbWVfYnVyeSAyMAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxNDE0CiAgICAvLyBpZiAodHlwZSA9PT0gR0FUSU5HX1RZUEVfTk9ORSkgewogICAgYnogYWRkU3Rha2VfYWZ0ZXJfaW5saW5lZF9zbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjpWYWxpZGF0b3JSZWdpc3RyeS5kb2VzU3Rha2VyTWVldEdhdGluZ0A1NQogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxNDE3CiAgICAvLyBjb25zdCBzdGFrZXIgPSBUeG4uc2VuZGVyCiAgICB0eG4gU2VuZGVyCiAgICBmcmFtZV9idXJ5IDYKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTQxOAogICAgLy8gY29uc3QgY29uZmlnID0gY2xvbmUodGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS5jb25maWcpCiAgICBmcmFtZV9kaWcgMjIKICAgIGJveF9nZXQKICAgIHN3YXAKICAgIGZyYW1lX2J1cnkgMAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTQyMgogICAgLy8gdHlwZSA9PT0gR0FUSU5HX1RZUEVfQVNTRVRTX0NSRUFURURfQlkgfHwKICAgIGZyYW1lX2RpZyAyMAogICAgaW50Y18xIC8vIDEKICAgID09CiAgICBkdXAKICAgIGZyYW1lX2J1cnkgMTkKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTQyMi0xNDIzCiAgICAvLyB0eXBlID09PSBHQVRJTkdfVFlQRV9BU1NFVFNfQ1JFQVRFRF9CWSB8fAogICAgLy8gdHlwZSA9PT0gR0FUSU5HX1RZUEVfQVNTRVRfSUQgfHwKICAgIGJueiBhZGRTdGFrZV9pZl9ib2R5QDMyCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjE0MjMKICAgIC8vIHR5cGUgPT09IEdBVElOR19UWVBFX0FTU0VUX0lEIHx8CiAgICBmcmFtZV9kaWcgMjAKICAgIHB1c2hpbnQgMiAvLyAyCiAgICA9PQogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxNDIyLTE0MjMKICAgIC8vIHR5cGUgPT09IEdBVElOR19UWVBFX0FTU0VUU19DUkVBVEVEX0JZIHx8CiAgICAvLyB0eXBlID09PSBHQVRJTkdfVFlQRV9BU1NFVF9JRCB8fAogICAgYm56IGFkZFN0YWtlX2lmX2JvZHlAMzIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTQyNAogICAgLy8gdHlwZSA9PT0gR0FUSU5HX1RZUEVfQ1JFQVRFRF9CWV9ORkRfQUREUkVTU0VTCiAgICBmcmFtZV9kaWcgMjAKICAgIHB1c2hpbnQgMyAvLyAzCiAgICA9PQogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxNDIyLTE0MjQKICAgIC8vIHR5cGUgPT09IEdBVElOR19UWVBFX0FTU0VUU19DUkVBVEVEX0JZIHx8CiAgICAvLyB0eXBlID09PSBHQVRJTkdfVFlQRV9BU1NFVF9JRCB8fAogICAgLy8gdHlwZSA9PT0gR0FUSU5HX1RZUEVfQ1JFQVRFRF9CWV9ORkRfQUREUkVTU0VTCiAgICBieiBhZGRTdGFrZV9hZnRlcl9pZl9lbHNlQDM1CgphZGRTdGFrZV9pZl9ib2R5QDMyOgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxNDI2CiAgICAvLyBhc3NlcnQodmFsdWVUb1ZlcmlmeSAhPT0gMCkKICAgIGZyYW1lX2RpZyAtMQogICAgYXNzZXJ0CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjE0MzEKICAgIC8vIGNvbnN0IFthc3NldEJhbGFuY2VdID0gb3AuQXNzZXRIb2xkaW5nLmFzc2V0QmFsYW5jZShzdGFrZXIsIHZhbHVlVG9WZXJpZnkpCiAgICBmcmFtZV9kaWcgNgogICAgZnJhbWVfZGlnIC0xCiAgICBhc3NldF9ob2xkaW5nX2dldCBBc3NldEJhbGFuY2UKICAgIHBvcAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxNDMyCiAgICAvLyBhc3NlcnQoYXNzZXRCYWxhbmNlLCAnbXVzdCBoYXZlIHJlcXVpcmVkIG1pbmltdW0gYmFsYW5jZSBvZiB2YWxpZGF0b3IgZGVmaW5lZCB0b2tlbiB0byBhZGQgc3Rha2UnKQogICAgYXNzZXJ0IC8vIG11c3QgaGF2ZSByZXF1aXJlZCBtaW5pbXVtIGJhbGFuY2Ugb2YgdmFsaWRhdG9yIGRlZmluZWQgdG9rZW4gdG8gYWRkIHN0YWtlCgphZGRTdGFrZV9hZnRlcl9pZl9lbHNlQDM1OgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxNDM0CiAgICAvLyBpZiAodHlwZSA9PT0gR0FUSU5HX1RZUEVfQVNTRVRTX0NSRUFURURfQlkpIHsKICAgIGZyYW1lX2RpZyAxOQogICAgYnogYWRkU3Rha2VfYWZ0ZXJfaWZfZWxzZUAzNwogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxNDM2CiAgICAvLyBBc3NldCh2YWx1ZVRvVmVyaWZ5KS5jcmVhdG9yID09PSBjb25maWcuZW50cnlHYXRpbmdBZGRyZXNzLm5hdGl2ZSwKICAgIGZyYW1lX2RpZyAtMQogICAgYXNzZXRfcGFyYW1zX2dldCBBc3NldENyZWF0b3IKICAgIGFzc2VydCAvLyBhc3NldCBleGlzdHMKICAgIGZyYW1lX2RpZyAwCiAgICBleHRyYWN0IDAgMjQyCiAgICBleHRyYWN0IDgxIDMyCiAgICA9PQogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxNDM1LTE0MzgKICAgIC8vIGFzc2VydCgKICAgIC8vICAgQXNzZXQodmFsdWVUb1ZlcmlmeSkuY3JlYXRvciA9PT0gY29uZmlnLmVudHJ5R2F0aW5nQWRkcmVzcy5uYXRpdmUsCiAgICAvLyAgICdzcGVjaWZpZWQgYXNzZXQgbXVzdCBiZSBjcmVhdGVkIGJ5IGNyZWF0b3IgdGhhdCB0aGUgdmFsaWRhdG9yIGRlZmluZWQgYXMgYSByZXF1aXJlbWVudCB0byBzdGFrZScsCiAgICAvLyApCiAgICBhc3NlcnQgLy8gc3BlY2lmaWVkIGFzc2V0IG11c3QgYmUgY3JlYXRlZCBieSBjcmVhdG9yIHRoYXQgdGhlIHZhbGlkYXRvciBkZWZpbmVkIGFzIGEgcmVxdWlyZW1lbnQgdG8gc3Rha2UKCmFkZFN0YWtlX2FmdGVyX2lmX2Vsc2VAMzc6CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjE0NDAKICAgIC8vIGlmICh0eXBlID09PSBHQVRJTkdfVFlQRV9BU1NFVF9JRCkgewogICAgZnJhbWVfZGlnIDIwCiAgICBwdXNoaW50IDIgLy8gMgogICAgPT0KICAgIGJ6IGFkZFN0YWtlX2FmdGVyX2lmX2Vsc2VANDYKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTQ0MQogICAgLy8gYXNzZXJ0KHZhbHVlVG9WZXJpZnkgIT09IDApCiAgICBmcmFtZV9kaWcgLTEKICAgIGFzc2VydAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxNDQyCiAgICAvLyBsZXQgZm91bmQgPSBmYWxzZQogICAgaW50Y18wIC8vIDAKICAgIGZyYW1lX2J1cnkgMTAKICAgIGludGNfMCAvLyAwCiAgICBmcmFtZV9idXJ5IDE1CgphZGRTdGFrZV9mb3JfaGVhZGVyQDM5OgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxNDQzCiAgICAvLyBmb3IgKGNvbnN0IGFzc2V0SWQgb2YgY29uZmlnLmVudHJ5R2F0aW5nQXNzZXRzKSB7CiAgICBmcmFtZV9kaWcgMTUKICAgIHB1c2hpbnQgNCAvLyA0CiAgICA8CiAgICBieiBhZGRTdGFrZV9ibG9ja0A0NQogICAgZnJhbWVfZGlnIDAKICAgIGV4dHJhY3QgMCAyNDIKICAgIGV4dHJhY3QgMTEzIDMyCiAgICBmcmFtZV9kaWcgMTUKICAgIHB1c2hpbnQgOCAvLyA4CiAgICAqCiAgICBleHRyYWN0X3VpbnQ2NAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxNDQ0CiAgICAvLyBpZiAodmFsdWVUb1ZlcmlmeSA9PT0gYXNzZXRJZCkgewogICAgZnJhbWVfZGlnIC0xCiAgICA9PQogICAgYnogYWRkU3Rha2VfYWZ0ZXJfaWZfZWxzZUA0MgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxNDQ1CiAgICAvLyBmb3VuZCA9IHRydWUKICAgIGludGNfMSAvLyAxCiAgICBmcmFtZV9idXJ5IDEwCgphZGRTdGFrZV9ibG9ja0A0NToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTQ0OQogICAgLy8gYXNzZXJ0KGZvdW5kLCAnc3BlY2lmaWVkIGFzc2V0IG11c3QgYmUgaWRlbnRpY2FsIHRvIHRoZSBhc3NldCBpZCBkZWZpbmVkIGFzIGEgcmVxdWlyZW1lbnQgdG8gc3Rha2UnKQogICAgZnJhbWVfZGlnIDEwCiAgICBhc3NlcnQgLy8gc3BlY2lmaWVkIGFzc2V0IG11c3QgYmUgaWRlbnRpY2FsIHRvIHRoZSBhc3NldCBpZCBkZWZpbmVkIGFzIGEgcmVxdWlyZW1lbnQgdG8gc3Rha2UKCmFkZFN0YWtlX2FmdGVyX2lmX2Vsc2VANDY6CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjE0NTEKICAgIC8vIGlmICh0eXBlID09PSBHQVRJTkdfVFlQRV9DUkVBVEVEX0JZX05GRF9BRERSRVNTRVMpIHsKICAgIGZyYW1lX2RpZyAyMAogICAgcHVzaGludCAzIC8vIDMKICAgID09CiAgICBieiBhZGRTdGFrZV9hZnRlcl9pZl9lbHNlQDQ4CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjE0NTUKICAgIC8vIHRoaXMuaXNBZGRyZXNzSW5ORkRDQUFsZ29MaXN0KGNvbmZpZy5lbnRyeUdhdGluZ0Fzc2V0c1swXSwgbmV3IEFkZHJlc3MoQXNzZXQodmFsdWVUb1ZlcmlmeSkuY3JlYXRvcikpLAogICAgZnJhbWVfZGlnIDAKICAgIGV4dHJhY3QgMCAyNDIKICAgIGV4dHJhY3QgMTEzIDMyCiAgICBpbnRjXzAgLy8gMAogICAgZXh0cmFjdF91aW50NjQKICAgIGZyYW1lX2RpZyAtMQogICAgYXNzZXRfcGFyYW1zX2dldCBBc3NldENyZWF0b3IKICAgIGFzc2VydCAvLyBhc3NldCBleGlzdHMKICAgIGNhbGxzdWIgaXNBZGRyZXNzSW5ORkRDQUFsZ29MaXN0CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjE0NTQtMTQ1NwogICAgLy8gYXNzZXJ0KAogICAgLy8gICB0aGlzLmlzQWRkcmVzc0luTkZEQ0FBbGdvTGlzdChjb25maWcuZW50cnlHYXRpbmdBc3NldHNbMF0sIG5ldyBBZGRyZXNzKEFzc2V0KHZhbHVlVG9WZXJpZnkpLmNyZWF0b3IpKSwKICAgIC8vICAgJ3NwZWNpZmllZCBhc3NldCBtdXN0IGJlIGNyZWF0ZWQgYnkgY3JlYXRvciB0aGF0IGlzIG9uZSBvZiB0aGUgbGlua2VkIGFkZHJlc3NlcyBpbiBhbiBuZmQnLAogICAgLy8gKQogICAgYXNzZXJ0IC8vIHNwZWNpZmllZCBhc3NldCBtdXN0IGJlIGNyZWF0ZWQgYnkgY3JlYXRvciB0aGF0IGlzIG9uZSBvZiB0aGUgbGlua2VkIGFkZHJlc3NlcyBpbiBhbiBuZmQKCmFkZFN0YWtlX2FmdGVyX2lmX2Vsc2VANDg6CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjE0NTkKICAgIC8vIGlmICh0eXBlID09PSBHQVRJTkdfVFlQRV9TRUdNRU5UX09GX05GRCkgewogICAgZnJhbWVfZGlnIDIwCiAgICBwdXNoaW50IDQgLy8gNAogICAgPT0KICAgIGJ6IGFkZFN0YWtlX2FmdGVyX2lubGluZWRfc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo6VmFsaWRhdG9yUmVnaXN0cnkuZG9lc1N0YWtlck1lZXRHYXRpbmdANTUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTQ2MgogICAgLy8gYXNzZXJ0KHRoaXMuaXNORkRBcHBJRFZhbGlkKHVzZXJPZmZlcmVkTkZEQXBwSUQpLCAncHJvdmlkZWQgTkZEIG11c3QgYmUgdmFsaWQnKQogICAgZnJhbWVfZGlnIC0xCiAgICBjYWxsc3ViIGlzTkZEQXBwSURWYWxpZAogICAgYXNzZXJ0IC8vIHByb3ZpZGVkIE5GRCBtdXN0IGJlIHZhbGlkCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjE0NjUKICAgIC8vIGNvbnN0IFtvd25lckJ5dGVzXSA9IG9wLkFwcEdsb2JhbC5nZXRFeEJ5dGVzKHVzZXJPZmZlcmVkTkZEQXBwSUQsIEJ5dGVzKCdpLm93bmVyLmEnKSkKICAgIGZyYW1lX2RpZyAtMQogICAgYnl0ZWMgMTAgLy8gImkub3duZXIuYSIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBwb3AKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTQ2NwogICAgLy8gbmV3IEFkZHJlc3Mob3duZXJCeXRlcykgPT09IG5ldyBBZGRyZXNzKHN0YWtlcikgfHwKICAgIGZyYW1lX2RpZyA2CiAgICA9PQogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxNDY3LTE0NjgKICAgIC8vIG5ldyBBZGRyZXNzKG93bmVyQnl0ZXMpID09PSBuZXcgQWRkcmVzcyhzdGFrZXIpIHx8CiAgICAvLyAgIHRoaXMuaXNBZGRyZXNzSW5ORkRDQUFsZ29MaXN0KHVzZXJPZmZlcmVkTkZEQXBwSUQsIG5ldyBBZGRyZXNzKHN0YWtlcikpLAogICAgYm56IGFkZFN0YWtlX2Jvb2xfdHJ1ZUA1MQogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxNDY4CiAgICAvLyB0aGlzLmlzQWRkcmVzc0luTkZEQ0FBbGdvTGlzdCh1c2VyT2ZmZXJlZE5GREFwcElELCBuZXcgQWRkcmVzcyhzdGFrZXIpKSwKICAgIGZyYW1lX2RpZyAtMQogICAgZnJhbWVfZGlnIDYKICAgIGNhbGxzdWIgaXNBZGRyZXNzSW5ORkRDQUFsZ29MaXN0CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjE0NjctMTQ2OAogICAgLy8gbmV3IEFkZHJlc3Mob3duZXJCeXRlcykgPT09IG5ldyBBZGRyZXNzKHN0YWtlcikgfHwKICAgIC8vICAgdGhpcy5pc0FkZHJlc3NJbk5GRENBQWxnb0xpc3QodXNlck9mZmVyZWRORkRBcHBJRCwgbmV3IEFkZHJlc3Moc3Rha2VyKSksCiAgICBieiBhZGRTdGFrZV9ib29sX2ZhbHNlQDUyCgphZGRTdGFrZV9ib29sX3RydWVANTE6CiAgICBpbnRjXzEgLy8gMQoKYWRkU3Rha2VfYm9vbF9tZXJnZUA1MzoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTQ2Ni0xNDcwCiAgICAvLyBhc3NlcnQoCiAgICAvLyAgIG5ldyBBZGRyZXNzKG93bmVyQnl0ZXMpID09PSBuZXcgQWRkcmVzcyhzdGFrZXIpIHx8CiAgICAvLyAgICAgdGhpcy5pc0FkZHJlc3NJbk5GRENBQWxnb0xpc3QodXNlck9mZmVyZWRORkRBcHBJRCwgbmV3IEFkZHJlc3Moc3Rha2VyKSksCiAgICAvLyAgICJwcm92aWRlZCBuZmQgZm9yIGVudHJ5IGlzbid0IG93bmVkIG9yIGxpbmtlZCB0byB0aGUgc3Rha2VyIiwKICAgIC8vICkKICAgIGFzc2VydCAvLyBwcm92aWRlZCBuZmQgZm9yIGVudHJ5IGlzbid0IG93bmVkIG9yIGxpbmtlZCB0byB0aGUgc3Rha2VyCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjE0NzMKICAgIC8vIGNvbnN0IFtwYXJlbnRBcHBJZF0gPSBvcC5BcHBHbG9iYWwuZ2V0RXhVaW50NjQodXNlck9mZmVyZWRORkRBcHBJRCwgQnl0ZXMoJ2kucGFyZW50QXBwSUQnKSkKICAgIGZyYW1lX2RpZyAtMQogICAgcHVzaGJ5dGVzICJpLnBhcmVudEFwcElEIgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIHBvcAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxNDc1CiAgICAvLyBwYXJlbnRBcHBJZCA9PT0gY29uZmlnLmVudHJ5R2F0aW5nQXNzZXRzWzBdLAogICAgZnJhbWVfZGlnIDAKICAgIGV4dHJhY3QgMCAyNDIKICAgIGV4dHJhY3QgMTEzIDMyCiAgICBpbnRjXzAgLy8gMAogICAgZXh0cmFjdF91aW50NjQKICAgID09CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjE0NzQtMTQ3NwogICAgLy8gYXNzZXJ0KAogICAgLy8gICBwYXJlbnRBcHBJZCA9PT0gY29uZmlnLmVudHJ5R2F0aW5nQXNzZXRzWzBdLAogICAgLy8gICAnc3BlY2lmaWVkIG5mZCBtdXN0IGJlIGEgc2VnbWVudCBvZiB0aGUgbmZkIHRoZSB2YWxpZGF0b3Igc3BlY2lmaWVkIGFzIGEgcmVxdWlyZW1lbnQnLAogICAgLy8gKQogICAgYXNzZXJ0IC8vIHNwZWNpZmllZCBuZmQgbXVzdCBiZSBhIHNlZ21lbnQgb2YgdGhlIG5mZCB0aGUgdmFsaWRhdG9yIHNwZWNpZmllZCBhcyBhIHJlcXVpcmVtZW50CgphZGRTdGFrZV9hZnRlcl9pbmxpbmVkX3NtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OlZhbGlkYXRvclJlZ2lzdHJ5LmRvZXNTdGFrZXJNZWV0R2F0aW5nQDU1OgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo3MTUKICAgIC8vIGxldCByZWFsQW1vdW50ID0gc3Rha2VkQW1vdW50UGF5bWVudC5hbW91bnQKICAgIGZyYW1lX2RpZyAtMwogICAgZ3R4bnMgQW1vdW50CiAgICBkdXAKICAgIGZyYW1lX2J1cnkgMTcKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NzE2CiAgICAvLyBsZXQgbWJyQW10TGVmdEJlaGluZDogdWludDY0ID0gMAogICAgaW50Y18wIC8vIDAKICAgIGZyYW1lX2J1cnkgMTYKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MjI1CiAgICAvLyBzdGFrZXJQb29sU2V0ID0gQm94TWFwPEFkZHJlc3MsIEZpeGVkQXJyYXk8VmFsaWRhdG9yUG9vbEtleSwgdHlwZW9mIE1BWF9QT09MU19QRVJfU1RBS0VSPj4oeyBrZXlQcmVmaXg6ICdzcHMnIH0pCiAgICBieXRlYyA3IC8vICJzcHMiCiAgICBmcmFtZV9kaWcgNQogICAgY29uY2F0CiAgICBkdXAKICAgIGZyYW1lX2J1cnkgMgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo3MTkKICAgIC8vIGlmICghdGhpcy5zdGFrZXJQb29sU2V0KHN0YWtlcikuZXhpc3RzKSB7CiAgICBib3hfbGVuCiAgICBidXJ5IDEKICAgIHN3YXAKICAgIGZyYW1lX2J1cnkgMTgKICAgIGJueiBhZGRTdGFrZV9hZnRlcl9pZl9lbHNlQDQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NzIyCiAgICAvLyBtYnJBbXRMZWZ0QmVoaW5kID0gdGhpcy5nZXRNYnJBbW91bnRzKCkuYWRkU3Rha2VyTWJyCiAgICBwdXNoaW50IDM3MDAgLy8gMzcwMAogICAgZnJhbWVfYnVyeSAxNgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo3MjMKICAgIC8vIHJlYWxBbW91bnQgLT0gbWJyQW10TGVmdEJlaGluZAogICAgZnJhbWVfZGlnIDE3CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjcyMgogICAgLy8gbWJyQW10TGVmdEJlaGluZCA9IHRoaXMuZ2V0TWJyQW1vdW50cygpLmFkZFN0YWtlck1icgogICAgcHVzaGludCAzNzAwIC8vIDM3MDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NzIzCiAgICAvLyByZWFsQW1vdW50IC09IG1ickFtdExlZnRCZWhpbmQKICAgIC0KICAgIGZyYW1lX2J1cnkgMTgKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NzI0CiAgICAvLyB0aGlzLnN0YWtlclBvb2xTZXQoc3Rha2VyKS5jcmVhdGUoKQogICAgZnJhbWVfZGlnIDIKICAgIHB1c2hpbnQgMTQ0IC8vIDE0NAogICAgYm94X2NyZWF0ZQogICAgcG9wCgphZGRTdGFrZV9hZnRlcl9pZl9lbHNlQDQ6CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjcyOAogICAgLy8gY29uc3QgZmluZFJldCA9IHRoaXMuZmluZFBvb2xGb3JTdGFrZXIodmFsaWRhdG9ySWQsIHN0YWtlciwgcmVhbEFtb3VudCkKICAgIGZyYW1lX2RpZyAtMgogICAgZnJhbWVfZGlnIDUKICAgIGZyYW1lX2RpZyAxOAogICAgY2FsbHN1YiBmaW5kUG9vbEZvclN0YWtlcgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo3MjkKICAgIC8vIGNvbnN0IHBvb2xLZXkgPSBjbG9uZShmaW5kUmV0WzBdKQogICAgZHVwCiAgICBleHRyYWN0IDAgMjQKICAgIGR1cAogICAgY292ZXIgMgogICAgZnJhbWVfYnVyeSAzCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjczMAogICAgLy8gY29uc3QgaXNOZXdTdGFrZXJUb1ZhbGlkYXRvciA9IGZpbmRSZXRbMV0KICAgIGR1cAogICAgaW50YyA5IC8vIDE5MgogICAgZ2V0Yml0CiAgICBmcmFtZV9idXJ5IDE0CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjczMQogICAgLy8gY29uc3QgaXNOZXdTdGFrZXJUb1Byb3RvY29sID0gZmluZFJldFsyXQogICAgcHVzaGludCAxOTMgLy8gMTkzCiAgICBnZXRiaXQKICAgIGZyYW1lX2J1cnkgMTMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NzMyCiAgICAvLyBpZiAocG9vbEtleS5wb29sSWQgPT09IDApIHsKICAgIHB1c2hpbnQgOCAvLyA4CiAgICBleHRyYWN0X3VpbnQ2NAogICAgZHVwCiAgICBmcmFtZV9idXJ5IDIxCiAgICAhCiAgICAhCiAgICBhc3NlcnQgLy8gTm8gcG9vbCBhdmFpbGFibGUgd2l0aCBmcmVlIHN0YWtlLiAgVmFsaWRhdG9yIG5lZWRzIHRvIGFkZCBhbm90aGVyIHBvb2wKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTMzMwogICAgLy8gYXNzZXJ0KHRoaXMuc3Rha2VyUG9vbFNldChzdGFrZXIpLmV4aXN0cykKICAgIGZyYW1lX2RpZyAyCiAgICBkdXAKICAgIGJveF9sZW4KICAgIGJ1cnkgMQogICAgYXNzZXJ0CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEzMzUKICAgIC8vIGNvbnN0IHBvb2xTZXQgPSBjbG9uZSh0aGlzLnN0YWtlclBvb2xTZXQoc3Rha2VyKS52YWx1ZSkKICAgIGJveF9nZXQKICAgIHBvcAogICAgZnJhbWVfYnVyeSA0CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEzMzYKICAgIC8vIGxldCBmaXJzdEVtcHR5OiB1aW50NjQgPSAwCiAgICBpbnRjXzAgLy8gMAogICAgZnJhbWVfYnVyeSA4CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEzMzcKICAgIC8vIGZvciAobGV0IGk6IHVpbnQ2NCA9IDA7IGkgPCB0aGlzLnN0YWtlclBvb2xTZXQoc3Rha2VyKS52YWx1ZS5sZW5ndGg7IGkgKz0gMSkgewogICAgaW50Y18wIC8vIDAKICAgIGZyYW1lX2J1cnkgMTEKCmFkZFN0YWtlX3doaWxlX3RvcEA4OgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMzM3CiAgICAvLyBmb3IgKGxldCBpOiB1aW50NjQgPSAwOyBpIDwgdGhpcy5zdGFrZXJQb29sU2V0KHN0YWtlcikudmFsdWUubGVuZ3RoOyBpICs9IDEpIHsKICAgIGZyYW1lX2RpZyAyCiAgICBib3hfbGVuCiAgICBidXJ5IDEKICAgIGFzc2VydCAvLyBCb3ggbXVzdCBoYXZlIHZhbHVlCiAgICBmcmFtZV9kaWcgMTEKICAgIHB1c2hpbnQgNiAvLyA2CiAgICA8CiAgICBieiBhZGRTdGFrZV9hZnRlcl93aGlsZUAxNQogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMzM4CiAgICAvLyBpZiAoZW5jb2RlQXJjNChwb29sU2V0W2ldKSA9PT0gZW5jb2RlQXJjNChwb29sS2V5KSkgewogICAgZnJhbWVfZGlnIDExCiAgICBpbnRjXzMgLy8gMjQKICAgICoKICAgIGZyYW1lX2RpZyA0CiAgICBzd2FwCiAgICBpbnRjXzMgLy8gMjQKICAgIGV4dHJhY3QzIC8vIG9uIGVycm9yOiBpbmRleCBhY2Nlc3MgaXMgb3V0IG9mIGJvdW5kcwogICAgZHVwCiAgICBmcmFtZV9idXJ5IDEKICAgIGZyYW1lX2RpZyAzCiAgICA9PQogICAgYm56IGFkZFN0YWtlX2FmdGVyX2lubGluZWRfc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo6VmFsaWRhdG9yUmVnaXN0cnkudXBkYXRlU3Rha2VyUG9vbFNldEAxOAogICAgZnJhbWVfZGlnIDgKICAgIGR1cAogICAgZnJhbWVfYnVyeSA5CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEzNDIKICAgIC8vIGlmIChmaXJzdEVtcHR5ID09PSAwICYmIHBvb2xTZXRbaV0uaWQgPT09IDApIHsKICAgIGJueiBhZGRTdGFrZV9hZnRlcl9pZl9lbHNlQDE0CiAgICBmcmFtZV9kaWcgMQogICAgaW50Y18wIC8vIDAKICAgIGV4dHJhY3RfdWludDY0CiAgICBmcmFtZV9kaWcgOAogICAgZnJhbWVfYnVyeSA5CiAgICBibnogYWRkU3Rha2VfYWZ0ZXJfaWZfZWxzZUAxNAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMzQzCiAgICAvLyBmaXJzdEVtcHR5ID0gaSArIDEKICAgIGZyYW1lX2RpZyAxMQogICAgaW50Y18xIC8vIDEKICAgICsKICAgIGZyYW1lX2J1cnkgOQoKYWRkU3Rha2VfYWZ0ZXJfaWZfZWxzZUAxNDoKICAgIGZyYW1lX2RpZyA5CiAgICBmcmFtZV9idXJ5IDgKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTMzNwogICAgLy8gZm9yIChsZXQgaTogdWludDY0ID0gMDsgaSA8IHRoaXMuc3Rha2VyUG9vbFNldChzdGFrZXIpLnZhbHVlLmxlbmd0aDsgaSArPSAxKSB7CiAgICBmcmFtZV9kaWcgMTEKICAgIGludGNfMSAvLyAxCiAgICArCiAgICBmcmFtZV9idXJ5IDExCiAgICBiIGFkZFN0YWtlX3doaWxlX3RvcEA4CgphZGRTdGFrZV9hZnRlcl9pbmxpbmVkX3NtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OlZhbGlkYXRvclJlZ2lzdHJ5LnVwZGF0ZVN0YWtlclBvb2xTZXRAMTg6CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEyODgKICAgIC8vIGNvbnN0IHBvb2xBcHBJZCA9IHRoaXMudmFsaWRhdG9yTGlzdChwb29sS2V5LmlkKS52YWx1ZS5wb29sc1twb29sS2V5LnBvb2xJZCAtIDFdLnBvb2xBcHBJZAogICAgZnJhbWVfZGlnIDMKICAgIGludGNfMCAvLyAwCiAgICBleHRyYWN0X3VpbnQ2NAogICAgaXRvYgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoyMjEKICAgIC8vIHZhbGlkYXRvckxpc3QgPSBCb3hNYXA8VmFsaWRhdG9ySWRUeXBlLCBWYWxpZGF0b3JJbmZvPih7IGtleVByZWZpeDogJ3YnIH0pCiAgICBieXRlY18wIC8vICJ2IgogICAgc3dhcAogICAgY29uY2F0CiAgICBkdXAKICAgIGZyYW1lX2J1cnkgMjIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTI4OAogICAgLy8gY29uc3QgcG9vbEFwcElkID0gdGhpcy52YWxpZGF0b3JMaXN0KHBvb2xLZXkuaWQpLnZhbHVlLnBvb2xzW3Bvb2xLZXkucG9vbElkIC0gMV0ucG9vbEFwcElkCiAgICBkdXAKICAgIGJveF9nZXQKICAgIGFzc2VydCAvLyBCb3ggbXVzdCBoYXZlIHZhbHVlCiAgICBmcmFtZV9kaWcgMjEKICAgIGludGNfMSAvLyAxCiAgICAtCiAgICBzd2FwCiAgICBpbnRjIDQgLy8gMjY4CiAgICBpbnRjIDUgLy8gNDMyCiAgICBleHRyYWN0MwogICAgZGlnIDEKICAgIGludGNfMiAvLyAxOAogICAgKgogICAgc3dhcAogICAgZGlnIDEKICAgIGludGNfMiAvLyAxOAogICAgZXh0cmFjdDMgLy8gb24gZXJyb3I6IGluZGV4IGFjY2VzcyBpcyBvdXQgb2YgYm91bmRzCiAgICBpbnRjXzAgLy8gMAogICAgZXh0cmFjdF91aW50NjQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTMwMi0xMzExCiAgICAvLyBhYmlDYWxsKFN0YWtpbmdQb29sLnByb3RvdHlwZS5hZGRTdGFrZSwgewogICAgLy8gICBhcHBJZDogcG9vbEFwcElkLAogICAgLy8gICBhcmdzOiBbCiAgICAvLyAgICAgLy8gPT09PT09PQogICAgLy8gICAgIC8vIFRISVMgSVMgQSBTRU5EIG9mIHRoZSBhbW91bnQgcmVjZWl2ZWQgcmlnaHQgYmFjayBvdXQgYW5kIGludG8gdGhlIHN0YWtpbmcgcG9vbCBjb250cmFjdCBhY2NvdW50LgogICAgLy8gICAgIC8vID09PT09PT0KICAgIC8vICAgICBpdHhuLnBheW1lbnQoeyBhbW91bnQ6IHN0YWtlZEFtb3VudFBheW1lbnQuYW1vdW50IC0gbWJyQW10UGFpZCwgcmVjZWl2ZXI6IEFwcGxpY2F0aW9uKHBvb2xBcHBJZCkuYWRkcmVzcyB9KSwKICAgIC8vICAgICBuZXcgQWRkcmVzcyhzdGFrZWRBbW91bnRQYXltZW50LnNlbmRlciksCiAgICAvLyAgIF0sCiAgICAvLyB9KQogICAgaXR4bl9iZWdpbgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMzA4CiAgICAvLyBpdHhuLnBheW1lbnQoeyBhbW91bnQ6IHN0YWtlZEFtb3VudFBheW1lbnQuYW1vdW50IC0gbWJyQW10UGFpZCwgcmVjZWl2ZXI6IEFwcGxpY2F0aW9uKHBvb2xBcHBJZCkuYWRkcmVzcyB9KSwKICAgIGZyYW1lX2RpZyAxNwogICAgZnJhbWVfZGlnIDE2CiAgICAtCiAgICBkdXAKICAgIGNvdmVyIDIKICAgIGZyYW1lX2J1cnkgMTIKICAgIGR1cAogICAgYXBwX3BhcmFtc19nZXQgQXBwQWRkcmVzcwogICAgYXNzZXJ0IC8vIGFwcGxpY2F0aW9uIGV4aXN0cwogICAgaXR4bl9maWVsZCBSZWNlaXZlcgogICAgc3dhcAogICAgaXR4bl9maWVsZCBBbW91bnQKICAgIGludGNfMSAvLyAxCiAgICBpdHhuX2ZpZWxkIFR5cGVFbnVtCiAgICBpbnRjXzAgLy8gMAogICAgaXR4bl9maWVsZCBGZWUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTMwMi0xMzExCiAgICAvLyBhYmlDYWxsKFN0YWtpbmdQb29sLnByb3RvdHlwZS5hZGRTdGFrZSwgewogICAgLy8gICBhcHBJZDogcG9vbEFwcElkLAogICAgLy8gICBhcmdzOiBbCiAgICAvLyAgICAgLy8gPT09PT09PQogICAgLy8gICAgIC8vIFRISVMgSVMgQSBTRU5EIG9mIHRoZSBhbW91bnQgcmVjZWl2ZWQgcmlnaHQgYmFjayBvdXQgYW5kIGludG8gdGhlIHN0YWtpbmcgcG9vbCBjb250cmFjdCBhY2NvdW50LgogICAgLy8gICAgIC8vID09PT09PT0KICAgIC8vICAgICBpdHhuLnBheW1lbnQoeyBhbW91bnQ6IHN0YWtlZEFtb3VudFBheW1lbnQuYW1vdW50IC0gbWJyQW10UGFpZCwgcmVjZWl2ZXI6IEFwcGxpY2F0aW9uKHBvb2xBcHBJZCkuYWRkcmVzcyB9KSwKICAgIC8vICAgICBuZXcgQWRkcmVzcyhzdGFrZWRBbW91bnRQYXltZW50LnNlbmRlciksCiAgICAvLyAgIF0sCiAgICAvLyB9KQogICAgaXR4bl9uZXh0CiAgICBwdXNoYnl0ZXMgMHhmOWM3MGNiZCAvLyBtZXRob2QgImFkZFN0YWtlKHBheSxhZGRyZXNzKXVpbnQ2NCIKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25BcmdzCiAgICBmcmFtZV9kaWcgNwogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbkFyZ3MKICAgIGR1cAogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbklECiAgICBwdXNoaW50IDYgLy8gYXBwbAogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgaW50Y18wIC8vIDAKICAgIGl0eG5fZmllbGQgRmVlCiAgICBpdHhuX3N1Ym1pdAogICAgZ2l0eG4gMSBMYXN0TG9nCiAgICBleHRyYWN0IDAgNAogICAgYnl0ZWNfMSAvLyAweDE1MWY3Yzc1CiAgICA9PQogICAgYXNzZXJ0IC8vIEJ5dGVzIGhhcyB2YWxpZCBwcmVmaXgKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTMxMgogICAgLy8gZW5zdXJlQnVkZ2V0KDUwMCkKICAgIHB1c2hpbnQgNTAwIC8vIDUwMAogICAgaW50Y18wIC8vIDAKICAgIGNhbGxzdWIgZW5zdXJlX2J1ZGdldAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMzE1CiAgICAvLyBjb25zdCBbcG9vbE51bVN0YWtlcnNdID0gb3AuQXBwR2xvYmFsLmdldEV4VWludDY0KHBvb2xBcHBJZCwgQnl0ZXMoJ251bVN0YWtlcnMnKSkKICAgIGR1cAogICAgYnl0ZWMgNSAvLyAibnVtU3Rha2VycyIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBwb3AKICAgIHN3YXAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTMxNgogICAgLy8gY29uc3QgW3Bvb2xBbGdvU3Rha2VkXSA9IG9wLkFwcEdsb2JhbC5nZXRFeFVpbnQ2NChwb29sQXBwSWQsIEJ5dGVzKCdzdGFrZWQnKSkKICAgIGJ5dGVjXzMgLy8gInN0YWtlZCIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBwb3AKICAgIHN3YXAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTMxOAogICAgLy8gdGhpcy52YWxpZGF0b3JMaXN0KHBvb2xLZXkuaWQpLnZhbHVlLnBvb2xzW3Bvb2xLZXkucG9vbElkIC0gMV0udG90YWxTdGFrZXJzID0gbmV3IFVpbnQxNihwb29sTnVtU3Rha2VycykKICAgIGl0b2IKICAgIGR1cAogICAgYml0bGVuCiAgICBwdXNoaW50IDE2IC8vIDE2CiAgICA8PQogICAgYXNzZXJ0IC8vIG92ZXJmbG93CiAgICBleHRyYWN0IDYgMgogICAgdW5jb3ZlciAzCiAgICBpbnRjXzMgLy8gMjQKICAgIDwKICAgIGFzc2VydCAvLyBpbmRleCBvdXQgb2YgYm91bmRzCiAgICBkaWcgMgogICAgcHVzaGludCAyNzYgLy8gMjc2CiAgICArCiAgICBkaWcgNAogICAgc3dhcAogICAgdW5jb3ZlciAyCiAgICBib3hfcmVwbGFjZQogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMzE5CiAgICAvLyB0aGlzLnZhbGlkYXRvckxpc3QocG9vbEtleS5pZCkudmFsdWUucG9vbHNbcG9vbEtleS5wb29sSWQgLSAxXS50b3RhbEFsZ29TdGFrZWQgPSBwb29sQWxnb1N0YWtlZAogICAgaXRvYgogICAgc3dhcAogICAgaW50YyAxNSAvLyAyNzgKICAgICsKICAgIHN3YXAKICAgIGJveF9yZXBsYWNlCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEzMjIKICAgIC8vIGlmIChpc05ld1N0YWtlclRvVmFsaWRhdG9yKSB7CiAgICBmcmFtZV9kaWcgMTQKICAgIGJ6IGFkZFN0YWtlX2FmdGVyX2lmX2Vsc2VAMjMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTMyMwogICAgLy8gdGhpcy52YWxpZGF0b3JMaXN0KHBvb2xLZXkuaWQpLnZhbHVlLnN0YXRlLnRvdGFsU3Rha2VycyArPSAxCiAgICBmcmFtZV9kaWcgMjIKICAgIGR1cAogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIGV4dHJhY3QgMjQyIDI2CiAgICBwdXNoaW50IDIgLy8gMgogICAgZXh0cmFjdF91aW50NjQKICAgIGludGNfMSAvLyAxCiAgICArCiAgICBpdG9iCiAgICBwdXNoaW50IDI0NCAvLyAyNDQKICAgIHN3YXAKICAgIGJveF9yZXBsYWNlCgphZGRTdGFrZV9hZnRlcl9pZl9lbHNlQDIzOgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMzI1CiAgICAvLyBpZiAoaXNOZXdTdGFrZXJUb1Byb3RvY29sKSB7CiAgICBmcmFtZV9kaWcgMTMKICAgIGJ6IGFkZFN0YWtlX2FmdGVyX2lmX2Vsc2VAMjUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTMyNgogICAgLy8gdGhpcy5udW1TdGFrZXJzLnZhbHVlICs9IDEKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjIxNAogICAgLy8gbnVtU3Rha2VycyA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oeyBrZXk6ICdudW1TdGFrZXJzJyB9KQogICAgYnl0ZWMgNSAvLyAibnVtU3Rha2VycyIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTMyNgogICAgLy8gdGhpcy5udW1TdGFrZXJzLnZhbHVlICs9IDEKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBpbnRjXzEgLy8gMQogICAgKwogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoyMTQKICAgIC8vIG51bVN0YWtlcnMgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KHsga2V5OiAnbnVtU3Rha2VycycgfSkKICAgIGJ5dGVjIDUgLy8gIm51bVN0YWtlcnMiCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEzMjYKICAgIC8vIHRoaXMubnVtU3Rha2Vycy52YWx1ZSArPSAxCiAgICBzd2FwCiAgICBhcHBfZ2xvYmFsX3B1dAoKYWRkU3Rha2VfYWZ0ZXJfaWZfZWxzZUAyNToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTMyOAogICAgLy8gdGhpcy52YWxpZGF0b3JMaXN0KHBvb2xLZXkuaWQpLnZhbHVlLnN0YXRlLnRvdGFsQWxnb1N0YWtlZCArPSBzdGFrZWRBbW91bnRQYXltZW50LmFtb3VudCAtIG1ickFtdFBhaWQKICAgIGZyYW1lX2RpZyAyMgogICAgZHVwCiAgICBib3hfZ2V0CiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgZXh0cmFjdCAyNDIgMjYKICAgIHB1c2hpbnQgMTAgLy8gMTAKICAgIGV4dHJhY3RfdWludDY0CiAgICBmcmFtZV9kaWcgMTIKICAgIGR1cAogICAgY292ZXIgMgogICAgKwogICAgaXRvYgogICAgdW5jb3ZlciAyCiAgICBpbnRjIDE2IC8vIDI1MgogICAgdW5jb3ZlciAyCiAgICBib3hfcmVwbGFjZQogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMzI5CiAgICAvLyB0aGlzLnRvdGFsQWxnb1N0YWtlZC52YWx1ZSArPSBzdGFrZWRBbW91bnRQYXltZW50LmFtb3VudCAtIG1ickFtdFBhaWQKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjIxNwogICAgLy8gdG90YWxBbGdvU3Rha2VkID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGtleTogJ3N0YWtlZCcgfSkKICAgIGJ5dGVjXzMgLy8gInN0YWtlZCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTMyOQogICAgLy8gdGhpcy50b3RhbEFsZ29TdGFrZWQudmFsdWUgKz0gc3Rha2VkQW1vdW50UGF5bWVudC5hbW91bnQgLSBtYnJBbXRQYWlkCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgKwogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoyMTcKICAgIC8vIHRvdGFsQWxnb1N0YWtlZCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oeyBrZXk6ICdzdGFrZWQnIH0pCiAgICBieXRlY18zIC8vICJzdGFrZWQiCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEzMjkKICAgIC8vIHRoaXMudG90YWxBbGdvU3Rha2VkLnZhbHVlICs9IHN0YWtlZEFtb3VudFBheW1lbnQuYW1vdW50IC0gbWJyQW10UGFpZAogICAgc3dhcAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NzQ5CiAgICAvLyByZXR1cm4gcG9vbEtleQogICAgZnJhbWVfZGlnIDMKICAgIGZyYW1lX2J1cnkgMAogICAgcmV0c3ViCgphZGRTdGFrZV9hZnRlcl93aGlsZUAxNToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTM0NgogICAgLy8gaWYgKGZpcnN0RW1wdHkgPT09IDApIHsKICAgIGZyYW1lX2RpZyA4CiAgICBkdXAKICAgICEKICAgICEKICAgIGFzc2VydCAvLyBObyBlbXB0eSBzbG90IGF2YWlsYWJsZSBpbiB0aGUgc3Rha2VyIHBvb2wgc2V0CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEzNDkKICAgIC8vIHRoaXMuc3Rha2VyUG9vbFNldChzdGFrZXIpLnZhbHVlW2ZpcnN0RW1wdHkgLSAxXSA9IGNsb25lKHBvb2xLZXkpCiAgICBpbnRjXzEgLy8gMQogICAgLQogICAgaW50Y18zIC8vIDI0CiAgICAqCiAgICBmcmFtZV9kaWcgMgogICAgc3dhcAogICAgZnJhbWVfZGlnIDMKICAgIGJveF9yZXBsYWNlCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjczNwogICAgLy8gdGhpcy51cGRhdGVTdGFrZXJQb29sU2V0KHN0YWtlciwgcG9vbEtleSkKICAgIGIgYWRkU3Rha2VfYWZ0ZXJfaW5saW5lZF9zbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjpWYWxpZGF0b3JSZWdpc3RyeS51cGRhdGVTdGFrZXJQb29sU2V0QDE4CgphZGRTdGFrZV9ib29sX2ZhbHNlQDUyOgogICAgaW50Y18wIC8vIDAKICAgIGIgYWRkU3Rha2VfYm9vbF9tZXJnZUA1MwoKYWRkU3Rha2VfYWZ0ZXJfaWZfZWxzZUA0MjoKICAgIGZyYW1lX2RpZyAxNQogICAgaW50Y18xIC8vIDEKICAgICsKICAgIGZyYW1lX2J1cnkgMTUKICAgIGIgYWRkU3Rha2VfZm9yX2hlYWRlckAzOQoKCi8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OlZhbGlkYXRvclJlZ2lzdHJ5LnNldFRva2VuUGF5b3V0UmF0aW8odmFsaWRhdG9ySWQ6IHVpbnQ2NCkgLT4gYnl0ZXM6CnNldFRva2VuUGF5b3V0UmF0aW86CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjc2NwogICAgLy8gc2V0VG9rZW5QYXlvdXRSYXRpbyh2YWxpZGF0b3JJZDogVmFsaWRhdG9ySWRUeXBlKTogUG9vbFRva2VuUGF5b3V0UmF0aW8gewogICAgcHJvdG8gMSAxCiAgICBieXRlY18yIC8vICIiCiAgICBkdXBuIDMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NzY5CiAgICAvLyBjb25zdCBwb29sMUFwcElEID0gdGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS5wb29sc1swXS5wb29sQXBwSWQKICAgIGZyYW1lX2RpZyAtMQogICAgaXRvYgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoyMjEKICAgIC8vIHZhbGlkYXRvckxpc3QgPSBCb3hNYXA8VmFsaWRhdG9ySWRUeXBlLCBWYWxpZGF0b3JJbmZvPih7IGtleVByZWZpeDogJ3YnIH0pCiAgICBieXRlY18wIC8vICJ2IgogICAgc3dhcAogICAgY29uY2F0CiAgICBkdXAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NzY5CiAgICAvLyBjb25zdCBwb29sMUFwcElEID0gdGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS5wb29sc1swXS5wb29sQXBwSWQKICAgIGJveF9nZXQKICAgIGFzc2VydCAvLyBCb3ggbXVzdCBoYXZlIHZhbHVlCiAgICBpbnRjIDQgLy8gMjY4CiAgICBpbnRjIDUgLy8gNDMyCiAgICBleHRyYWN0MwogICAgZXh0cmFjdCAwIDE4IC8vIG9uIGVycm9yOiBpbmRleCBhY2Nlc3MgaXMgb3V0IG9mIGJvdW5kcwogICAgaW50Y18wIC8vIDAKICAgIGV4dHJhY3RfdWludDY0CiAgICBkdXBuIDIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NzcwCiAgICAvLyBhc3NlcnQocG9vbDFBcHBJRCAhPT0gMCkKICAgIGFzc2VydAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo3NzIKICAgIC8vIGlmIChUeG4uc2VuZGVyICE9PSBBcHBsaWNhdGlvbihwb29sMUFwcElEKS5hZGRyZXNzKSB7CiAgICB0eG4gU2VuZGVyCiAgICBzd2FwCiAgICBhcHBfcGFyYW1zX2dldCBBcHBBZGRyZXNzCiAgICBhc3NlcnQgLy8gYXBwbGljYXRpb24gZXhpc3RzCiAgICAhPQogICAgYnogc2V0VG9rZW5QYXlvdXRSYXRpb19hZnRlcl9pZl9lbHNlQDIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NzczCiAgICAvLyByZXR1cm4gdGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS50b2tlblBheW91dFJhdGlvCiAgICBmcmFtZV9kaWcgNAogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIGludGMgNiAvLyA3MDAKICAgIGludGMgNyAvLyAyMDAKICAgIGV4dHJhY3QzCiAgICBmcmFtZV9idXJ5IDAKICAgIHJldHN1YgoKc2V0VG9rZW5QYXlvdXRSYXRpb19hZnRlcl9pZl9lbHNlQDI6CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjc3OQogICAgLy8gY29uc3QgY3VyUm91bmQgPSBHbG9iYWwucm91bmQKICAgIGdsb2JhbCBSb3VuZAogICAgZnJhbWVfYnVyeSAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjc4MAogICAgLy8gY29uc3QgbGFzdFBheW91dFVwZGF0ZSA9IHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUudG9rZW5QYXlvdXRSYXRpby51cGRhdGVkRm9yUGF5b3V0CiAgICBmcmFtZV9kaWcgNAogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIGludGMgNiAvLyA3MDAKICAgIGludGMgNyAvLyAyMDAKICAgIGV4dHJhY3QzCiAgICBpbnRjIDkgLy8gMTkyCiAgICBleHRyYWN0X3VpbnQ2NAogICAgZHVwCiAgICBmcmFtZV9idXJ5IDMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NzgxCiAgICAvLyBpZiAobGFzdFBheW91dFVwZGF0ZSAhPT0gMCkgewogICAgYnogc2V0VG9rZW5QYXlvdXRSYXRpb19hZnRlcl9pZl9lbHNlQDgKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NzgyCiAgICAvLyBjb25zdCBbbGFzdFBheW91dF0gPSBvcC5BcHBHbG9iYWwuZ2V0RXhVaW50NjQocG9vbDFBcHBJRCwgQnl0ZXMoJ2xhc3RQYXlvdXQnKSkKICAgIGZyYW1lX2RpZyA1CiAgICBwdXNoYnl0ZXMgImxhc3RQYXlvdXQiCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgcG9wCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjc4NAogICAgLy8gaWYgKGxhc3RQYXlvdXQgPT09IGxhc3RQYXlvdXRVcGRhdGUpIHsKICAgIGZyYW1lX2RpZyAzCiAgICA9PQogICAgYnogc2V0VG9rZW5QYXlvdXRSYXRpb19hZnRlcl9pZl9lbHNlQDUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6Nzg1CiAgICAvLyByZXR1cm4gdGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS50b2tlblBheW91dFJhdGlvCiAgICBmcmFtZV9kaWcgNAogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIGludGMgNiAvLyA3MDAKICAgIGludGMgNyAvLyAyMDAKICAgIGV4dHJhY3QzCiAgICBmcmFtZV9idXJ5IDAKICAgIHJldHN1YgoKc2V0VG9rZW5QYXlvdXRSYXRpb19hZnRlcl9pZl9lbHNlQDU6CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjc4NwogICAgLy8gY29uc3QgZXBvY2hSb3VuZExlbmd0aCA9IHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUuY29uZmlnLmVwb2NoUm91bmRMZW5ndGgubmF0aXZlCiAgICBmcmFtZV9kaWcgNAogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIGV4dHJhY3QgMCAyNDIKICAgIHB1c2hpbnQgMTY5IC8vIDE2OQogICAgZXh0cmFjdF91aW50MzIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6Nzg4CiAgICAvLyBjb25zdCB0aGlzRXBvY2hCZWdpbjogdWludDY0ID0gY3VyUm91bmQgLSAoY3VyUm91bmQgJSBlcG9jaFJvdW5kTGVuZ3RoKQogICAgZnJhbWVfZGlnIDEKICAgIGR1cAogICAgY292ZXIgMgogICAgZGlnIDEKICAgICUKICAgIHVuY292ZXIgMgogICAgc3dhcAogICAgLQogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo3OTAKICAgIC8vIGlmIChsYXN0UGF5b3V0VXBkYXRlIC0gKGxhc3RQYXlvdXRVcGRhdGUgJSBlcG9jaFJvdW5kTGVuZ3RoKSA9PT0gdGhpc0Vwb2NoQmVnaW4pIHsKICAgIGZyYW1lX2RpZyAzCiAgICBkdXAKICAgIHVuY292ZXIgMwogICAgJQogICAgLQogICAgPT0KICAgIGJ6IHNldFRva2VuUGF5b3V0UmF0aW9fYWZ0ZXJfaWZfZWxzZUA4CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjc5MQogICAgLy8gcmV0dXJuIHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUudG9rZW5QYXlvdXRSYXRpbwogICAgZnJhbWVfZGlnIDQKICAgIGJveF9nZXQKICAgIGFzc2VydCAvLyBCb3ggbXVzdCBoYXZlIHZhbHVlCiAgICBpbnRjIDYgLy8gNzAwCiAgICBpbnRjIDcgLy8gMjAwCiAgICBleHRyYWN0MwogICAgZnJhbWVfYnVyeSAwCiAgICByZXRzdWIKCnNldFRva2VuUGF5b3V0UmF0aW9fYWZ0ZXJfaWZfZWxzZUA4OgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo3OTQKICAgIC8vIHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUudG9rZW5QYXlvdXRSYXRpby51cGRhdGVkRm9yUGF5b3V0ID0gY3VyUm91bmQKICAgIGZyYW1lX2RpZyAxCiAgICBpdG9iCiAgICBmcmFtZV9kaWcgNAogICAgZHVwCiAgICBjb3ZlciAyCiAgICBwdXNoaW50IDg5MiAvLyA4OTIKICAgIHVuY292ZXIgMgogICAgYm94X3JlcGxhY2UKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6Nzk2CiAgICAvLyBjb25zdCBjdXJOdW1Qb29scyA9IHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUuc3RhdGUubnVtUG9vbHMubmF0aXZlCiAgICBib3hfZ2V0CiAgICBwb3AKICAgIGV4dHJhY3QgMjQyIDI2CiAgICBpbnRjXzAgLy8gMAogICAgZXh0cmFjdF91aW50MTYKICAgIGZyYW1lX2J1cnkgMAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo3OTgKICAgIC8vIGZvciAobGV0IGk6IHVpbnQ2NCA9IDA7IGkgPCBjdXJOdW1Qb29sczsgaSArPSAxKSB7CiAgICBpbnRjXzAgLy8gMAogICAgZnJhbWVfYnVyeSAyCgpzZXRUb2tlblBheW91dFJhdGlvX3doaWxlX3RvcEA5OgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo3OTgKICAgIC8vIGZvciAobGV0IGk6IHVpbnQ2NCA9IDA7IGkgPCBjdXJOdW1Qb29sczsgaSArPSAxKSB7CiAgICBmcmFtZV9kaWcgMgogICAgZnJhbWVfZGlnIDAKICAgIDwKICAgIGJ6IHNldFRva2VuUGF5b3V0UmF0aW9fYWZ0ZXJfd2hpbGVAMTEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6ODA4CiAgICAvLyB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLnRva2VuUGF5b3V0UmF0aW8ucG9vbFBjdE9mV2hvbGVbaV0gPSBvdXJQb29sUGN0T2ZXaG9sZQogICAgaW50Y18wIC8vIDAKICAgIGl0b2IKICAgIGZyYW1lX2RpZyAyCiAgICBkdXAKICAgIGludGNfMyAvLyAyNAogICAgPAogICAgYXNzZXJ0IC8vIGluZGV4IG91dCBvZiBib3VuZHMKICAgIGR1cAogICAgcHVzaGludCA4IC8vIDgKICAgICoKICAgIGludGMgNiAvLyA3MDAKICAgICsKICAgIGZyYW1lX2RpZyA0CiAgICBzd2FwCiAgICB1bmNvdmVyIDMKICAgIGJveF9yZXBsYWNlCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjc5OAogICAgLy8gZm9yIChsZXQgaTogdWludDY0ID0gMDsgaSA8IGN1ck51bVBvb2xzOyBpICs9IDEpIHsKICAgIGludGNfMSAvLyAxCiAgICArCiAgICBmcmFtZV9idXJ5IDIKICAgIGIgc2V0VG9rZW5QYXlvdXRSYXRpb193aGlsZV90b3BAOQoKc2V0VG9rZW5QYXlvdXRSYXRpb19hZnRlcl93aGlsZUAxMToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6ODEwCiAgICAvLyByZXR1cm4gdGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS50b2tlblBheW91dFJhdGlvCiAgICBmcmFtZV9kaWcgNAogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIGludGMgNiAvLyA3MDAKICAgIGludGMgNyAvLyAyMDAKICAgIGV4dHJhY3QzCiAgICBmcmFtZV9idXJ5IDAKICAgIHJldHN1YgoKCi8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OlZhbGlkYXRvclJlZ2lzdHJ5LnN0YWtlVXBkYXRlZFZpYVJld2FyZHMocG9vbEtleTogYnl0ZXMsIGFsZ29Ub0FkZDogdWludDY0LCByZXdhcmRUb2tlbkFtb3VudFJlc2VydmVkOiB1aW50NjQsIHZhbGlkYXRvckNvbW1pc3Npb246IHVpbnQ2NCwgc2F0dXJhdGVkQnVyblRvRmVlU2luazogdWludDY0KSAtPiB2b2lkOgpzdGFrZVVwZGF0ZWRWaWFSZXdhcmRzOgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo4MjQtODMwCiAgICAvLyBzdGFrZVVwZGF0ZWRWaWFSZXdhcmRzKAogICAgLy8gICBwb29sS2V5OiBWYWxpZGF0b3JQb29sS2V5LAogICAgLy8gICBhbGdvVG9BZGQ6IHVpbnQ2NCwKICAgIC8vICAgcmV3YXJkVG9rZW5BbW91bnRSZXNlcnZlZDogdWludDY0LAogICAgLy8gICB2YWxpZGF0b3JDb21taXNzaW9uOiB1aW50NjQsCiAgICAvLyAgIHNhdHVyYXRlZEJ1cm5Ub0ZlZVNpbms6IHVpbnQ2NCwKICAgIC8vICk6IHZvaWQgewogICAgcHJvdG8gNSAwCiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo4MzEKICAgIC8vIHRoaXMudmVyaWZ5UG9vbEtleUNhbGxlcihwb29sS2V5KQogICAgZnJhbWVfZGlnIC01CiAgICBjYWxsc3ViIHZlcmlmeVBvb2xLZXlDYWxsZXIKICAgIGR1cAogICAgZnJhbWVfYnVyeSAtNQogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo4MzQKICAgIC8vIHRoaXMudmFsaWRhdG9yTGlzdChwb29sS2V5LmlkKS52YWx1ZS5wb29sc1twb29sS2V5LnBvb2xJZCAtIDFdLnRvdGFsQWxnb1N0YWtlZCArPSBhbGdvVG9BZGQKICAgIGludGNfMCAvLyAwCiAgICBleHRyYWN0X3VpbnQ2NAogICAgaXRvYgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoyMjEKICAgIC8vIHZhbGlkYXRvckxpc3QgPSBCb3hNYXA8VmFsaWRhdG9ySWRUeXBlLCBWYWxpZGF0b3JJbmZvPih7IGtleVByZWZpeDogJ3YnIH0pCiAgICBieXRlY18wIC8vICJ2IgogICAgc3dhcAogICAgY29uY2F0CiAgICBkdXBuIDIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6ODM0CiAgICAvLyB0aGlzLnZhbGlkYXRvckxpc3QocG9vbEtleS5pZCkudmFsdWUucG9vbHNbcG9vbEtleS5wb29sSWQgLSAxXS50b3RhbEFsZ29TdGFrZWQgKz0gYWxnb1RvQWRkCiAgICBib3hfZ2V0CiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgZnJhbWVfZGlnIC01CiAgICBwdXNoaW50IDggLy8gOAogICAgZXh0cmFjdF91aW50NjQKICAgIGludGNfMSAvLyAxCiAgICAtCiAgICBzd2FwCiAgICBpbnRjIDQgLy8gMjY4CiAgICBpbnRjIDUgLy8gNDMyCiAgICBleHRyYWN0MwogICAgZGlnIDEKICAgIGludGNfMiAvLyAxOAogICAgKgogICAgc3dhcAogICAgZGlnIDEKICAgIGludGNfMiAvLyAxOAogICAgZXh0cmFjdDMgLy8gb24gZXJyb3I6IGluZGV4IGFjY2VzcyBpcyBvdXQgb2YgYm91bmRzCiAgICBwdXNoaW50IDEwIC8vIDEwCiAgICBleHRyYWN0X3VpbnQ2NAogICAgZnJhbWVfZGlnIC00CiAgICArCiAgICBpdG9iCiAgICB1bmNvdmVyIDIKICAgIGludGNfMyAvLyAyNAogICAgPAogICAgYXNzZXJ0IC8vIGluZGV4IG91dCBvZiBib3VuZHMKICAgIHN3YXAKICAgIGludGMgMTUgLy8gMjc4CiAgICArCiAgICBkaWcgMgogICAgc3dhcAogICAgdW5jb3ZlciAyCiAgICBib3hfcmVwbGFjZQogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo4MzUKICAgIC8vIHRoaXMudmFsaWRhdG9yTGlzdChwb29sS2V5LmlkKS52YWx1ZS5zdGF0ZS50b3RhbEFsZ29TdGFrZWQgKz0gYWxnb1RvQWRkCiAgICBkdXAKICAgIGJveF9nZXQKICAgIHBvcAogICAgZXh0cmFjdCAyNDIgMjYKICAgIHB1c2hpbnQgMTAgLy8gMTAKICAgIGV4dHJhY3RfdWludDY0CiAgICBmcmFtZV9kaWcgLTQKICAgICsKICAgIGl0b2IKICAgIGRpZyAxCiAgICBpbnRjIDE2IC8vIDI1MgogICAgdW5jb3ZlciAyCiAgICBib3hfcmVwbGFjZQogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo4MzYKICAgIC8vIHRoaXMudmFsaWRhdG9yTGlzdChwb29sS2V5LmlkKS52YWx1ZS5zdGF0ZS5yZXdhcmRUb2tlbkhlbGRCYWNrICs9IHJld2FyZFRva2VuQW1vdW50UmVzZXJ2ZWQKICAgIGR1cAogICAgYm94X2dldAogICAgcG9wCiAgICBleHRyYWN0IDI0MiAyNgogICAgaW50Y18yIC8vIDE4CiAgICBleHRyYWN0X3VpbnQ2NAogICAgZnJhbWVfZGlnIC0zCiAgICArCiAgICBpdG9iCiAgICBkaWcgMQogICAgcHVzaGludCAyNjAgLy8gMjYwCiAgICB1bmNvdmVyIDIKICAgIGJveF9yZXBsYWNlCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjgzOAogICAgLy8gdGhpcy50b3RhbEFsZ29TdGFrZWQudmFsdWUgKz0gYWxnb1RvQWRkCiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoyMTcKICAgIC8vIHRvdGFsQWxnb1N0YWtlZCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oeyBrZXk6ICdzdGFrZWQnIH0pCiAgICBieXRlY18zIC8vICJzdGFrZWQiCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjgzOAogICAgLy8gdGhpcy50b3RhbEFsZ29TdGFrZWQudmFsdWUgKz0gYWxnb1RvQWRkCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgZnJhbWVfZGlnIC00CiAgICArCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjIxNwogICAgLy8gdG90YWxBbGdvU3Rha2VkID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGtleTogJ3N0YWtlZCcgfSkKICAgIGJ5dGVjXzMgLy8gInN0YWtlZCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6ODM4CiAgICAvLyB0aGlzLnRvdGFsQWxnb1N0YWtlZC52YWx1ZSArPSBhbGdvVG9BZGQKICAgIHN3YXAKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEyMjQKICAgIC8vIGNvbnN0IHZhbGlkYXRvckNvbmZpZyA9IGNsb25lKHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUuY29uZmlnKQogICAgYm94X2dldAogICAgcG9wCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEyMjQtMTIyNQogICAgLy8gY29uc3QgdmFsaWRhdG9yQ29uZmlnID0gY2xvbmUodGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS5jb25maWcpCiAgICAvLyBpZiAodmFsaWRhdG9yQ29uZmlnLm5mZEZvckluZm8gIT09IDApIHsKICAgIGV4dHJhY3QgMCAyNDIKICAgIGR1cAogICAgcHVzaGludCA3MiAvLyA3MgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMjI1CiAgICAvLyBpZiAodmFsaWRhdG9yQ29uZmlnLm5mZEZvckluZm8gIT09IDApIHsKICAgIGV4dHJhY3RfdWludDY0CiAgICBkdXAKICAgIGJ6IHN0YWtlVXBkYXRlZFZpYVJld2FyZHNfYWZ0ZXJfaWZfZWxzZUA2CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEyMjgKICAgIC8vIGNvbnN0IFtuZmRPd25lckJ5dGVzXSA9IG9wLkFwcEdsb2JhbC5nZXRFeEJ5dGVzKHZhbGlkYXRvckNvbmZpZy5uZmRGb3JJbmZvLCBCeXRlcygnaS5vd25lci5hJykpCiAgICBmcmFtZV9kaWcgMwogICAgYnl0ZWMgMTAgLy8gImkub3duZXIuYSIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBwb3AKICAgIGR1cAogICAgZnJhbWVfYnVyeSAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEyMzEKICAgIC8vIGlmICh2YWxpZGF0b3JDb25maWcub3duZXIgIT09IG5mZE93bmVyICYmIHZhbGlkYXRvckNvbmZpZy5tYW5hZ2VyICE9PSBuZmRPd25lcikgewogICAgZnJhbWVfZGlnIDIKICAgIGV4dHJhY3QgOCAzMgogICAgIT0KICAgIGJ6IHN0YWtlVXBkYXRlZFZpYVJld2FyZHNfYWZ0ZXJfaWZfZWxzZUA2CiAgICBmcmFtZV9kaWcgMgogICAgZXh0cmFjdCA0MCAzMgogICAgZnJhbWVfZGlnIDAKICAgICE9CiAgICBieiBzdGFrZVVwZGF0ZWRWaWFSZXdhcmRzX2FmdGVyX2lmX2Vsc2VANgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMjMzCiAgICAvLyB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLmNvbmZpZy5uZmRGb3JJbmZvID0gMAogICAgaW50Y18wIC8vIDAKICAgIGl0b2IKICAgIGZyYW1lX2RpZyAxCiAgICBwdXNoaW50IDcyIC8vIDcyCiAgICB1bmNvdmVyIDIKICAgIGJveF9yZXBsYWNlCgpzdGFrZVVwZGF0ZWRWaWFSZXdhcmRzX2FmdGVyX2lmX2Vsc2VANjoKICAgIHJldHN1YgoKCi8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OlZhbGlkYXRvclJlZ2lzdHJ5LnN0YWtlUmVtb3ZlZChwb29sS2V5OiBieXRlcywgc3Rha2VyOiBieXRlcywgYW1vdW50UmVtb3ZlZDogdWludDY0LCByZXdhcmRSZW1vdmVkOiB1aW50NjQsIHN0YWtlclJlbW92ZWQ6IHVpbnQ2NCkgLT4gdm9pZDoKc3Rha2VSZW1vdmVkOgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo4NjYtODcyCiAgICAvLyBzdGFrZVJlbW92ZWQoCiAgICAvLyAgIHBvb2xLZXk6IFZhbGlkYXRvclBvb2xLZXksCiAgICAvLyAgIHN0YWtlcjogQWRkcmVzcywKICAgIC8vICAgYW1vdW50UmVtb3ZlZDogdWludDY0LAogICAgLy8gICByZXdhcmRSZW1vdmVkOiB1aW50NjQsCiAgICAvLyAgIHN0YWtlclJlbW92ZWQ6IGJvb2xlYW4sCiAgICAvLyApOiB2b2lkIHsKICAgIHByb3RvIDUgMAogICAgaW50Y18wIC8vIDAKICAgIGR1cG4gNQogICAgYnl0ZWNfMiAvLyAiIgogICAgZHVwbiAxMAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo4NzMKICAgIC8vIGVuc3VyZUJ1ZGdldCgzMDApCiAgICBwdXNoaW50IDMwMCAvLyAzMDAKICAgIGludGNfMCAvLyAwCiAgICBjYWxsc3ViIGVuc3VyZV9idWRnZXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6ODc1CiAgICAvLyB0aGlzLnZlcmlmeVBvb2xLZXlDYWxsZXIocG9vbEtleSkKICAgIGZyYW1lX2RpZyAtNQogICAgY2FsbHN1YiB2ZXJpZnlQb29sS2V5Q2FsbGVyCiAgICBmcmFtZV9idXJ5IC01CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjg3OQogICAgLy8gYXNzZXJ0KGFtb3VudFJlbW92ZWQgPiAwIHx8IHJld2FyZFJlbW92ZWQgPiAwLCAnc2hvdWxkIG9ubHkgYmUgY2FsbGVkIGlmIGFsZ28gb3IgcmV3YXJkIHdhcyByZW1vdmVkJykKICAgIGZyYW1lX2RpZyAtMwogICAgYm56IHN0YWtlUmVtb3ZlZF9ib29sX3RydWVAMgogICAgZnJhbWVfZGlnIC0yCiAgICBieiBzdGFrZVJlbW92ZWRfYm9vbF9mYWxzZUAzCgpzdGFrZVJlbW92ZWRfYm9vbF90cnVlQDI6CiAgICBpbnRjXzEgLy8gMQoKc3Rha2VSZW1vdmVkX2Jvb2xfbWVyZ2VANDoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6ODc5CiAgICAvLyBhc3NlcnQoYW1vdW50UmVtb3ZlZCA+IDAgfHwgcmV3YXJkUmVtb3ZlZCA+IDAsICdzaG91bGQgb25seSBiZSBjYWxsZWQgaWYgYWxnbyBvciByZXdhcmQgd2FzIHJlbW92ZWQnKQogICAgYXNzZXJ0IC8vIHNob3VsZCBvbmx5IGJlIGNhbGxlZCBpZiBhbGdvIG9yIHJld2FyZCB3YXMgcmVtb3ZlZAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo4ODIKICAgIC8vIHRoaXMudmFsaWRhdG9yTGlzdChwb29sS2V5LmlkKS52YWx1ZS5wb29sc1twb29sS2V5LnBvb2xJZCAtIDFdLnRvdGFsQWxnb1N0YWtlZCAtPSBhbW91bnRSZW1vdmVkCiAgICBmcmFtZV9kaWcgLTUKICAgIGludGNfMCAvLyAwCiAgICBleHRyYWN0X3VpbnQ2NAogICAgaXRvYgogICAgZHVwCiAgICBmcmFtZV9idXJ5IDQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MjIxCiAgICAvLyB2YWxpZGF0b3JMaXN0ID0gQm94TWFwPFZhbGlkYXRvcklkVHlwZSwgVmFsaWRhdG9ySW5mbz4oeyBrZXlQcmVmaXg6ICd2JyB9KQogICAgYnl0ZWNfMCAvLyAidiIKICAgIHN3YXAKICAgIGNvbmNhdAogICAgZHVwCiAgICBmcmFtZV9idXJ5IDIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6ODgyCiAgICAvLyB0aGlzLnZhbGlkYXRvckxpc3QocG9vbEtleS5pZCkudmFsdWUucG9vbHNbcG9vbEtleS5wb29sSWQgLSAxXS50b3RhbEFsZ29TdGFrZWQgLT0gYW1vdW50UmVtb3ZlZAogICAgZHVwCiAgICBib3hfZ2V0CiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgZnJhbWVfZGlnIC01CiAgICBwdXNoaW50IDggLy8gOAogICAgZXh0cmFjdF91aW50NjQKICAgIGR1cAogICAgZnJhbWVfYnVyeSAxNgogICAgaW50Y18xIC8vIDEKICAgIC0KICAgIHN3YXAKICAgIGludGMgNCAvLyAyNjgKICAgIGludGMgNSAvLyA0MzIKICAgIGV4dHJhY3QzCiAgICBkaWcgMQogICAgaW50Y18yIC8vIDE4CiAgICAqCiAgICBkdXAKICAgIGZyYW1lX2J1cnkgNgogICAgc3dhcAogICAgZGlnIDEKICAgIGludGNfMiAvLyAxOAogICAgZXh0cmFjdDMgLy8gb24gZXJyb3I6IGluZGV4IGFjY2VzcyBpcyBvdXQgb2YgYm91bmRzCiAgICBwdXNoaW50IDEwIC8vIDEwCiAgICBleHRyYWN0X3VpbnQ2NAogICAgZnJhbWVfZGlnIC0zCiAgICAtCiAgICBpdG9iCiAgICB1bmNvdmVyIDIKICAgIGludGNfMyAvLyAyNAogICAgPAogICAgYXNzZXJ0IC8vIGluZGV4IG91dCBvZiBib3VuZHMKICAgIHN3YXAKICAgIGludGMgMTUgLy8gMjc4CiAgICArCiAgICBkaWcgMgogICAgc3dhcAogICAgdW5jb3ZlciAyCiAgICBib3hfcmVwbGFjZQogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo4ODMKICAgIC8vIHRoaXMudmFsaWRhdG9yTGlzdChwb29sS2V5LmlkKS52YWx1ZS5zdGF0ZS50b3RhbEFsZ29TdGFrZWQgLT0gYW1vdW50UmVtb3ZlZAogICAgZHVwCiAgICBib3hfZ2V0CiAgICBwb3AKICAgIGV4dHJhY3QgMjQyIDI2CiAgICBwdXNoaW50IDEwIC8vIDEwCiAgICBleHRyYWN0X3VpbnQ2NAogICAgZnJhbWVfZGlnIC0zCiAgICAtCiAgICBpdG9iCiAgICBpbnRjIDE2IC8vIDI1MgogICAgc3dhcAogICAgYm94X3JlcGxhY2UKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6ODg0CiAgICAvLyB0aGlzLnRvdGFsQWxnb1N0YWtlZC52YWx1ZSAtPSBhbW91bnRSZW1vdmVkCiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoyMTcKICAgIC8vIHRvdGFsQWxnb1N0YWtlZCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oeyBrZXk6ICdzdGFrZWQnIH0pCiAgICBieXRlY18zIC8vICJzdGFrZWQiCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjg4NAogICAgLy8gdGhpcy50b3RhbEFsZ29TdGFrZWQudmFsdWUgLT0gYW1vdW50UmVtb3ZlZAogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGZyYW1lX2RpZyAtMwogICAgLQogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoyMTcKICAgIC8vIHRvdGFsQWxnb1N0YWtlZCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oeyBrZXk6ICdzdGFrZWQnIH0pCiAgICBieXRlY18zIC8vICJzdGFrZWQiCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjg4NAogICAgLy8gdGhpcy50b3RhbEFsZ29TdGFrZWQudmFsdWUgLT0gYW1vdW50UmVtb3ZlZAogICAgc3dhcAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6ODg2CiAgICAvLyBpZiAocmV3YXJkUmVtb3ZlZCA+IDApIHsKICAgIGZyYW1lX2RpZyAtMgogICAgYnogc3Rha2VSZW1vdmVkX2FmdGVyX2lmX2Vsc2VAMTAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6ODg3CiAgICAvLyBjb25zdCByZXdhcmRUb2tlbklEID0gdGhpcy52YWxpZGF0b3JMaXN0KHBvb2xLZXkuaWQpLnZhbHVlLmNvbmZpZy5yZXdhcmRUb2tlbklkCiAgICBmcmFtZV9kaWcgMgogICAgZHVwCiAgICBib3hfZ2V0CiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgZHVwCiAgICBleHRyYWN0IDAgMjQyCiAgICBkdXAKICAgIGV4dHJhY3QgMTUzIDgKICAgIGZyYW1lX2J1cnkgMQogICAgcHVzaGludCAxNTMgLy8gMTUzCiAgICBleHRyYWN0X3VpbnQ2NAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo4ODgKICAgIC8vIGFzc2VydChyZXdhcmRUb2tlbklEICE9PSAwLCAicmV3YXJkUmVtb3ZlZCBjYW4ndCBiZSBzZXQgaWYgdmFsaWRhdG9yIGRvZXNuJ3QgaGF2ZSByZXdhcmQgdG9rZW4hIikKICAgIGFzc2VydCAvLyByZXdhcmRSZW1vdmVkIGNhbid0IGJlIHNldCBpZiB2YWxpZGF0b3IgZG9lc24ndCBoYXZlIHJld2FyZCB0b2tlbiEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6ODkwCiAgICAvLyB0aGlzLnZhbGlkYXRvckxpc3QocG9vbEtleS5pZCkudmFsdWUuc3RhdGUucmV3YXJkVG9rZW5IZWxkQmFjayA+PSByZXdhcmRSZW1vdmVkLAogICAgZXh0cmFjdCAyNDIgMjYKICAgIGludGNfMiAvLyAxOAogICAgZXh0cmFjdF91aW50NjQKICAgIGR1cAogICAgZnJhbWVfZGlnIC0yCiAgICA+PQogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo4ODktODkyCiAgICAvLyBhc3NlcnQoCiAgICAvLyAgIHRoaXMudmFsaWRhdG9yTGlzdChwb29sS2V5LmlkKS52YWx1ZS5zdGF0ZS5yZXdhcmRUb2tlbkhlbGRCYWNrID49IHJld2FyZFJlbW92ZWQsCiAgICAvLyAgICdyZXdhcmQgYmVpbmcgcmVtb3ZlZCBtdXN0IGJlIGNvdmVyZWQgYnkgaG9sZCBiYWNrIGFtb3VudCcsCiAgICAvLyApCiAgICBhc3NlcnQgLy8gcmV3YXJkIGJlaW5nIHJlbW92ZWQgbXVzdCBiZSBjb3ZlcmVkIGJ5IGhvbGQgYmFjayBhbW91bnQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6ODk1CiAgICAvLyB0aGlzLnZhbGlkYXRvckxpc3QocG9vbEtleS5pZCkudmFsdWUuc3RhdGUucmV3YXJkVG9rZW5IZWxkQmFjayAtPSByZXdhcmRSZW1vdmVkCiAgICBmcmFtZV9kaWcgLTIKICAgIC0KICAgIGl0b2IKICAgIHB1c2hpbnQgMjYwIC8vIDI2MAogICAgc3dhcAogICAgYm94X3JlcGxhY2UKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OTAwCiAgICAvLyBpZiAocG9vbEtleS5wb29sSWQgIT09IDEpIHsKICAgIGZyYW1lX2RpZyAxNgogICAgaW50Y18xIC8vIDEKICAgICE9CiAgICBieiBzdGFrZVJlbW92ZWRfYWZ0ZXJfaWZfZWxzZUAxMAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo5MDEtOTA0CiAgICAvLyBhYmlDYWxsKFN0YWtpbmdQb29sQUJJLnByb3RvdHlwZS5wYXlUb2tlblJld2FyZCwgewogICAgLy8gICBhcHBJZDogdGhpcy52YWxpZGF0b3JMaXN0KHBvb2xLZXkuaWQpLnZhbHVlLnBvb2xzWzBdLnBvb2xBcHBJZCwKICAgIC8vICAgYXJnczogW3N0YWtlciwgcmV3YXJkVG9rZW5JRCwgcmV3YXJkUmVtb3ZlZF0sCiAgICAvLyB9KQogICAgaXR4bl9iZWdpbgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo5MDIKICAgIC8vIGFwcElkOiB0aGlzLnZhbGlkYXRvckxpc3QocG9vbEtleS5pZCkudmFsdWUucG9vbHNbMF0ucG9vbEFwcElkLAogICAgZnJhbWVfZGlnIDIKICAgIGJveF9nZXQKICAgIGFzc2VydCAvLyBCb3ggbXVzdCBoYXZlIHZhbHVlCiAgICBpbnRjIDQgLy8gMjY4CiAgICBpbnRjIDUgLy8gNDMyCiAgICBleHRyYWN0MwogICAgZXh0cmFjdCAwIDE4IC8vIG9uIGVycm9yOiBpbmRleCBhY2Nlc3MgaXMgb3V0IG9mIGJvdW5kcwogICAgaW50Y18wIC8vIDAKICAgIGV4dHJhY3RfdWludDY0CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjkwMwogICAgLy8gYXJnczogW3N0YWtlciwgcmV3YXJkVG9rZW5JRCwgcmV3YXJkUmVtb3ZlZF0sCiAgICBmcmFtZV9kaWcgLTIKICAgIGl0b2IKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OTAxLTkwNAogICAgLy8gYWJpQ2FsbChTdGFraW5nUG9vbEFCSS5wcm90b3R5cGUucGF5VG9rZW5SZXdhcmQsIHsKICAgIC8vICAgYXBwSWQ6IHRoaXMudmFsaWRhdG9yTGlzdChwb29sS2V5LmlkKS52YWx1ZS5wb29sc1swXS5wb29sQXBwSWQsCiAgICAvLyAgIGFyZ3M6IFtzdGFrZXIsIHJld2FyZFRva2VuSUQsIHJld2FyZFJlbW92ZWRdLAogICAgLy8gfSkKICAgIGJ5dGVjIDE0IC8vIG1ldGhvZCAicGF5VG9rZW5SZXdhcmQoYWRkcmVzcyx1aW50NjQsdWludDY0KXZvaWQiCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uQXJncwogICAgZnJhbWVfZGlnIC00CiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uQXJncwogICAgZnJhbWVfZGlnIDEKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25BcmdzCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uQXJncwogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbklECiAgICBwdXNoaW50IDYgLy8gYXBwbAogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgaW50Y18wIC8vIDAKICAgIGl0eG5fZmllbGQgRmVlCiAgICBpdHhuX3N1Ym1pdAoKc3Rha2VSZW1vdmVkX2FmdGVyX2lmX2Vsc2VAMTA6CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjkyOAogICAgLy8gaWYgKHN0YWtlclJlbW92ZWQpIHsKICAgIGZyYW1lX2RpZyAtMQogICAgYnogc3Rha2VSZW1vdmVkX2FmdGVyX2lmX2Vsc2VAMTYKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OTMwCiAgICAvLyBjb25zdCB0b3RhbFN0YWtlcnMgPSB0aGlzLnZhbGlkYXRvckxpc3QocG9vbEtleS5pZCkudmFsdWUucG9vbHNbcG9vbEtleS5wb29sSWQgLSAxXS50b3RhbFN0YWtlcnMubmF0aXZlCiAgICBmcmFtZV9kaWcgMgogICAgZHVwCiAgICBib3hfZ2V0CiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgaW50YyA0IC8vIDI2OAogICAgaW50YyA1IC8vIDQzMgogICAgZXh0cmFjdDMKICAgIGZyYW1lX2RpZyA2CiAgICBkdXAKICAgIGNvdmVyIDIKICAgIGludGNfMiAvLyAxOAogICAgZXh0cmFjdDMgLy8gb24gZXJyb3I6IGluZGV4IGFjY2VzcyBpcyBvdXQgb2YgYm91bmRzCiAgICBwdXNoaW50IDggLy8gOAogICAgZXh0cmFjdF91aW50MTYKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OTMxCiAgICAvLyB0aGlzLnZhbGlkYXRvckxpc3QocG9vbEtleS5pZCkudmFsdWUucG9vbHNbcG9vbEtleS5wb29sSWQgLSAxXS50b3RhbFN0YWtlcnMgPSBuZXcgVWludDE2KHRvdGFsU3Rha2VycyAtIDEpCiAgICBpbnRjXzEgLy8gMQogICAgLQogICAgaXRvYgogICAgZHVwCiAgICBiaXRsZW4KICAgIHB1c2hpbnQgMTYgLy8gMTYKICAgIDw9CiAgICBhc3NlcnQgLy8gb3ZlcmZsb3cKICAgIGV4dHJhY3QgNiAyCiAgICBzd2FwCiAgICBwdXNoaW50IDI3NiAvLyAyNzYKICAgICsKICAgIHN3YXAKICAgIGJveF9yZXBsYWNlCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjkzNgogICAgLy8gcG9vbEFwcElkOiBwb29sS2V5LnBvb2xBcHBJZCwKICAgIGZyYW1lX2RpZyAtNQogICAgcHVzaGludCAxNiAvLyAxNgogICAgZXh0cmFjdF91aW50NjQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OTMzLTkzNwogICAgLy8gY29uc3QgcmVtb3ZlUmV0ID0gdGhpcy5yZW1vdmVGcm9tU3Rha2VyUG9vbFNldChzdGFrZXIsIHsKICAgIC8vICAgaWQ6IHBvb2xLZXkuaWQsCiAgICAvLyAgIHBvb2xJZDogcG9vbEtleS5wb29sSWQsCiAgICAvLyAgIHBvb2xBcHBJZDogcG9vbEtleS5wb29sQXBwSWQsCiAgICAvLyB9IGFzIFZhbGlkYXRvclBvb2xLZXkpCiAgICBmcmFtZV9kaWcgMTYKICAgIGl0b2IKICAgIGZyYW1lX2RpZyA0CiAgICBzd2FwCiAgICBjb25jYXQKICAgIHN3YXAKICAgIGl0b2IKICAgIGNvbmNhdAogICAgZnJhbWVfYnVyeSAtNQogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMzYyCiAgICAvLyBsZXQgaW5TYW1lVmFsaWRhdG9yUG9vbENvdW50OiB1aW50NjQgPSAwCiAgICBpbnRjXzAgLy8gMAogICAgZnJhbWVfYnVyeSAxMgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMzYzCiAgICAvLyBsZXQgaW5BbnlQb29sQ291bnQ6IHVpbnQ2NCA9IDAKICAgIGludGNfMCAvLyAwCiAgICBmcmFtZV9idXJ5IDExCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEzNjQKICAgIC8vIGxldCBmb3VuZCA9IGZhbHNlCiAgICBpbnRjXzAgLy8gMAogICAgZnJhbWVfYnVyeSA4CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjIyNQogICAgLy8gc3Rha2VyUG9vbFNldCA9IEJveE1hcDxBZGRyZXNzLCBGaXhlZEFycmF5PFZhbGlkYXRvclBvb2xLZXksIHR5cGVvZiBNQVhfUE9PTFNfUEVSX1NUQUtFUj4+KHsga2V5UHJlZml4OiAnc3BzJyB9KQogICAgYnl0ZWMgNyAvLyAic3BzIgogICAgZnJhbWVfZGlnIC00CiAgICBjb25jYXQKICAgIGR1cAogICAgZnJhbWVfYnVyeSAzCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEzNjYKICAgIC8vIGNvbnN0IHBvb2xTZXQgPSBjbG9uZSh0aGlzLnN0YWtlclBvb2xTZXQoc3Rha2VyKS52YWx1ZSkKICAgIGJveF9nZXQKICAgIHN3YXAKICAgIGZyYW1lX2J1cnkgNQogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTM2NwogICAgLy8gZm9yIChsZXQgaTogdWludDY0ID0gMDsgaSA8IHRoaXMuc3Rha2VyUG9vbFNldChzdGFrZXIpLnZhbHVlLmxlbmd0aDsgaSArPSAxKSB7CiAgICBpbnRjXzAgLy8gMAogICAgZnJhbWVfYnVyeSAxMAoKc3Rha2VSZW1vdmVkX3doaWxlX3RvcEAxODoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTM2NwogICAgLy8gZm9yIChsZXQgaTogdWludDY0ID0gMDsgaSA8IHRoaXMuc3Rha2VyUG9vbFNldChzdGFrZXIpLnZhbHVlLmxlbmd0aDsgaSArPSAxKSB7CiAgICBmcmFtZV9kaWcgMwogICAgYm94X2xlbgogICAgYnVyeSAxCiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgZnJhbWVfZGlnIDEwCiAgICBwdXNoaW50IDYgLy8gNgogICAgPAogICAgYnogc3Rha2VSZW1vdmVkX2FmdGVyX3doaWxlQDI4CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEzNjgKICAgIC8vIGlmIChwb29sU2V0W2ldLmlkID09PSAwKSB7CiAgICBmcmFtZV9kaWcgMTAKICAgIGludGNfMyAvLyAyNAogICAgKgogICAgZHVwCiAgICBmcmFtZV9idXJ5IDcKICAgIGZyYW1lX2RpZyA1CiAgICBzd2FwCiAgICBpbnRjXzMgLy8gMjQKICAgIGV4dHJhY3QzIC8vIG9uIGVycm9yOiBpbmRleCBhY2Nlc3MgaXMgb3V0IG9mIGJvdW5kcwogICAgZHVwCiAgICBmcmFtZV9idXJ5IDAKICAgIGludGNfMCAvLyAwCiAgICBleHRyYWN0X3VpbnQ2NAogICAgZHVwCiAgICBmcmFtZV9idXJ5IDE1CiAgICBieiBzdGFrZVJlbW92ZWRfYmxvY2tAMjcKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTM3MQogICAgLy8gaW5BbnlQb29sQ291bnQgKz0gMQogICAgZnJhbWVfZGlnIDExCiAgICBpbnRjXzEgLy8gMQogICAgKwogICAgZnJhbWVfYnVyeSAxMQogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMzcyCiAgICAvLyBpZiAocG9vbFNldFtpXS5pZCA9PT0gcG9vbEtleS5pZCkgewogICAgZnJhbWVfZGlnIC01CiAgICBpbnRjXzAgLy8gMAogICAgZXh0cmFjdF91aW50NjQKICAgIGZyYW1lX2RpZyAxNQogICAgPT0KICAgIGZyYW1lX2RpZyA4CiAgICBmcmFtZV9idXJ5IDkKICAgIGZyYW1lX2RpZyAxMgogICAgZnJhbWVfYnVyeSAxMwogICAgYnogc3Rha2VSZW1vdmVkX2FmdGVyX2lmX2Vsc2VAMjYKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTM3MwogICAgLy8gaWYgKGVuY29kZUFyYzQocG9vbFNldFtpXSkgPT09IGVuY29kZUFyYzQocG9vbEtleSkpIHsKICAgIGZyYW1lX2RpZyAwCiAgICBmcmFtZV9kaWcgLTUKICAgID09CiAgICBieiBzdGFrZVJlbW92ZWRfZWxzZV9ib2R5QDI0CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEzNzQKICAgIC8vIGZvdW5kID0gdHJ1ZQogICAgaW50Y18xIC8vIDEKICAgIGZyYW1lX2J1cnkgOAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMzc2CiAgICAvLyB0aGlzLnN0YWtlclBvb2xTZXQoc3Rha2VyKS52YWx1ZVtpXSA9IHsgaWQ6IDAsIHBvb2xJZDogMCwgcG9vbEFwcElkOiAwIH0KICAgIGZyYW1lX2RpZyAzCiAgICBmcmFtZV9kaWcgNwogICAgcHVzaGJ5dGVzIDB4MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwCiAgICBib3hfcmVwbGFjZQoKc3Rha2VSZW1vdmVkX2FmdGVyX2lmX2Vsc2VAMjU6CiAgICBmcmFtZV9kaWcgOAogICAgZnJhbWVfYnVyeSA5CiAgICBmcmFtZV9kaWcgMTIKICAgIGZyYW1lX2J1cnkgMTMKCnN0YWtlUmVtb3ZlZF9hZnRlcl9pZl9lbHNlQDI2OgogICAgZnJhbWVfZGlnIDkKICAgIGZyYW1lX2J1cnkgOAogICAgZnJhbWVfZGlnIDEzCiAgICBmcmFtZV9idXJ5IDEyCgpzdGFrZVJlbW92ZWRfYmxvY2tAMjc6CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEzNjcKICAgIC8vIGZvciAobGV0IGk6IHVpbnQ2NCA9IDA7IGkgPCB0aGlzLnN0YWtlclBvb2xTZXQoc3Rha2VyKS52YWx1ZS5sZW5ndGg7IGkgKz0gMSkgewogICAgZnJhbWVfZGlnIDEwCiAgICBpbnRjXzEgLy8gMQogICAgKwogICAgZnJhbWVfYnVyeSAxMAogICAgYiBzdGFrZVJlbW92ZWRfd2hpbGVfdG9wQDE4CgpzdGFrZVJlbW92ZWRfZWxzZV9ib2R5QDI0OgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMzc4CiAgICAvLyBpblNhbWVWYWxpZGF0b3JQb29sQ291bnQgKz0gMQogICAgZnJhbWVfZGlnIDEyCiAgICBpbnRjXzEgLy8gMQogICAgKwogICAgZnJhbWVfYnVyeSAxMgogICAgYiBzdGFrZVJlbW92ZWRfYWZ0ZXJfaWZfZWxzZUAyNQoKc3Rha2VSZW1vdmVkX2FmdGVyX3doaWxlQDI4OgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMzgyCiAgICAvLyBpZiAoIWZvdW5kKSB7CiAgICBmcmFtZV9kaWcgOAogICAgYXNzZXJ0IC8vIE5vIG1hdGNoaW5nIHNsb3QgZm91bmQgd2hlbiB0b2xkIHRvIHJlbW92ZSBhIHBvb2wgZnJvbSB0aGUgc3Rha2VycyBzZXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTM4NgogICAgLy8gcmV0dXJuIFtpblNhbWVWYWxpZGF0b3JQb29sQ291bnQgPT09IDAsIGluQW55UG9vbENvdW50ID09PSAwXQogICAgZnJhbWVfZGlnIDEyCiAgICAhCiAgICBmcmFtZV9kaWcgMTEKICAgICEKICAgIGJ5dGVjIDYgLy8gMHgwMAogICAgaW50Y18wIC8vIDAKICAgIHVuY292ZXIgMwogICAgc2V0Yml0CiAgICBpbnRjXzEgLy8gMQogICAgdW5jb3ZlciAyCiAgICBzZXRiaXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OTM4CiAgICAvLyBjb25zdCBzdGFrZXJPdXRPZlRoaXNWYWxpZGF0b3IgPSByZW1vdmVSZXRbMF0KICAgIGR1cAogICAgaW50Y18wIC8vIDAKICAgIGdldGJpdAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo5MzkKICAgIC8vIGNvbnN0IHN0YWtlck91dE9mUHJvdG9jb2wgPSByZW1vdmVSZXRbMV0KICAgIHN3YXAKICAgIGludGNfMSAvLyAxCiAgICBnZXRiaXQKICAgIGZyYW1lX2J1cnkgMTQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OTQxCiAgICAvLyBpZiAoc3Rha2VyT3V0T2ZUaGlzVmFsaWRhdG9yKSB7CiAgICBieiBzdGFrZVJlbW92ZWRfYWZ0ZXJfaWZfZWxzZUAxMwogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo5NDIKICAgIC8vIHRoaXMudmFsaWRhdG9yTGlzdChwb29sS2V5LmlkKS52YWx1ZS5zdGF0ZS50b3RhbFN0YWtlcnMgLT0gMQogICAgZnJhbWVfZGlnIDIKICAgIGR1cAogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIGV4dHJhY3QgMjQyIDI2CiAgICBwdXNoaW50IDIgLy8gMgogICAgZXh0cmFjdF91aW50NjQKICAgIGludGNfMSAvLyAxCiAgICAtCiAgICBpdG9iCiAgICBwdXNoaW50IDI0NCAvLyAyNDQKICAgIHN3YXAKICAgIGJveF9yZXBsYWNlCgpzdGFrZVJlbW92ZWRfYWZ0ZXJfaWZfZWxzZUAxMzoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OTQ1CiAgICAvLyBpZiAoc3Rha2VyT3V0T2ZQcm90b2NvbCkgewogICAgZnJhbWVfZGlnIDE0CiAgICBieiBzdGFrZVJlbW92ZWRfYWZ0ZXJfaWZfZWxzZUAxNgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo5NDYKICAgIC8vIHRoaXMubnVtU3Rha2Vycy52YWx1ZSAtPSAxCiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoyMTQKICAgIC8vIG51bVN0YWtlcnMgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KHsga2V5OiAnbnVtU3Rha2VycycgfSkKICAgIGJ5dGVjIDUgLy8gIm51bVN0YWtlcnMiCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjk0NgogICAgLy8gdGhpcy5udW1TdGFrZXJzLnZhbHVlIC09IDEKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBpbnRjXzEgLy8gMQogICAgLQogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoyMTQKICAgIC8vIG51bVN0YWtlcnMgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KHsga2V5OiAnbnVtU3Rha2VycycgfSkKICAgIGJ5dGVjIDUgLy8gIm51bVN0YWtlcnMiCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjk0NgogICAgLy8gdGhpcy5udW1TdGFrZXJzLnZhbHVlIC09IDEKICAgIHN3YXAKICAgIGFwcF9nbG9iYWxfcHV0CgpzdGFrZVJlbW92ZWRfYWZ0ZXJfaWZfZWxzZUAxNjoKICAgIHJldHN1YgoKc3Rha2VSZW1vdmVkX2Jvb2xfZmFsc2VAMzoKICAgIGludGNfMCAvLyAwCiAgICBiIHN0YWtlUmVtb3ZlZF9ib29sX21lcmdlQDQKCgovLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjpWYWxpZGF0b3JSZWdpc3RyeS5maW5kUG9vbEZvclN0YWtlcih2YWxpZGF0b3JJZDogdWludDY0LCBzdGFrZXI6IGJ5dGVzLCBhbW91bnRUb1N0YWtlOiB1aW50NjQpIC0+IGJ5dGVzOgpmaW5kUG9vbEZvclN0YWtlcjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OTYyLTk2NgogICAgLy8gZmluZFBvb2xGb3JTdGFrZXIoCiAgICAvLyAgIHZhbGlkYXRvcklkOiBWYWxpZGF0b3JJZFR5cGUsCiAgICAvLyAgIHN0YWtlcjogQWRkcmVzcywKICAgIC8vICAgYW1vdW50VG9TdGFrZTogdWludDY0LAogICAgLy8gKTogW1ZhbGlkYXRvclBvb2xLZXksIGJvb2xlYW4sIGJvb2xlYW5dIHsKICAgIHByb3RvIDMgMQogICAgaW50Y18wIC8vIDAKICAgIGR1cG4gNAogICAgYnl0ZWNfMiAvLyAiIgogICAgZHVwbiAzCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjk2NwogICAgLy8gbGV0IGlzTmV3U3Rha2VyVG9WYWxpZGF0b3IgPSB0cnVlCiAgICBpbnRjXzEgLy8gMQogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo5NjctOTY4CiAgICAvLyBsZXQgaXNOZXdTdGFrZXJUb1ZhbGlkYXRvciA9IHRydWUKICAgIC8vIGxldCBpc05ld1N0YWtlclRvUHJvdG9jb2wgPSB0cnVlCiAgICBkdXBuIDMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OTc2CiAgICAvLyBjb25zdCBtYXhQZXJQb29sID0gdGhpcy5nZXRDdXJNYXhTdGFrZVBlclBvb2wodmFsaWRhdG9ySWQpCiAgICBmcmFtZV9kaWcgLTMKICAgIGNhbGxzdWIgZ2V0Q3VyTWF4U3Rha2VQZXJQb29sCiAgICBjb3ZlciAyCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjIyNQogICAgLy8gc3Rha2VyUG9vbFNldCA9IEJveE1hcDxBZGRyZXNzLCBGaXhlZEFycmF5PFZhbGlkYXRvclBvb2xLZXksIHR5cGVvZiBNQVhfUE9PTFNfUEVSX1NUQUtFUj4+KHsga2V5UHJlZml4OiAnc3BzJyB9KQogICAgYnl0ZWMgNyAvLyAic3BzIgogICAgZnJhbWVfZGlnIC0yCiAgICBjb25jYXQKICAgIGR1cAogICAgY292ZXIgMwogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo5NzkKICAgIC8vIGlmICh0aGlzLnN0YWtlclBvb2xTZXQoc3Rha2VyKS5leGlzdHMpIHsKICAgIGJveF9sZW4KICAgIGJ1cnkgMQogICAgc3dhcAogICAgY292ZXIgMgogICAgYnogZmluZFBvb2xGb3JTdGFrZXJfYWZ0ZXJfaWZfZWxzZUAxMgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo5ODAKICAgIC8vIGNvbnN0IHBvb2xTZXQgPSBjbG9uZSh0aGlzLnN0YWtlclBvb2xTZXQoc3Rha2VyKS52YWx1ZSkKICAgIGZyYW1lX2RpZyAxMgogICAgYm94X2dldAogICAgc3dhcAogICAgZnJhbWVfYnVyeSA0CiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo5ODEKICAgIC8vIGFzc2VydCh2YWxpZGF0b3JJZCAhPT0gMCkKICAgIGZyYW1lX2RpZyAtMwogICAgYXNzZXJ0CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjk4MgogICAgLy8gZm9yIChsZXQgaTogdWludDY0ID0gMDsgaSA8IHBvb2xTZXQubGVuZ3RoOyBpICs9IDEpIHsKICAgIGludGNfMCAvLyAwCiAgICBmcmFtZV9idXJ5IDYKCmZpbmRQb29sRm9yU3Rha2VyX3doaWxlX3RvcEAyOgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo5ODIKICAgIC8vIGZvciAobGV0IGk6IHVpbnQ2NCA9IDA7IGkgPCBwb29sU2V0Lmxlbmd0aDsgaSArPSAxKSB7CiAgICBmcmFtZV9kaWcgNgogICAgcHVzaGludCA2IC8vIDYKICAgIDwKICAgIGJ6IGZpbmRQb29sRm9yU3Rha2VyX2FmdGVyX3doaWxlQDExCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjk4MwogICAgLy8gZW5zdXJlQnVkZ2V0KDMwMCkKICAgIHB1c2hpbnQgMzAwIC8vIDMwMAogICAgaW50Y18wIC8vIDAKICAgIGNhbGxzdWIgZW5zdXJlX2J1ZGdldAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo5ODUKICAgIC8vIGlmIChwb29sU2V0W2ldLmlkID09PSAwKSB7CiAgICBmcmFtZV9kaWcgNgogICAgaW50Y18zIC8vIDI0CiAgICAqCiAgICBmcmFtZV9kaWcgNAogICAgc3dhcAogICAgaW50Y18zIC8vIDI0CiAgICBleHRyYWN0MyAvLyBvbiBlcnJvcjogaW5kZXggYWNjZXNzIGlzIG91dCBvZiBib3VuZHMKICAgIGR1cAogICAgZnJhbWVfYnVyeSAxCiAgICBpbnRjXzAgLy8gMAogICAgZXh0cmFjdF91aW50NjQKICAgIGR1cAogICAgZnJhbWVfYnVyeSA4CiAgICBieiBmaW5kUG9vbEZvclN0YWtlcl9ibG9ja0AxMAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo5ODgKICAgIC8vIGlzTmV3U3Rha2VyVG9Qcm90b2NvbCA9IGZhbHNlCiAgICBpbnRjXzAgLy8gMAogICAgZnJhbWVfYnVyeSAxMAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo5ODkKICAgIC8vIGlmIChwb29sU2V0W2ldLmlkID09PSB2YWxpZGF0b3JJZCkgewogICAgZnJhbWVfZGlnIDgKICAgIGZyYW1lX2RpZyAtMwogICAgPT0KICAgIGJ6IGZpbmRQb29sRm9yU3Rha2VyX2Jsb2NrQDEwCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjk5MQogICAgLy8gaXNOZXdTdGFrZXJUb1ZhbGlkYXRvciA9IGZhbHNlCiAgICBpbnRjXzAgLy8gMAogICAgZnJhbWVfYnVyeSA5CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjk5MwogICAgLy8gdGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS5wb29sc1twb29sU2V0W2ldLnBvb2xJZCAtIDFdLnRvdGFsQWxnb1N0YWtlZCArIGFtb3VudFRvU3Rha2UgPD0KICAgIGZyYW1lX2RpZyAtMwogICAgaXRvYgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoyMjEKICAgIC8vIHZhbGlkYXRvckxpc3QgPSBCb3hNYXA8VmFsaWRhdG9ySWRUeXBlLCBWYWxpZGF0b3JJbmZvPih7IGtleVByZWZpeDogJ3YnIH0pCiAgICBieXRlY18wIC8vICJ2IgogICAgc3dhcAogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjk5MwogICAgLy8gdGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS5wb29sc1twb29sU2V0W2ldLnBvb2xJZCAtIDFdLnRvdGFsQWxnb1N0YWtlZCArIGFtb3VudFRvU3Rha2UgPD0KICAgIGJveF9nZXQKICAgIGFzc2VydCAvLyBCb3ggbXVzdCBoYXZlIHZhbHVlCiAgICBmcmFtZV9kaWcgMQogICAgcHVzaGludCA4IC8vIDgKICAgIGV4dHJhY3RfdWludDY0CiAgICBpbnRjXzEgLy8gMQogICAgLQogICAgc3dhcAogICAgaW50YyA0IC8vIDI2OAogICAgaW50YyA1IC8vIDQzMgogICAgZXh0cmFjdDMKICAgIHN3YXAKICAgIGludGNfMiAvLyAxOAogICAgKgogICAgaW50Y18yIC8vIDE4CiAgICBleHRyYWN0MyAvLyBvbiBlcnJvcjogaW5kZXggYWNjZXNzIGlzIG91dCBvZiBib3VuZHMKICAgIHB1c2hpbnQgMTAgLy8gMTAKICAgIGV4dHJhY3RfdWludDY0CiAgICBmcmFtZV9kaWcgLTEKICAgICsKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OTkzLTk5NAogICAgLy8gdGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS5wb29sc1twb29sU2V0W2ldLnBvb2xJZCAtIDFdLnRvdGFsQWxnb1N0YWtlZCArIGFtb3VudFRvU3Rha2UgPD0KICAgIC8vIG1heFBlclBvb2wKICAgIGZyYW1lX2RpZyAxMQogICAgPD0KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OTkyLTk5NQogICAgLy8gaWYgKAogICAgLy8gICB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLnBvb2xzW3Bvb2xTZXRbaV0ucG9vbElkIC0gMV0udG90YWxBbGdvU3Rha2VkICsgYW1vdW50VG9TdGFrZSA8PQogICAgLy8gICBtYXhQZXJQb29sCiAgICAvLyApIHsKICAgIGJ6IGZpbmRQb29sRm9yU3Rha2VyX2Jsb2NrQDEwCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjk5NgogICAgLy8gcmV0dXJuIFtwb29sU2V0W2ldLCBpc05ld1N0YWtlclRvVmFsaWRhdG9yLCBpc05ld1N0YWtlclRvUHJvdG9jb2xdCiAgICBmcmFtZV9kaWcgMQogICAgYnl0ZWMgNiAvLyAweDAwCiAgICBjb25jYXQKICAgIGZyYW1lX2J1cnkgMAogICAgcmV0c3ViCgpmaW5kUG9vbEZvclN0YWtlcl9ibG9ja0AxMDoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OTgyCiAgICAvLyBmb3IgKGxldCBpOiB1aW50NjQgPSAwOyBpIDwgcG9vbFNldC5sZW5ndGg7IGkgKz0gMSkgewogICAgZnJhbWVfZGlnIDYKICAgIGludGNfMSAvLyAxCiAgICArCiAgICBmcmFtZV9idXJ5IDYKICAgIGIgZmluZFBvb2xGb3JTdGFrZXJfd2hpbGVfdG9wQDIKCmZpbmRQb29sRm9yU3Rha2VyX2FmdGVyX3doaWxlQDExOgogICAgZnJhbWVfZGlnIDEwCiAgICBmcmFtZV9idXJ5IDEzCiAgICBmcmFtZV9kaWcgOQogICAgZnJhbWVfYnVyeSAxNAoKZmluZFBvb2xGb3JTdGFrZXJfYWZ0ZXJfaWZfZWxzZUAxMjoKICAgIGZyYW1lX2RpZyAxMwogICAgZnJhbWVfYnVyeSAxMAogICAgZnJhbWVfZGlnIDE0CiAgICBmcmFtZV9idXJ5IDkKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTAwNAogICAgLy8gYW1vdW50VG9TdGFrZSA+PSB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLmNvbmZpZy5taW5FbnRyeVN0YWtlLAogICAgZnJhbWVfZGlnIC0zCiAgICBpdG9iCiAgICBkdXAKICAgIGZyYW1lX2J1cnkgMwogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoyMjEKICAgIC8vIHZhbGlkYXRvckxpc3QgPSBCb3hNYXA8VmFsaWRhdG9ySWRUeXBlLCBWYWxpZGF0b3JJbmZvPih7IGtleVByZWZpeDogJ3YnIH0pCiAgICBieXRlY18wIC8vICJ2IgogICAgc3dhcAogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEwMDQKICAgIC8vIGFtb3VudFRvU3Rha2UgPj0gdGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS5jb25maWcubWluRW50cnlTdGFrZSwKICAgIGJveF9nZXQKICAgIHN3YXAKICAgIGR1cAogICAgY292ZXIgMgogICAgZnJhbWVfYnVyeSAwCiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgZHVwCiAgICBleHRyYWN0IDAgMjQyCiAgICBpbnRjIDEzIC8vIDIwOQogICAgZXh0cmFjdF91aW50NjQKICAgIGZyYW1lX2RpZyAtMQogICAgPD0KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTAwMy0xMDA2CiAgICAvLyBhc3NlcnQoCiAgICAvLyAgIGFtb3VudFRvU3Rha2UgPj0gdGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS5jb25maWcubWluRW50cnlTdGFrZSwKICAgIC8vICAgJ211c3Qgc3Rha2UgYXQgbGVhc3QgdGhlIG1pbmltdW0gZm9yIHRoaXMgcG9vbCcsCiAgICAvLyApCiAgICBhc3NlcnQgLy8gbXVzdCBzdGFrZSBhdCBsZWFzdCB0aGUgbWluaW11bSBmb3IgdGhpcyBwb29sCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEwMTAKICAgIC8vIGNvbnN0IGN1ck51bVBvb2xzID0gdGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS5zdGF0ZS5udW1Qb29scy5uYXRpdmUKICAgIGV4dHJhY3QgMjQyIDI2CiAgICBpbnRjXzAgLy8gMAogICAgZXh0cmFjdF91aW50MTYKICAgIGZyYW1lX2J1cnkgNQogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMDExCiAgICAvLyBmb3IgKGxldCBpOiB1aW50NjQgPSAwOyBpIDwgY3VyTnVtUG9vbHM7IGkgKz0gMSkgewogICAgaW50Y18wIC8vIDAKICAgIGZyYW1lX2J1cnkgNwoKZmluZFBvb2xGb3JTdGFrZXJfd2hpbGVfdG9wQDEzOgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMDExCiAgICAvLyBmb3IgKGxldCBpOiB1aW50NjQgPSAwOyBpIDwgY3VyTnVtUG9vbHM7IGkgKz0gMSkgewogICAgZnJhbWVfZGlnIDcKICAgIGZyYW1lX2RpZyA1CiAgICA8CiAgICBieiBmaW5kUG9vbEZvclN0YWtlcl9hZnRlcl93aGlsZUAxNwogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMDEyCiAgICAvLyBpZiAocG9vbHNbaV0udG90YWxBbGdvU3Rha2VkICsgYW1vdW50VG9TdGFrZSA8PSBtYXhQZXJQb29sKSB7CiAgICBmcmFtZV9kaWcgMAogICAgaW50YyA0IC8vIDI2OAogICAgaW50YyA1IC8vIDQzMgogICAgZXh0cmFjdDMKICAgIGZyYW1lX2RpZyA3CiAgICBpbnRjXzIgLy8gMTgKICAgICoKICAgIGludGNfMiAvLyAxOAogICAgZXh0cmFjdDMgLy8gb24gZXJyb3I6IGluZGV4IGFjY2VzcyBpcyBvdXQgb2YgYm91bmRzCiAgICBkdXAKICAgIGZyYW1lX2J1cnkgMgogICAgcHVzaGludCAxMCAvLyAxMAogICAgZXh0cmFjdF91aW50NjQKICAgIGZyYW1lX2RpZyAtMQogICAgKwogICAgZnJhbWVfZGlnIDExCiAgICA8PQogICAgYnogZmluZFBvb2xGb3JTdGFrZXJfYWZ0ZXJfaWZfZWxzZUAxNgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMDE0CiAgICAvLyB7IGlkOiB2YWxpZGF0b3JJZCwgcG9vbElkOiBpICsgMSwgcG9vbEFwcElkOiBwb29sc1tpXS5wb29sQXBwSWQgfSwKICAgIGZyYW1lX2RpZyA3CiAgICBpbnRjXzEgLy8gMQogICAgKwogICAgZnJhbWVfZGlnIDIKICAgIGludGNfMCAvLyAwCiAgICBleHRyYWN0X3VpbnQ2NAogICAgc3dhcAogICAgaXRvYgogICAgZnJhbWVfZGlnIDMKICAgIHN3YXAKICAgIGNvbmNhdAogICAgc3dhcAogICAgaXRvYgogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEwMTMtMTAxNwogICAgLy8gcmV0dXJuIFsKICAgIC8vICAgeyBpZDogdmFsaWRhdG9ySWQsIHBvb2xJZDogaSArIDEsIHBvb2xBcHBJZDogcG9vbHNbaV0ucG9vbEFwcElkIH0sCiAgICAvLyAgIGlzTmV3U3Rha2VyVG9WYWxpZGF0b3IsCiAgICAvLyAgIGlzTmV3U3Rha2VyVG9Qcm90b2NvbCwKICAgIC8vIF0KICAgIGJ5dGVjIDYgLy8gMHgwMAogICAgaW50Y18wIC8vIDAKICAgIGZyYW1lX2RpZyA5CiAgICBzZXRiaXQKICAgIGludGNfMSAvLyAxCiAgICBmcmFtZV9kaWcgMTAKICAgIHNldGJpdAogICAgY29uY2F0CiAgICBmcmFtZV9idXJ5IDAKICAgIHJldHN1YgoKZmluZFBvb2xGb3JTdGFrZXJfYWZ0ZXJfaWZfZWxzZUAxNjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTAxMQogICAgLy8gZm9yIChsZXQgaTogdWludDY0ID0gMDsgaSA8IGN1ck51bVBvb2xzOyBpICs9IDEpIHsKICAgIGZyYW1lX2RpZyA3CiAgICBpbnRjXzEgLy8gMQogICAgKwogICAgZnJhbWVfYnVyeSA3CiAgICBiIGZpbmRQb29sRm9yU3Rha2VyX3doaWxlX3RvcEAxMwoKZmluZFBvb2xGb3JTdGFrZXJfYWZ0ZXJfd2hpbGVAMTc6CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEwMjEKICAgIC8vIHJldHVybiBbeyBpZDogdmFsaWRhdG9ySWQsIHBvb2xJZDogMCwgcG9vbEFwcElkOiAwIH0sIGlzTmV3U3Rha2VyVG9WYWxpZGF0b3IsIGlzTmV3U3Rha2VyVG9Qcm90b2NvbF0KICAgIGludGNfMCAvLyAwCiAgICBpdG9iCiAgICBmcmFtZV9kaWcgMwogICAgZGlnIDEKICAgIGNvbmNhdAogICAgc3dhcAogICAgY29uY2F0CiAgICBieXRlYyA2IC8vIDB4MDAKICAgIGludGNfMCAvLyAwCiAgICBmcmFtZV9kaWcgOQogICAgc2V0Yml0CiAgICBpbnRjXzEgLy8gMQogICAgZnJhbWVfZGlnIDEwCiAgICBzZXRiaXQKICAgIGNvbmNhdAogICAgZnJhbWVfYnVyeSAwCiAgICByZXRzdWIKCgovLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjpWYWxpZGF0b3JSZWdpc3RyeS5tb3ZlUG9vbFRvTm9kZSh2YWxpZGF0b3JJZDogdWludDY0LCBwb29sQXBwSWQ6IHVpbnQ2NCwgbm9kZU51bTogdWludDY0KSAtPiB2b2lkOgptb3ZlUG9vbFRvTm9kZToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTAzNQogICAgLy8gbW92ZVBvb2xUb05vZGUodmFsaWRhdG9ySWQ6IFZhbGlkYXRvcklkVHlwZSwgcG9vbEFwcElkOiB1aW50NjQsIG5vZGVOdW06IHVpbnQ2NCk6IHZvaWQgewogICAgcHJvdG8gMyAwCiAgICBpbnRjXzAgLy8gMAogICAgYnl0ZWNfMiAvLyAiIgogICAgZHVwbiA0CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEwMzgKICAgIC8vIFR4bi5zZW5kZXIgPT09IHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUuY29uZmlnLm93bmVyLm5hdGl2ZSB8fAogICAgdHhuIFNlbmRlcgogICAgZnJhbWVfZGlnIC0zCiAgICBpdG9iCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjIyMQogICAgLy8gdmFsaWRhdG9yTGlzdCA9IEJveE1hcDxWYWxpZGF0b3JJZFR5cGUsIFZhbGlkYXRvckluZm8+KHsga2V5UHJlZml4OiAndicgfSkKICAgIGJ5dGVjXzAgLy8gInYiCiAgICBzd2FwCiAgICBjb25jYXQKICAgIGR1cAogICAgY292ZXIgMgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMDM4CiAgICAvLyBUeG4uc2VuZGVyID09PSB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLmNvbmZpZy5vd25lci5uYXRpdmUgfHwKICAgIGJveF9nZXQKICAgIGFzc2VydCAvLyBCb3ggbXVzdCBoYXZlIHZhbHVlCiAgICBleHRyYWN0IDAgMjQyCiAgICBleHRyYWN0IDggMzIKICAgID09CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEwMzgtMTAzOQogICAgLy8gVHhuLnNlbmRlciA9PT0gdGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS5jb25maWcub3duZXIubmF0aXZlIHx8CiAgICAvLyAgIFR4bi5zZW5kZXIgPT09IHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUuY29uZmlnLm1hbmFnZXIubmF0aXZlLAogICAgYm56IG1vdmVQb29sVG9Ob2RlX2Jvb2xfdHJ1ZUAyCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEwMzkKICAgIC8vIFR4bi5zZW5kZXIgPT09IHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUuY29uZmlnLm1hbmFnZXIubmF0aXZlLAogICAgdHhuIFNlbmRlcgogICAgZnJhbWVfZGlnIDYKICAgIGJveF9nZXQKICAgIGFzc2VydCAvLyBCb3ggbXVzdCBoYXZlIHZhbHVlCiAgICBleHRyYWN0IDAgMjQyCiAgICBleHRyYWN0IDQwIDMyCiAgICA9PQogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMDM4LTEwMzkKICAgIC8vIFR4bi5zZW5kZXIgPT09IHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUuY29uZmlnLm93bmVyLm5hdGl2ZSB8fAogICAgLy8gICBUeG4uc2VuZGVyID09PSB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLmNvbmZpZy5tYW5hZ2VyLm5hdGl2ZSwKICAgIGJ6IG1vdmVQb29sVG9Ob2RlX2Jvb2xfZmFsc2VAMwoKbW92ZVBvb2xUb05vZGVfYm9vbF90cnVlQDI6CiAgICBpbnRjXzEgLy8gMQoKbW92ZVBvb2xUb05vZGVfYm9vbF9tZXJnZUA0OgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMDM3LTEwNDEKICAgIC8vIGFzc2VydCgKICAgIC8vICAgVHhuLnNlbmRlciA9PT0gdGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS5jb25maWcub3duZXIubmF0aXZlIHx8CiAgICAvLyAgICAgVHhuLnNlbmRlciA9PT0gdGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS5jb25maWcubWFuYWdlci5uYXRpdmUsCiAgICAvLyAgICdjYW4gb25seSBiZSBjYWxsZWQgYnkgb3duZXIgb3IgbWFuYWdlciBvZiB2YWxpZGF0b3InLAogICAgLy8gKQogICAgYXNzZXJ0IC8vIGNhbiBvbmx5IGJlIGNhbGxlZCBieSBvd25lciBvciBtYW5hZ2VyIG9mIHZhbGlkYXRvcgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMDQzCiAgICAvLyBjb25zdCBub2RlUG9vbEFzc2lnbm1lbnRzID0gY2xvbmUodGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS5ub2RlUG9vbEFzc2lnbm1lbnRzKQogICAgZnJhbWVfZGlnIDYKICAgIGJveF9nZXQKICAgIHN3YXAKICAgIGZyYW1lX2J1cnkgMAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTA0NAogICAgLy8gYXNzZXJ0KG5vZGVOdW0gPj0gMSAmJiBub2RlTnVtIDw9IE1BWF9OT0RFUywgJ25vZGUgbnVtYmVyIG91dCBvZiBhbGxvd2FibGUgcmFuZ2UnKQogICAgZnJhbWVfZGlnIC0xCiAgICBieiBtb3ZlUG9vbFRvTm9kZV9ib29sX2ZhbHNlQDcKICAgIGZyYW1lX2RpZyAtMQogICAgcHVzaGludCA4IC8vIDgKICAgIDw9CiAgICBieiBtb3ZlUG9vbFRvTm9kZV9ib29sX2ZhbHNlQDcKICAgIGludGNfMSAvLyAxCgptb3ZlUG9vbFRvTm9kZV9ib29sX21lcmdlQDg6CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEwNDQKICAgIC8vIGFzc2VydChub2RlTnVtID49IDEgJiYgbm9kZU51bSA8PSBNQVhfTk9ERVMsICdub2RlIG51bWJlciBvdXQgb2YgYWxsb3dhYmxlIHJhbmdlJykKICAgIGFzc2VydCAvLyBub2RlIG51bWJlciBvdXQgb2YgYWxsb3dhYmxlIHJhbmdlCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEwNDYKICAgIC8vIGZvciAobGV0IHNyY05vZGVJZHg6IHVpbnQ2NCA9IDA7IHNyY05vZGVJZHggPCBNQVhfTk9ERVM7IHNyY05vZGVJZHggKz0gMSkgewogICAgaW50Y18wIC8vIDAKICAgIGZyYW1lX2J1cnkgNAoKbW92ZVBvb2xUb05vZGVfd2hpbGVfdG9wQDk6CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEwNDYKICAgIC8vIGZvciAobGV0IHNyY05vZGVJZHg6IHVpbnQ2NCA9IDA7IHNyY05vZGVJZHggPCBNQVhfTk9ERVM7IHNyY05vZGVJZHggKz0gMSkgewogICAgZnJhbWVfZGlnIDQKICAgIHB1c2hpbnQgOCAvLyA4CiAgICA8CiAgICBhc3NlcnQgLy8gY291bGRuJ3QgZmluZCBwb29sIGFwcCBpZCBpbiBub2RlcyB0byBtb3ZlCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEwNDcKICAgIC8vIGZvciAobGV0IGk6IHVpbnQ2NCA9IDA7IGkgPCBNQVhfUE9PTFNfUEVSX05PREU7IGkgKz0gMSkgewogICAgaW50Y18wIC8vIDAKICAgIGZyYW1lX2J1cnkgMwoKbW92ZVBvb2xUb05vZGVfd2hpbGVfdG9wQDExOgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMDQ3CiAgICAvLyBmb3IgKGxldCBpOiB1aW50NjQgPSAwOyBpIDwgTUFYX1BPT0xTX1BFUl9OT0RFOyBpICs9IDEpIHsKICAgIGZyYW1lX2RpZyAzCiAgICBwdXNoaW50IDMgLy8gMwogICAgPAogICAgZHVwCiAgICBmcmFtZV9idXJ5IDUKICAgIGJ6IG1vdmVQb29sVG9Ob2RlX2FmdGVyX3doaWxlQDE2CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEwNDgKICAgIC8vIGlmIChub2RlUG9vbEFzc2lnbm1lbnRzLm5vZGVzW3NyY05vZGVJZHhdLnBvb2xBcHBJZHNbaV0gPT09IHBvb2xBcHBJZCkgewogICAgZnJhbWVfZGlnIDAKICAgIGludGMgOCAvLyA5MDAKICAgIGludGMgOSAvLyAxOTIKICAgIGV4dHJhY3QzCiAgICBleHRyYWN0IDAgMTkyCiAgICBmcmFtZV9kaWcgNAogICAgaW50Y18zIC8vIDI0CiAgICAqCiAgICBkdXAKICAgIGZyYW1lX2J1cnkgMQogICAgaW50Y18zIC8vIDI0CiAgICBleHRyYWN0MyAvLyBvbiBlcnJvcjogaW5kZXggYWNjZXNzIGlzIG91dCBvZiBib3VuZHMKICAgIGV4dHJhY3QgMCAyNAogICAgZnJhbWVfZGlnIDMKICAgIHB1c2hpbnQgOCAvLyA4CiAgICAqCiAgICBkdXAKICAgIGZyYW1lX2J1cnkgMgogICAgZXh0cmFjdF91aW50NjQKICAgIGZyYW1lX2RpZyAtMgogICAgPT0KICAgIGJ6IG1vdmVQb29sVG9Ob2RlX2FmdGVyX2lmX2Vsc2VAMTUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTA0OQogICAgLy8gYXNzZXJ0KG5vZGVOdW0gLSAxICE9PSBzcmNOb2RlSWR4LCAiY2FuJ3QgbW92ZSB0byBzYW1lIG5vZGUiKQogICAgZnJhbWVfZGlnIC0xCiAgICBpbnRjXzEgLy8gMQogICAgLQogICAgZnJhbWVfZGlnIDQKICAgICE9CiAgICBhc3NlcnQgLy8gY2FuJ3QgbW92ZSB0byBzYW1lIG5vZGUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTA1MQogICAgLy8gdGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS5ub2RlUG9vbEFzc2lnbm1lbnRzLm5vZGVzW3NyY05vZGVJZHhdLnBvb2xBcHBJZHNbaV0gPSAwCiAgICBpbnRjXzAgLy8gMAogICAgaXRvYgogICAgaW50YyA4IC8vIDkwMAogICAgZnJhbWVfZGlnIDEKICAgICsKICAgIGZyYW1lX2RpZyA1CiAgICBhc3NlcnQgLy8gaW5kZXggb3V0IG9mIGJvdW5kcwogICAgZnJhbWVfZGlnIDIKICAgICsKICAgIGZyYW1lX2RpZyA2CiAgICBzd2FwCiAgICB1bmNvdmVyIDIKICAgIGJveF9yZXBsYWNlCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEwNTQtMTA1NgogICAgLy8gYWJpQ2FsbChTdGFraW5nUG9vbEFCSS5wcm90b3R5cGUuZ29PZmZsaW5lLCB7CiAgICAvLyAgIGFwcElkOiBwb29sQXBwSWQsCiAgICAvLyB9KQogICAgaXR4bl9iZWdpbgogICAgcHVzaGJ5dGVzIDB4NTFlZjNiMjEgLy8gbWV0aG9kICJnb09mZmxpbmUoKXZvaWQiCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uQXJncwogICAgZnJhbWVfZGlnIC0yCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uSUQKICAgIHB1c2hpbnQgNiAvLyBhcHBsCiAgICBpdHhuX2ZpZWxkIFR5cGVFbnVtCiAgICBpbnRjXzAgLy8gMAogICAgaXR4bl9maWVsZCBGZWUKICAgIGl0eG5fc3VibWl0CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEwNTkKICAgIC8vIHRoaXMuYWRkUG9vbFRvTm9kZSh2YWxpZGF0b3JJZCwgcG9vbEFwcElkLCBub2RlTnVtKQogICAgZnJhbWVfZGlnIC0zCiAgICBmcmFtZV9kaWcgLTIKICAgIGZyYW1lX2RpZyAtMQogICAgY2FsbHN1YiBhZGRQb29sVG9Ob2RlCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEwNjAKICAgIC8vIHJldHVybgogICAgcmV0c3ViCgptb3ZlUG9vbFRvTm9kZV9hZnRlcl9pZl9lbHNlQDE1OgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMDQ3CiAgICAvLyBmb3IgKGxldCBpOiB1aW50NjQgPSAwOyBpIDwgTUFYX1BPT0xTX1BFUl9OT0RFOyBpICs9IDEpIHsKICAgIGZyYW1lX2RpZyAzCiAgICBpbnRjXzEgLy8gMQogICAgKwogICAgZnJhbWVfYnVyeSAzCiAgICBiIG1vdmVQb29sVG9Ob2RlX3doaWxlX3RvcEAxMQoKbW92ZVBvb2xUb05vZGVfYWZ0ZXJfd2hpbGVAMTY6CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEwNDYKICAgIC8vIGZvciAobGV0IHNyY05vZGVJZHg6IHVpbnQ2NCA9IDA7IHNyY05vZGVJZHggPCBNQVhfTk9ERVM7IHNyY05vZGVJZHggKz0gMSkgewogICAgZnJhbWVfZGlnIDQKICAgIGludGNfMSAvLyAxCiAgICArCiAgICBmcmFtZV9idXJ5IDQKICAgIGIgbW92ZVBvb2xUb05vZGVfd2hpbGVfdG9wQDkKCm1vdmVQb29sVG9Ob2RlX2Jvb2xfZmFsc2VANzoKICAgIGludGNfMCAvLyAwCiAgICBiIG1vdmVQb29sVG9Ob2RlX2Jvb2xfbWVyZ2VAOAoKbW92ZVBvb2xUb05vZGVfYm9vbF9mYWxzZUAzOgogICAgaW50Y18wIC8vIDAKICAgIGIgbW92ZVBvb2xUb05vZGVfYm9vbF9tZXJnZUA0CgoKLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo6VmFsaWRhdG9yUmVnaXN0cnkuZW1wdHlUb2tlblJld2FyZHModmFsaWRhdG9ySWQ6IHVpbnQ2NCwgcmVjZWl2ZXI6IGJ5dGVzKSAtPiB1aW50NjQ6CmVtcHR5VG9rZW5SZXdhcmRzOgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMDc4CiAgICAvLyBlbXB0eVRva2VuUmV3YXJkcyh2YWxpZGF0b3JJZDogVmFsaWRhdG9ySWRUeXBlLCByZWNlaXZlcjogQWRkcmVzcyk6IHVpbnQ2NCB7CiAgICBwcm90byAyIDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTA4MAogICAgLy8gVHhuLnNlbmRlciA9PT0gdGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS5jb25maWcub3duZXIubmF0aXZlLAogICAgdHhuIFNlbmRlcgogICAgZnJhbWVfZGlnIC0yCiAgICBpdG9iCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjIyMQogICAgLy8gdmFsaWRhdG9yTGlzdCA9IEJveE1hcDxWYWxpZGF0b3JJZFR5cGUsIFZhbGlkYXRvckluZm8+KHsga2V5UHJlZml4OiAndicgfSkKICAgIGJ5dGVjXzAgLy8gInYiCiAgICBzd2FwCiAgICBjb25jYXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTA4MAogICAgLy8gVHhuLnNlbmRlciA9PT0gdGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS5jb25maWcub3duZXIubmF0aXZlLAogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIGR1cAogICAgZXh0cmFjdCAwIDI0MgogICAgZHVwCiAgICBleHRyYWN0IDggMzIKICAgIHVuY292ZXIgMwogICAgPT0KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTA3OS0xMDgyCiAgICAvLyBhc3NlcnQoCiAgICAvLyAgIFR4bi5zZW5kZXIgPT09IHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUuY29uZmlnLm93bmVyLm5hdGl2ZSwKICAgIC8vICAgJ2NhbiBvbmx5IGJlIGNhbGxlZCBieSB2YWxpZGF0b3Igb3duZXInLAogICAgLy8gKQogICAgYXNzZXJ0IC8vIGNhbiBvbmx5IGJlIGNhbGxlZCBieSB2YWxpZGF0b3Igb3duZXIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTA4MwogICAgLy8gY29uc3QgcmV3YXJkVG9rZW5JZCA9IHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUuY29uZmlnLnJld2FyZFRva2VuSWQKICAgIGR1cAogICAgZXh0cmFjdCAxNTMgOAogICAgc3dhcAogICAgcHVzaGludCAxNTMgLy8gMTUzCiAgICBleHRyYWN0X3VpbnQ2NAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMDg0CiAgICAvLyBjb25zdCByZXdhcmRUb2tlbkhlbGRCYWNrID0gdGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS5zdGF0ZS5yZXdhcmRUb2tlbkhlbGRCYWNrCiAgICBkaWcgMgogICAgZXh0cmFjdCAyNDIgMjYKICAgIGludGNfMiAvLyAxOAogICAgZXh0cmFjdF91aW50NjQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTA4NQogICAgLy8gYXNzZXJ0KHJld2FyZFRva2VuSWQgIT09IDAsICJ0aGlzIHZhbGlkYXRvciBkb2Vzbid0IGhhdmUgYSByZXdhcmQgdG9rZW4gZGVmaW5lZCIpCiAgICBkaWcgMQogICAgYXNzZXJ0IC8vIHRoaXMgdmFsaWRhdG9yIGRvZXNuJ3QgaGF2ZSBhIHJld2FyZCB0b2tlbiBkZWZpbmVkCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEwODYKICAgIC8vIGNvbnN0IHBvb2xPbmVBcHBJZCA9IEFwcGxpY2F0aW9uKHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUucG9vbHNbMF0ucG9vbEFwcElkKQogICAgdW5jb3ZlciAzCiAgICBpbnRjIDQgLy8gMjY4CiAgICBpbnRjIDUgLy8gNDMyCiAgICBleHRyYWN0MwogICAgZXh0cmFjdCAwIDE4IC8vIG9uIGVycm9yOiBpbmRleCBhY2Nlc3MgaXMgb3V0IG9mIGJvdW5kcwogICAgaW50Y18wIC8vIDAKICAgIGV4dHJhY3RfdWludDY0CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEwODgKICAgIC8vIGxldCBbdG9rZW5SZXdhcmRCYWxdID0gb3AuQXNzZXRIb2xkaW5nLmFzc2V0QmFsYW5jZShwb29sT25lQXBwSWQuYWRkcmVzcywgcmV3YXJkVG9rZW5JZCkKICAgIGR1cAogICAgYXBwX3BhcmFtc19nZXQgQXBwQWRkcmVzcwogICAgYXNzZXJ0IC8vIGFwcGxpY2F0aW9uIGV4aXN0cwogICAgZGlnIDMKICAgIGFzc2V0X2hvbGRpbmdfZ2V0IEFzc2V0QmFsYW5jZQogICAgcG9wCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEwODkKICAgIC8vIHRva2VuUmV3YXJkQmFsID0gdG9rZW5SZXdhcmRCYWwgLSByZXdhcmRUb2tlbkhlbGRCYWNrCiAgICBkaWcgMgogICAgLQogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMDkxLTEwOTQKICAgIC8vIGFiaUNhbGwoU3Rha2luZ1Bvb2xBQkkucHJvdG90eXBlLnBheVRva2VuUmV3YXJkLCB7CiAgICAvLyAgIGFwcElkOiBwb29sT25lQXBwSWQuaWQsCiAgICAvLyAgIGFyZ3M6IFtyZWNlaXZlciwgcmV3YXJkVG9rZW5JZCwgdG9rZW5SZXdhcmRCYWxdLAogICAgLy8gfSkKICAgIGl0eG5fYmVnaW4KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTA5MwogICAgLy8gYXJnczogW3JlY2VpdmVyLCByZXdhcmRUb2tlbklkLCB0b2tlblJld2FyZEJhbF0sCiAgICBkdXAKICAgIGl0b2IKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTA5MS0xMDk0CiAgICAvLyBhYmlDYWxsKFN0YWtpbmdQb29sQUJJLnByb3RvdHlwZS5wYXlUb2tlblJld2FyZCwgewogICAgLy8gICBhcHBJZDogcG9vbE9uZUFwcElkLmlkLAogICAgLy8gICBhcmdzOiBbcmVjZWl2ZXIsIHJld2FyZFRva2VuSWQsIHRva2VuUmV3YXJkQmFsXSwKICAgIC8vIH0pCiAgICBieXRlYyAxNCAvLyBtZXRob2QgInBheVRva2VuUmV3YXJkKGFkZHJlc3MsdWludDY0LHVpbnQ2NCl2b2lkIgogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbkFyZ3MKICAgIGZyYW1lX2RpZyAtMQogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbkFyZ3MKICAgIHVuY292ZXIgNQogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbkFyZ3MKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25BcmdzCiAgICBkaWcgMQogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbklECiAgICBwdXNoaW50IDYgLy8gYXBwbAogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgaW50Y18wIC8vIDAKICAgIGl0eG5fZmllbGQgRmVlCiAgICBpdHhuX3N1Ym1pdAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMDk2CiAgICAvLyBjb25zdCBbYmFsYW5jZV0gPSBvcC5Bc3NldEhvbGRpbmcuYXNzZXRCYWxhbmNlKHBvb2xPbmVBcHBJZC5hZGRyZXNzLCByZXdhcmRUb2tlbklkKQogICAgc3dhcAogICAgYXBwX3BhcmFtc19nZXQgQXBwQWRkcmVzcwogICAgYXNzZXJ0IC8vIGFwcGxpY2F0aW9uIGV4aXN0cwogICAgdW5jb3ZlciAzCiAgICBhc3NldF9ob2xkaW5nX2dldCBBc3NldEJhbGFuY2UKICAgIHBvcAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMDk3CiAgICAvLyBhc3NlcnQoYmFsYW5jZSA9PT0gcmV3YXJkVG9rZW5IZWxkQmFjaywgJ2JhbGFuY2Ugb2YgcmVtYWluaW5nIHJld2FyZCB0b2tlbnMgc2hvdWxkIG1hdGNoIHRoZSBoZWxkIGJhY2sgYW1vdW50JykKICAgIHVuY292ZXIgMgogICAgPT0KICAgIGFzc2VydCAvLyBiYWxhbmNlIG9mIHJlbWFpbmluZyByZXdhcmQgdG9rZW5zIHNob3VsZCBtYXRjaCB0aGUgaGVsZCBiYWNrIGFtb3VudAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMDk4CiAgICAvLyByZXR1cm4gdG9rZW5SZXdhcmRCYWwKICAgIHJldHN1YgoKCi8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OlZhbGlkYXRvclJlZ2lzdHJ5LnZlcmlmeVBvb2xLZXlDYWxsZXIocG9vbEtleTogYnl0ZXMpIC0+IGJ5dGVzOgp2ZXJpZnlQb29sS2V5Q2FsbGVyOgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMTk1CiAgICAvLyBwcml2YXRlIHZlcmlmeVBvb2xLZXlDYWxsZXIocG9vbEtleTogVmFsaWRhdG9yUG9vbEtleSk6IHZvaWQgewogICAgcHJvdG8gMSAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjExOTYKICAgIC8vIGFzc2VydCh0aGlzLnZhbGlkYXRvckxpc3QocG9vbEtleS5pZCkuZXhpc3RzLCAidGhlIHNwZWNpZmllZCB2YWxpZGF0b3IgaWQgaXNuJ3QgdmFsaWQiKQogICAgZnJhbWVfZGlnIC0xCiAgICBpbnRjXzAgLy8gMAogICAgZXh0cmFjdF91aW50NjQKICAgIGl0b2IKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MjIxCiAgICAvLyB2YWxpZGF0b3JMaXN0ID0gQm94TWFwPFZhbGlkYXRvcklkVHlwZSwgVmFsaWRhdG9ySW5mbz4oeyBrZXlQcmVmaXg6ICd2JyB9KQogICAgYnl0ZWNfMCAvLyAidiIKICAgIHN3YXAKICAgIGNvbmNhdAogICAgZHVwCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjExOTYKICAgIC8vIGFzc2VydCh0aGlzLnZhbGlkYXRvckxpc3QocG9vbEtleS5pZCkuZXhpc3RzLCAidGhlIHNwZWNpZmllZCB2YWxpZGF0b3IgaWQgaXNuJ3QgdmFsaWQiKQogICAgYm94X2xlbgogICAgYnVyeSAxCiAgICBhc3NlcnQgLy8gdGhlIHNwZWNpZmllZCB2YWxpZGF0b3IgaWQgaXNuJ3QgdmFsaWQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTE5NwogICAgLy8gYXNzZXJ0KHBvb2xLZXkucG9vbElkIDw9IE1BWF9QT09MUywgJ3Bvb2wgaWQgbm90IGluIHZhbGlkIHJhbmdlJykKICAgIGZyYW1lX2RpZyAtMQogICAgcHVzaGludCA4IC8vIDgKICAgIGV4dHJhY3RfdWludDY0CiAgICBkdXBuIDIKICAgIGludGNfMyAvLyAyNAogICAgPD0KICAgIGFzc2VydCAvLyBwb29sIGlkIG5vdCBpbiB2YWxpZCByYW5nZQogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMTk5CiAgICAvLyBwb29sS2V5LnBvb2xJZCA+IDAgJiYgcG9vbEtleS5wb29sSWQgPD0gdGhpcy52YWxpZGF0b3JMaXN0KHBvb2xLZXkuaWQpLnZhbHVlLnN0YXRlLm51bVBvb2xzLm5hdGl2ZSwKICAgIGJ6IHZlcmlmeVBvb2xLZXlDYWxsZXJfYm9vbF9mYWxzZUAzCiAgICBmcmFtZV9kaWcgMAogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIGV4dHJhY3QgMjQyIDI2CiAgICBpbnRjXzAgLy8gMAogICAgZXh0cmFjdF91aW50MTYKICAgIGZyYW1lX2RpZyAxCiAgICA+PQogICAgYnogdmVyaWZ5UG9vbEtleUNhbGxlcl9ib29sX2ZhbHNlQDMKICAgIGludGNfMSAvLyAxCgp2ZXJpZnlQb29sS2V5Q2FsbGVyX2Jvb2xfbWVyZ2VANDoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTE5OC0xMjAxCiAgICAvLyBhc3NlcnQoCiAgICAvLyAgIHBvb2xLZXkucG9vbElkID4gMCAmJiBwb29sS2V5LnBvb2xJZCA8PSB0aGlzLnZhbGlkYXRvckxpc3QocG9vbEtleS5pZCkudmFsdWUuc3RhdGUubnVtUG9vbHMubmF0aXZlLAogICAgLy8gICAncG9vbCBpZCBvdXRzaWRlIG9mIHJhbmdlIG9mIHBvb2xzIGNyZWF0ZWQgZm9yIHRoaXMgdmFsaWRhdG9yJywKICAgIC8vICkKICAgIGFzc2VydCAvLyBwb29sIGlkIG91dHNpZGUgb2YgcmFuZ2Ugb2YgcG9vbHMgY3JlYXRlZCBmb3IgdGhpcyB2YWxpZGF0b3IKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTIwNQogICAgLy8gcG9vbEtleS5wb29sQXBwSWQgPT09IHRoaXMudmFsaWRhdG9yTGlzdChwb29sS2V5LmlkKS52YWx1ZS5wb29sc1twb29sS2V5LnBvb2xJZCAtIDFdLnBvb2xBcHBJZCwKICAgIGZyYW1lX2RpZyAtMQogICAgcHVzaGludCAxNiAvLyAxNgogICAgZXh0cmFjdF91aW50NjQKICAgIGZyYW1lX2RpZyAwCiAgICBib3hfZ2V0CiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgZnJhbWVfZGlnIDEKICAgIGludGNfMSAvLyAxCiAgICAtCiAgICBzd2FwCiAgICBpbnRjIDQgLy8gMjY4CiAgICBpbnRjIDUgLy8gNDMyCiAgICBleHRyYWN0MwogICAgc3dhcAogICAgaW50Y18yIC8vIDE4CiAgICAqCiAgICBpbnRjXzIgLy8gMTgKICAgIGV4dHJhY3QzIC8vIG9uIGVycm9yOiBpbmRleCBhY2Nlc3MgaXMgb3V0IG9mIGJvdW5kcwogICAgaW50Y18wIC8vIDAKICAgIGV4dHJhY3RfdWludDY0CiAgICBkaWcgMQogICAgPT0KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTIwNC0xMjA3CiAgICAvLyBhc3NlcnQoCiAgICAvLyAgIHBvb2xLZXkucG9vbEFwcElkID09PSB0aGlzLnZhbGlkYXRvckxpc3QocG9vbEtleS5pZCkudmFsdWUucG9vbHNbcG9vbEtleS5wb29sSWQgLSAxXS5wb29sQXBwSWQsCiAgICAvLyAgICJUaGUgcGFzc2VkIGluIGFwcCBpZCBkb2Vzbid0IG1hdGNoIHRoZSBwYXNzZWQgaW4gaWRzIiwKICAgIC8vICkKICAgIGFzc2VydCAvLyBUaGUgcGFzc2VkIGluIGFwcCBpZCBkb2Vzbid0IG1hdGNoIHRoZSBwYXNzZWQgaW4gaWRzCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEyMDkKICAgIC8vIGFzc2VydChUeG4uc2VuZGVyID09PSBBcHBsaWNhdGlvbihwb29sS2V5LnBvb2xBcHBJZCkuYWRkcmVzcykKICAgIHR4biBTZW5kZXIKICAgIGRpZyAxCiAgICBhcHBfcGFyYW1zX2dldCBBcHBBZGRyZXNzCiAgICBhc3NlcnQgLy8gYXBwbGljYXRpb24gZXhpc3RzCiAgICA9PQogICAgYXNzZXJ0CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEyMTEKICAgIC8vIGNvbnN0IFt2YWxpZGF0b3JJZF0gPSBvcC5BcHBHbG9iYWwuZ2V0RXhVaW50NjQocG9vbEtleS5wb29sQXBwSWQsIEJ5dGVzKCd2YWxpZGF0b3JJZCcpKQogICAgZHVwCiAgICBwdXNoYnl0ZXMgInZhbGlkYXRvcklkIgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIHBvcAogICAgc3dhcAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMjEyCiAgICAvLyBjb25zdCBbcG9vbElkXSA9IG9wLkFwcEdsb2JhbC5nZXRFeFVpbnQ2NChwb29sS2V5LnBvb2xBcHBJZCwgQnl0ZXMoJ3Bvb2xJZCcpKQogICAgcHVzaGJ5dGVzICJwb29sSWQiCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgcG9wCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEyMTMKICAgIC8vIGFzc2VydCh2YWxpZGF0b3JJZCkKICAgIHN3YXAKICAgIGFzc2VydAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMjE0CiAgICAvLyBhc3NlcnQocG9vbElkKQogICAgYXNzZXJ0CiAgICBmcmFtZV9kaWcgLTEKICAgIGZyYW1lX2J1cnkgMAogICAgcmV0c3ViCgp2ZXJpZnlQb29sS2V5Q2FsbGVyX2Jvb2xfZmFsc2VAMzoKICAgIGludGNfMCAvLyAwCiAgICBiIHZlcmlmeVBvb2xLZXlDYWxsZXJfYm9vbF9tZXJnZUA0CgoKLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo6VmFsaWRhdG9yUmVnaXN0cnkuYWRkUG9vbFRvTm9kZSh2YWxpZGF0b3JJZDogdWludDY0LCBwb29sQXBwSWQ6IHVpbnQ2NCwgbm9kZU51bTogdWludDY0KSAtPiB2b2lkOgphZGRQb29sVG9Ob2RlOgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMzg5CiAgICAvLyBwcml2YXRlIGFkZFBvb2xUb05vZGUodmFsaWRhdG9ySWQ6IFZhbGlkYXRvcklkVHlwZSwgcG9vbEFwcElkOiB1aW50NjQsIG5vZGVOdW06IHVpbnQ2NCkgewogICAgcHJvdG8gMyAwCiAgICBieXRlY18yIC8vICIiCiAgICBkdXBuIDIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTM5MAogICAgLy8gY29uc3Qgbm9kZVBvb2xBc3NpZ25tZW50cyA9IGNsb25lKHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUubm9kZVBvb2xBc3NpZ25tZW50cykKICAgIGZyYW1lX2RpZyAtMwogICAgaXRvYgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoyMjEKICAgIC8vIHZhbGlkYXRvckxpc3QgPSBCb3hNYXA8VmFsaWRhdG9ySWRUeXBlLCBWYWxpZGF0b3JJbmZvPih7IGtleVByZWZpeDogJ3YnIH0pCiAgICBieXRlY18wIC8vICJ2IgogICAgc3dhcAogICAgY29uY2F0CiAgICBkdXAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTM5MAogICAgLy8gY29uc3Qgbm9kZVBvb2xBc3NpZ25tZW50cyA9IGNsb25lKHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUubm9kZVBvb2xBc3NpZ25tZW50cykKICAgIGJveF9nZXQKICAgIHN3YXAKICAgIGR1cAogICAgdW5jb3ZlciAyCiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMzkxCiAgICAvLyBjb25zdCBtYXhQb29sc1Blck5vZGVGb3JUaGlzVmFsaWRhdG9yID0gdGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS5jb25maWcucG9vbHNQZXJOb2RlLm5hdGl2ZQogICAgZXh0cmFjdCAwIDI0MgogICAgcHVzaGludCAyMjUgLy8gMjI1CiAgICBnZXRieXRlCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEzOTMKICAgIC8vIGFzc2VydChub2RlTnVtID49IDEgJiYgbm9kZU51bSA8PSBNQVhfTk9ERVMsICdub2RlIG51bWJlciBub3QgaW4gdmFsaWQgcmFuZ2UnKQogICAgZnJhbWVfZGlnIC0xCiAgICBieiBhZGRQb29sVG9Ob2RlX2Jvb2xfZmFsc2VAMwogICAgZnJhbWVfZGlnIC0xCiAgICBwdXNoaW50IDggLy8gOAogICAgPD0KICAgIGJ6IGFkZFBvb2xUb05vZGVfYm9vbF9mYWxzZUAzCiAgICBpbnRjXzEgLy8gMQoKYWRkUG9vbFRvTm9kZV9ib29sX21lcmdlQDQ6CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEzOTMKICAgIC8vIGFzc2VydChub2RlTnVtID49IDEgJiYgbm9kZU51bSA8PSBNQVhfTk9ERVMsICdub2RlIG51bWJlciBub3QgaW4gdmFsaWQgcmFuZ2UnKQogICAgYXNzZXJ0IC8vIG5vZGUgbnVtYmVyIG5vdCBpbiB2YWxpZCByYW5nZQogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMzk1CiAgICAvLyBmb3IgKGxldCBpOiB1aW50NjQgPSAwOyBpIDwgbWF4UG9vbHNQZXJOb2RlRm9yVGhpc1ZhbGlkYXRvcjsgaSArPSAxKSB7CiAgICBpbnRjXzAgLy8gMAogICAgZnJhbWVfYnVyeSAyCgphZGRQb29sVG9Ob2RlX3doaWxlX3RvcEA1OgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMzk1CiAgICAvLyBmb3IgKGxldCBpOiB1aW50NjQgPSAwOyBpIDwgbWF4UG9vbHNQZXJOb2RlRm9yVGhpc1ZhbGlkYXRvcjsgaSArPSAxKSB7CiAgICBmcmFtZV9kaWcgMgogICAgZHVwCiAgICBmcmFtZV9kaWcgNQogICAgPAogICAgYXNzZXJ0IC8vIG5vIGF2YWlsYWJsZSBzcGFjZSBpbiBzcGVjaWZpZWQgbm9kZSBmb3IgdGhpcyBwb29sCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEzOTYKICAgIC8vIGlmIChub2RlUG9vbEFzc2lnbm1lbnRzLm5vZGVzW25vZGVOdW0gLSAxXS5wb29sQXBwSWRzW2ldID09PSAwKSB7CiAgICBmcmFtZV9kaWcgLTEKICAgIGludGNfMSAvLyAxCiAgICAtCiAgICBmcmFtZV9kaWcgNAogICAgaW50YyA4IC8vIDkwMAogICAgaW50YyA5IC8vIDE5MgogICAgZXh0cmFjdDMKICAgIGV4dHJhY3QgMCAxOTIKICAgIHN3YXAKICAgIGludGNfMyAvLyAyNAogICAgKgogICAgZHVwCiAgICBmcmFtZV9idXJ5IDAKICAgIGludGNfMyAvLyAyNAogICAgZXh0cmFjdDMgLy8gb24gZXJyb3I6IGluZGV4IGFjY2VzcyBpcyBvdXQgb2YgYm91bmRzCiAgICBleHRyYWN0IDAgMjQKICAgIHN3YXAKICAgIHB1c2hpbnQgOCAvLyA4CiAgICAqCiAgICBkdXAKICAgIGZyYW1lX2J1cnkgMQogICAgZXh0cmFjdF91aW50NjQKICAgIGJueiBhZGRQb29sVG9Ob2RlX2FmdGVyX2lmX2Vsc2VAOAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMzk4CiAgICAvLyB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLm5vZGVQb29sQXNzaWdubWVudHMubm9kZXNbbm9kZU51bSAtIDFdLnBvb2xBcHBJZHNbaV0gPSBwb29sQXBwSWQKICAgIGZyYW1lX2RpZyAtMgogICAgaXRvYgogICAgaW50YyA4IC8vIDkwMAogICAgZnJhbWVfZGlnIDAKICAgICsKICAgIGZyYW1lX2RpZyAyCiAgICBwdXNoaW50IDMgLy8gMwogICAgPAogICAgYXNzZXJ0IC8vIGluZGV4IG91dCBvZiBib3VuZHMKICAgIGZyYW1lX2RpZyAxCiAgICArCiAgICBmcmFtZV9kaWcgMwogICAgc3dhcAogICAgdW5jb3ZlciAyCiAgICBib3hfcmVwbGFjZQogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMzk5CiAgICAvLyByZXR1cm4KICAgIHJldHN1YgoKYWRkUG9vbFRvTm9kZV9hZnRlcl9pZl9lbHNlQDg6CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEzOTUKICAgIC8vIGZvciAobGV0IGk6IHVpbnQ2NCA9IDA7IGkgPCBtYXhQb29sc1Blck5vZGVGb3JUaGlzVmFsaWRhdG9yOyBpICs9IDEpIHsKICAgIGZyYW1lX2RpZyAyCiAgICBpbnRjXzEgLy8gMQogICAgKwogICAgZnJhbWVfYnVyeSAyCiAgICBiIGFkZFBvb2xUb05vZGVfd2hpbGVfdG9wQDUKCmFkZFBvb2xUb05vZGVfYm9vbF9mYWxzZUAzOgogICAgaW50Y18wIC8vIDAKICAgIGIgYWRkUG9vbFRvTm9kZV9ib29sX21lcmdlQDQKCgovLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjpWYWxpZGF0b3JSZWdpc3RyeS5pc05GREFwcElEVmFsaWQobmZkQXBwSUQ6IHVpbnQ2NCkgLT4gdWludDY0Ogppc05GREFwcElEVmFsaWQ6CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjE0OTAKICAgIC8vIHByaXZhdGUgaXNORkRBcHBJRFZhbGlkKG5mZEFwcElEOiB1aW50NjQpOiBib29sZWFuIHsKICAgIHByb3RvIDEgMQogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxNDkyCiAgICAvLyBjb25zdCBbdXNlck9mZmVyZWRORkROYW1lXSA9IG9wLkFwcEdsb2JhbC5nZXRFeEJ5dGVzKG5mZEFwcElELCBCeXRlcygnaS5uYW1lJykpCiAgICBmcmFtZV9kaWcgLTEKICAgIHB1c2hieXRlcyAiaS5uYW1lIgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIHBvcAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxNDk0LTE1MDAKICAgIC8vIGl0eG4KICAgIC8vICAgLmFwcGxpY2F0aW9uQ2FsbCh7CiAgICAvLyAgICAgYXBwSWQ6IFRlbXBsYXRlVmFyPHVpbnQ2ND4oJ05GRF9SRUdJU1RSWV9BUFBfSUQnKSwKICAgIC8vICAgICBhcHBBcmdzOiBbQnl0ZXMoJ2lzX3ZhbGlkX25mZF9hcHBpZCcpLCBCeXRlcyh1c2VyT2ZmZXJlZE5GRE5hbWUpLCBvcC5pdG9iKG5mZEFwcElEKV0sCiAgICAvLyAgICAgYXBwczogW25mZEFwcElEXSwKICAgIC8vICAgfSkKICAgIC8vICAgLnN1Ym1pdCgpCiAgICBpdHhuX2JlZ2luCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjE0OTYKICAgIC8vIGFwcElkOiBUZW1wbGF0ZVZhcjx1aW50NjQ+KCdORkRfUkVHSVNUUllfQVBQX0lEJyksCiAgICBpbnRjIDEwIC8vIFRNUExfTkZEX1JFR0lTVFJZX0FQUF9JRAogICAgc3dhcAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxNDk3CiAgICAvLyBhcHBBcmdzOiBbQnl0ZXMoJ2lzX3ZhbGlkX25mZF9hcHBpZCcpLCBCeXRlcyh1c2VyT2ZmZXJlZE5GRE5hbWUpLCBvcC5pdG9iKG5mZEFwcElEKV0sCiAgICBmcmFtZV9kaWcgLTEKICAgIGl0b2IKICAgIGZyYW1lX2RpZyAtMQogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbnMKICAgIGJ5dGVjIDEyIC8vICJpc192YWxpZF9uZmRfYXBwaWQiCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uQXJncwogICAgc3dhcAogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbkFyZ3MKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25BcmdzCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uSUQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTQ5NC0xNDk5CiAgICAvLyBpdHhuCiAgICAvLyAgIC5hcHBsaWNhdGlvbkNhbGwoewogICAgLy8gICAgIGFwcElkOiBUZW1wbGF0ZVZhcjx1aW50NjQ+KCdORkRfUkVHSVNUUllfQVBQX0lEJyksCiAgICAvLyAgICAgYXBwQXJnczogW0J5dGVzKCdpc192YWxpZF9uZmRfYXBwaWQnKSwgQnl0ZXModXNlck9mZmVyZWRORkROYW1lKSwgb3AuaXRvYihuZmRBcHBJRCldLAogICAgLy8gICAgIGFwcHM6IFtuZmRBcHBJRF0sCiAgICAvLyAgIH0pCiAgICBwdXNoaW50IDYgLy8gNgogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgaW50Y18wIC8vIDAKICAgIGl0eG5fZmllbGQgRmVlCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjE0OTQtMTUwMAogICAgLy8gaXR4bgogICAgLy8gICAuYXBwbGljYXRpb25DYWxsKHsKICAgIC8vICAgICBhcHBJZDogVGVtcGxhdGVWYXI8dWludDY0PignTkZEX1JFR0lTVFJZX0FQUF9JRCcpLAogICAgLy8gICAgIGFwcEFyZ3M6IFtCeXRlcygnaXNfdmFsaWRfbmZkX2FwcGlkJyksIEJ5dGVzKHVzZXJPZmZlcmVkTkZETmFtZSksIG9wLml0b2IobmZkQXBwSUQpXSwKICAgIC8vICAgICBhcHBzOiBbbmZkQXBwSURdLAogICAgLy8gICB9KQogICAgLy8gICAuc3VibWl0KCkKICAgIGl0eG5fc3VibWl0CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjE1MDEKICAgIC8vIHJldHVybiBvcC5idG9pKG9wLklUeG4ubGFzdExvZykgPT09IDEKICAgIGl0eG4gTGFzdExvZwogICAgYnRvaQogICAgaW50Y18xIC8vIDEKICAgID09CiAgICByZXRzdWIKCgovLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjpWYWxpZGF0b3JSZWdpc3RyeS5pc0FkZHJlc3NJbk5GRENBQWxnb0xpc3QobmZkQXBwSUQ6IHVpbnQ2NCwgYWRkclRvRmluZDogYnl0ZXMpIC0+IHVpbnQ2NDoKaXNBZGRyZXNzSW5ORkRDQUFsZ29MaXN0OgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxNTEyCiAgICAvLyBwcml2YXRlIGlzQWRkcmVzc0luTkZEQ0FBbGdvTGlzdChuZmRBcHBJRDogdWludDY0LCBhZGRyVG9GaW5kOiBBZGRyZXNzKTogYm9vbGVhbiB7CiAgICBwcm90byAyIDEKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjE1MTMtMTUxOAogICAgLy8gaXR4bgogICAgLy8gICAuYXBwbGljYXRpb25DYWxsKHsKICAgIC8vICAgICBhcHBJZDogQXBwbGljYXRpb24obmZkQXBwSUQpLAogICAgLy8gICAgIGFwcEFyZ3M6IFtCeXRlcygncmVhZF9wcm9wZXJ0eScpLCBCeXRlcygndi5jYUFsZ28uMC5hcycpXSwKICAgIC8vICAgfSkKICAgIC8vICAgLnN1Ym1pdCgpCiAgICBpdHhuX2JlZ2luCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjE1MTYKICAgIC8vIGFwcEFyZ3M6IFtCeXRlcygncmVhZF9wcm9wZXJ0eScpLCBCeXRlcygndi5jYUFsZ28uMC5hcycpXSwKICAgIHB1c2hieXRlcyAicmVhZF9wcm9wZXJ0eSIKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25BcmdzCiAgICBwdXNoYnl0ZXMgInYuY2FBbGdvLjAuYXMiCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uQXJncwogICAgZnJhbWVfZGlnIC0yCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uSUQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTUxMy0xNTE3CiAgICAvLyBpdHhuCiAgICAvLyAgIC5hcHBsaWNhdGlvbkNhbGwoewogICAgLy8gICAgIGFwcElkOiBBcHBsaWNhdGlvbihuZmRBcHBJRCksCiAgICAvLyAgICAgYXBwQXJnczogW0J5dGVzKCdyZWFkX3Byb3BlcnR5JyksIEJ5dGVzKCd2LmNhQWxnby4wLmFzJyldLAogICAgLy8gICB9KQogICAgcHVzaGludCA2IC8vIDYKICAgIGl0eG5fZmllbGQgVHlwZUVudW0KICAgIGludGNfMCAvLyAwCiAgICBpdHhuX2ZpZWxkIEZlZQogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxNTEzLTE1MTgKICAgIC8vIGl0eG4KICAgIC8vICAgLmFwcGxpY2F0aW9uQ2FsbCh7CiAgICAvLyAgICAgYXBwSWQ6IEFwcGxpY2F0aW9uKG5mZEFwcElEKSwKICAgIC8vICAgICBhcHBBcmdzOiBbQnl0ZXMoJ3JlYWRfcHJvcGVydHknKSwgQnl0ZXMoJ3YuY2FBbGdvLjAuYXMnKV0sCiAgICAvLyAgIH0pCiAgICAvLyAgIC5zdWJtaXQoKQogICAgaXR4bl9zdWJtaXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTUxOQogICAgLy8gY29uc3QgY2FBbGdvRGF0YSA9IG9wLklUeG4ubGFzdExvZwogICAgaXR4biBMYXN0TG9nCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjE1MjAKICAgIC8vIGZvciAobGV0IGk6IHVpbnQ2NCA9IDA7IGkgPCBjYUFsZ29EYXRhLmxlbmd0aDsgaSArPSAzMikgewogICAgaW50Y18wIC8vIDAKCmlzQWRkcmVzc0luTkZEQ0FBbGdvTGlzdF93aGlsZV90b3BAMjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTUyMAogICAgLy8gZm9yIChsZXQgaTogdWludDY0ID0gMDsgaSA8IGNhQWxnb0RhdGEubGVuZ3RoOyBpICs9IDMyKSB7CiAgICBmcmFtZV9kaWcgMQogICAgbGVuCiAgICBmcmFtZV9kaWcgMgogICAgPgogICAgYnogaXNBZGRyZXNzSW5ORkRDQUFsZ29MaXN0X2FmdGVyX3doaWxlQDcKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTUyMQogICAgLy8gY29uc3QgYWRkciA9IG5ldyBBZGRyZXNzKG9wLmV4dHJhY3QoY2FBbGdvRGF0YSwgaSwgMzIpKQogICAgZnJhbWVfZGlnIDEKICAgIGZyYW1lX2RpZyAyCiAgICBwdXNoaW50IDMyIC8vIDMyCiAgICBleHRyYWN0MwogICAgZHVwCiAgICBmcmFtZV9idXJ5IDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTUyMgogICAgLy8gaWYgKGFkZHIubmF0aXZlICE9PSBHbG9iYWwuemVyb0FkZHJlc3MgJiYgYWRkciA9PT0gYWRkclRvRmluZCkgewogICAgZ2xvYmFsIFplcm9BZGRyZXNzCiAgICAhPQogICAgYnogaXNBZGRyZXNzSW5ORkRDQUFsZ29MaXN0X2FmdGVyX2lmX2Vsc2VANgogICAgZnJhbWVfZGlnIDAKICAgIGZyYW1lX2RpZyAtMQogICAgPT0KICAgIGJ6IGlzQWRkcmVzc0luTkZEQ0FBbGdvTGlzdF9hZnRlcl9pZl9lbHNlQDYKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTUyMwogICAgLy8gcmV0dXJuIHRydWUKICAgIGludGNfMSAvLyAxCiAgICBmcmFtZV9idXJ5IDAKICAgIHJldHN1YgoKaXNBZGRyZXNzSW5ORkRDQUFsZ29MaXN0X2FmdGVyX2lmX2Vsc2VANjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTUyMAogICAgLy8gZm9yIChsZXQgaTogdWludDY0ID0gMDsgaSA8IGNhQWxnb0RhdGEubGVuZ3RoOyBpICs9IDMyKSB7CiAgICBmcmFtZV9kaWcgMgogICAgcHVzaGludCAzMiAvLyAzMgogICAgKwogICAgZnJhbWVfYnVyeSAyCiAgICBiIGlzQWRkcmVzc0luTkZEQ0FBbGdvTGlzdF93aGlsZV90b3BAMgoKaXNBZGRyZXNzSW5ORkRDQUFsZ29MaXN0X2FmdGVyX3doaWxlQDc6CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjE1MjYKICAgIC8vIHJldHVybiBmYWxzZQogICAgaW50Y18wIC8vIDAKICAgIGZyYW1lX2J1cnkgMAogICAgcmV0c3ViCg==",
        "clear": "I3ByYWdtYSB2ZXJzaW9uIDEwCiNwcmFnbWEgdHlwZXRyYWNrIGZhbHNlCgovLyBAYWxnb3JhbmRmb3VuZGF0aW9uL2FsZ29yYW5kLXR5cGVzY3JpcHQvYmFzZS1jb250cmFjdC5kLnRzOjpCYXNlQ29udHJhY3QuY2xlYXJTdGF0ZVByb2dyYW0oKSAtPiB1aW50NjQ6Cm1haW46CiAgICBwdXNoaW50IDEgLy8gMQogICAgcmV0dXJuCg=="
    },
    "state": {
        "global": {
            "num_byte_slices": 0,
            "num_uints": 5
        },
        "local": {
            "num_byte_slices": 0,
            "num_uints": 0
        }
    },
    "schema": {
        "global": {
            "declared": {
                "numStakers": {
                    "type": "uint64",
                    "key": "numStakers"
                },
                "numValidators": {
                    "type": "uint64",
                    "key": "numV"
                },
                "programVersion": {
                    "type": "uint64",
                    "key": "programVersion"
                },
                "stakingPoolInitialized": {
                    "type": "uint64",
                    "key": "init"
                },
                "totalAlgoStaked": {
                    "type": "uint64",
                    "key": "staked"
                }
            },
            "reserved": {}
        },
        "local": {
            "declared": {},
            "reserved": {}
        }
    },
    "contract": {
        "name": "ValidatorRegistry",
        "desc": "ValidatorRegistry is the 'master contract' for the reti pooling protocol.\nA single immutable instance of this is deployed.  All state for all validators including information about their\npools and nodes is stored via this contract in global state and box storage.  Data in the pools themselves is stored\nwithin the StakingPool contract instance, also in global state and box storage.\nSee the StakingPool contract comments for details on how this contract creates new instances of them.",
        "methods": [
            {
                "name": "updateApplication",
                "args": [],
                "readonly": false,
                "returns": {
                    "type": "void"
                }
            },
            {
                "name": "createApplication",
                "args": [],
                "readonly": false,
                "returns": {
                    "type": "void"
                }
            },
            {
                "name": "initStakingContract",
                "args": [
                    {
                        "type": "uint64",
                        "name": "approvalProgramSize"
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "void"
                }
            },
            {
                "name": "loadStakingContractData",
                "args": [
                    {
                        "type": "uint64",
                        "name": "offset"
                    },
                    {
                        "type": "byte[]",
                        "name": "data"
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "void"
                }
            },
            {
                "name": "finalizeStakingContract",
                "args": [],
                "readonly": false,
                "returns": {
                    "type": "void"
                }
            },
            {
                "name": "gas",
                "args": [],
                "readonly": false,
                "returns": {
                    "type": "void"
                },
                "desc": "gas is a dummy no-op call that can be used to pool-up resource references and opcode cost"
            },
            {
                "name": "getMbrAmounts",
                "args": [],
                "readonly": false,
                "returns": {
                    "type": "(uint64,uint64,uint64,uint64)"
                },
                "desc": "Returns the MBR amounts needed for various actions:\n[\n addValidatorMbr: uint64 - mbr needed to add a new validator - paid to validator contract\n addPoolMbr: uint64 - mbr needed to add a new pool - paid to validator\n poolInitMbr: uint64 - mbr needed to initStorage() of pool - paid to pool itself\n addStakerMbr: uint64 - mbr staker needs to add to first staking payment (stays w/ validator)\n]"
            },
            {
                "name": "getProtocolConstraints",
                "args": [],
                "readonly": false,
                "returns": {
                    "type": "(uint64,uint64,uint64,uint64,uint64,uint64,uint64,uint64,uint64,uint64,uint64)"
                },
                "desc": "Returns the protocol constraints so that UIs can limit what users specify for validator configuration parameters."
            },
            {
                "name": "getNumValidators",
                "args": [],
                "readonly": false,
                "returns": {
                    "type": "uint64"
                },
                "desc": "Returns the current number of validators"
            },
            {
                "name": "getValidatorConfig",
                "args": [
                    {
                        "type": "uint64",
                        "name": "validatorId"
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "(uint64,address,address,uint64,uint8,address,uint64[4],uint64,uint64,uint64,uint32,uint32,address,uint64,uint64,uint8,uint64,uint64)"
                }
            },
            {
                "name": "getValidatorState",
                "args": [
                    {
                        "type": "uint64",
                        "name": "validatorId"
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "(uint16,uint64,uint64,uint64)"
                }
            },
            {
                "name": "getValidatorOwnerAndManager",
                "args": [
                    {
                        "type": "uint64",
                        "name": "validatorId"
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "(address,address)"
                }
            },
            {
                "name": "getPools",
                "args": [
                    {
                        "type": "uint64",
                        "name": "validatorId",
                        "desc": ""
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "(uint64,uint16,uint64)[]",
                    "desc": "- array of pools\nNot callable from other contracts because >1K return but can be called w/ simulate which bumps log returns"
                },
                "desc": "Return list of all pools for this validator."
            },
            {
                "name": "getPoolAppId",
                "args": [
                    {
                        "type": "uint64",
                        "name": "validatorId"
                    },
                    {
                        "type": "uint64",
                        "name": "poolId"
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "uint64"
                }
            },
            {
                "name": "getPoolInfo",
                "args": [
                    {
                        "type": "(uint64,uint64,uint64)",
                        "name": "poolKey"
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "(uint64,uint16,uint64)"
                }
            },
            {
                "name": "getCurMaxStakePerPool",
                "args": [
                    {
                        "type": "uint64",
                        "name": "validatorId",
                        "desc": "- The id of the validator."
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "uint64"
                },
                "desc": "Calculate the maximum stake per pool for a given validator.\nNormally this would be maxAlgoPerPool, but it should also never go above MaxAllowedStake / numPools so\nas pools are added the max allowed per pool can reduce."
            },
            {
                "name": "doesStakerNeedToPayMBR",
                "args": [
                    {
                        "type": "address",
                        "name": "staker",
                        "desc": ""
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "bool"
                },
                "desc": "Helper callers can call w/ simulate to determine if 'AddStaker' MBR should be included w/ staking amount"
            },
            {
                "name": "getStakedPoolsForAccount",
                "args": [
                    {
                        "type": "address",
                        "name": "staker",
                        "desc": "- The account to retrieve staked pools for."
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "(uint64,uint64,uint64)[]",
                    "desc": "- The array of staked pools for the account."
                },
                "desc": "Retrieves the staked pools for an account."
            },
            {
                "name": "getTokenPayoutRatio",
                "args": [
                    {
                        "type": "uint64",
                        "name": "validatorId",
                        "desc": "- The id of the validator."
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "(uint64[24],uint64)",
                    "desc": "- The token payout ratio for the validator."
                },
                "desc": "Retrieves the token payout ratio for a given validator - returning the pool ratios of whole so that token\npayouts across pools can be based on a stable snaphost of stake."
            },
            {
                "name": "getNodePoolAssignments",
                "args": [
                    {
                        "type": "uint64",
                        "name": "validatorId"
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "((uint64[3])[8])"
                }
            },
            {
                "name": "getNFDRegistryID",
                "args": [],
                "readonly": false,
                "returns": {
                    "type": "uint64"
                }
            },
            {
                "name": "addValidator",
                "args": [
                    {
                        "type": "pay",
                        "name": "mbrPayment",
                        "desc": "payment from caller which covers mbr increase of new validator storage"
                    },
                    {
                        "type": "string",
                        "name": "nfdName",
                        "desc": "(Optional) Name of nfd (used as double-check against id specified in config)"
                    },
                    {
                        "type": "(uint64,address,address,uint64,uint8,address,uint64[4],uint64,uint64,uint64,uint32,uint32,address,uint64,uint64,uint8,uint64,uint64)",
                        "name": "config",
                        "desc": "ValidatorConfig struct"
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "uint64",
                    "desc": "validator id"
                },
                "desc": "Adds a new validator\nRequires at least 10 ALGO as the 'fee' for the transaction to help dissuade spammed validator adds."
            },
            {
                "name": "changeValidatorManager",
                "args": [
                    {
                        "type": "uint64",
                        "name": "validatorId",
                        "desc": "- The id of the validator to change the manager for."
                    },
                    {
                        "type": "address",
                        "name": "manager",
                        "desc": "- The new manager address."
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "void"
                },
                "desc": "Changes the Validator manager for a specific Validator id.\n[ ONLY OWNER CAN CHANGE ]"
            },
            {
                "name": "changeValidatorSunsetInfo",
                "args": [
                    {
                        "type": "uint64",
                        "name": "validatorId",
                        "desc": "- The id of the validator to update."
                    },
                    {
                        "type": "uint64",
                        "name": "sunsettingOn",
                        "desc": "- The new sunset timestamp."
                    },
                    {
                        "type": "uint64",
                        "name": "sunsettingTo",
                        "desc": "- The new sunset to validator id."
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "void"
                },
                "desc": "Updates the sunset information for a given validator.\n[ ONLY OWNER CAN CHANGE ]"
            },
            {
                "name": "changeValidatorNFD",
                "args": [
                    {
                        "type": "uint64",
                        "name": "validatorId",
                        "desc": "- The id of the validator to update."
                    },
                    {
                        "type": "uint64",
                        "name": "nfdAppID",
                        "desc": "- The application id of the NFD to assign to the validator."
                    },
                    {
                        "type": "string",
                        "name": "nfdName",
                        "desc": "- The name of the NFD (which must match)"
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "void"
                },
                "desc": "Changes the NFD for a validator in the validatorList contract.\n[ ONLY OWNER CAN CHANGE ]"
            },
            {
                "name": "changeValidatorCommissionAddress",
                "args": [
                    {
                        "type": "uint64",
                        "name": "validatorId"
                    },
                    {
                        "type": "address",
                        "name": "commissionAddress"
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "void"
                },
                "desc": "Change the commission address that validator rewards are sent to.\n[ ONLY OWNER CAN CHANGE ]"
            },
            {
                "name": "changeValidatorRewardInfo",
                "args": [
                    {
                        "type": "uint64",
                        "name": "validatorId"
                    },
                    {
                        "type": "uint8",
                        "name": "EntryGatingType"
                    },
                    {
                        "type": "address",
                        "name": "EntryGatingAddress"
                    },
                    {
                        "type": "uint64[4]",
                        "name": "EntryGatingAssets"
                    },
                    {
                        "type": "uint64",
                        "name": "GatingAssetMinBalance"
                    },
                    {
                        "type": "uint64",
                        "name": "RewardPerPayout"
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "void"
                },
                "desc": "Allow the additional rewards (gating entry, additional token rewards) information be changed at will.\n[ ONLY OWNER CAN CHANGE ]"
            },
            {
                "name": "addPool",
                "args": [
                    {
                        "type": "pay",
                        "name": "mbrPayment",
                        "desc": "payment from caller which covers mbr increase of adding a new pool"
                    },
                    {
                        "type": "uint64",
                        "name": "validatorId",
                        "desc": "is id of validator to pool to (must be owner or manager)"
                    },
                    {
                        "type": "uint64",
                        "name": "nodeNum",
                        "desc": "is node number to add to"
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "(uint64,uint64,uint64)",
                    "desc": "pool key to created pool"
                },
                "desc": "Adds a new pool to a validator's pool set, returning the 'key' to reference the pool in the future for staking, etc.\nThe caller must pay the cost of the validators MBR increase as well as the MBR that will be needed for the pool itself.\n\n[ ONLY OWNER OR MANAGER CAN call ]"
            },
            {
                "name": "addStake",
                "args": [
                    {
                        "type": "pay",
                        "name": "stakedAmountPayment",
                        "desc": "- payment coming from staker to place into a pool"
                    },
                    {
                        "type": "uint64",
                        "name": "validatorId",
                        "desc": "- The id of the validator."
                    },
                    {
                        "type": "uint64",
                        "name": "valueToVerify",
                        "desc": "- only if validator has gating to enter - this is asset id or nfd id that corresponds to gating.\nTxn sender is factored in as well if that is part of gating.\n*"
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "(uint64,uint64,uint64)",
                    "desc": "- The key of the validator pool."
                },
                "desc": "Adds stake to a validator pool."
            },
            {
                "name": "setTokenPayoutRatio",
                "args": [
                    {
                        "type": "uint64",
                        "name": "validatorId",
                        "desc": "- validator id (and thus pool) calling us.  Verified so that sender MUST be pool 1 of this validator."
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "(uint64[24],uint64)",
                    "desc": "PoolTokenPayoutRatio - the finished ratio data"
                },
                "desc": "setTokenPayoutRatio is called by Staking Pool # 1 (ONLY) to ask the validator (us) to calculate the ratios\nof stake in the pools for subsequent token payouts (ie: 2 pools, '100' algo total staked, 60 in pool 1, and 40\nin pool 2)  This is done so we have a stable snapshot of stake - taken once per epoch - only triggered by\npool 1 doing payout.  pools other than 1 doing payout call pool 1 to ask it do it first.\nIt would be 60/40% in the poolPctOfWhole values.  The token reward payouts then use these values instead of\ntheir 'current' stake which changes as part of the payouts themselves (and people could be changing stake\nduring the epoch updates across pools)\n\nMultiple pools will call us via pool 1 (pool2->pool1->validator, etc.) so don't assert on pool1 calling multiple\ntimes in same epoch.  Just return."
            },
            {
                "name": "stakeUpdatedViaRewards",
                "args": [
                    {
                        "type": "(uint64,uint64,uint64)",
                        "name": "poolKey",
                        "desc": "- ValidatorPoolKey type"
                    },
                    {
                        "type": "uint64",
                        "name": "algoToAdd",
                        "desc": "- amount this validator's total stake increased via rewards"
                    },
                    {
                        "type": "uint64",
                        "name": "rewardTokenAmountReserved",
                        "desc": "- amount this validator's total stake increased via rewards (that should be"
                    },
                    {
                        "type": "uint64",
                        "name": "validatorCommission",
                        "desc": "- the commission amount the validator was paid, if any"
                    },
                    {
                        "type": "uint64",
                        "name": "saturatedBurnToFeeSink",
                        "desc": "- if the pool was in saturated state, the amount sent back to the fee sink.\nseen as 'accounted for/pending spent')"
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "void"
                },
                "desc": "stakeUpdatedViaRewards is called by Staking pools to inform the validator (us) that a particular amount of total\nstake has been added to the specified pool.  This is used to update the stats we have in our PoolInfo storage.\nThe calling App id is validated against our pool list as well."
            },
            {
                "name": "stakeRemoved",
                "args": [
                    {
                        "type": "(uint64,uint64,uint64)",
                        "name": "poolKey",
                        "desc": "calling us from which stake was removed"
                    },
                    {
                        "type": "address",
                        "name": "staker",
                        "desc": ""
                    },
                    {
                        "type": "uint64",
                        "name": "amountRemoved",
                        "desc": "- algo amount removed"
                    },
                    {
                        "type": "uint64",
                        "name": "rewardRemoved",
                        "desc": "- if applicable, amount of token reward removed (by pool 1 caller) or TO remove and pay out (via pool 1 from different pool caller)"
                    },
                    {
                        "type": "bool",
                        "name": "stakerRemoved",
                        "desc": ""
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "void"
                },
                "desc": "stakeRemoved is called by Staking pools to inform the validator (us) that a particular amount of total stake has been removed\nfrom the specified pool.  This is used to update the stats we have in our PoolInfo storage.\nIf any amount of rewardRemoved is specified, then that amount of reward is sent to the use\nThe calling App id is validated against our pool list as well."
            },
            {
                "name": "findPoolForStaker",
                "args": [
                    {
                        "type": "uint64",
                        "name": "validatorId",
                        "desc": "- The id of the validator."
                    },
                    {
                        "type": "address",
                        "name": "staker",
                        "desc": "- The address of the staker."
                    },
                    {
                        "type": "uint64",
                        "name": "amountToStake",
                        "desc": "- The amount to stake."
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "((uint64,uint64,uint64),bool,bool)",
                    "desc": ", boolean, boolean} - The pool for the staker, true/false on whether the staker is 'new'\nto this VALIDATOR, and true/false if staker is new to the protocol."
                },
                "desc": "Finds the pool for a staker based on the provided validator id, staker address, and amount to stake.\nFirst checks the stakers 'already staked list' for the validator preferring those (adding if possible) then adds\nto new pool if necessary."
            },
            {
                "name": "movePoolToNode",
                "args": [
                    {
                        "type": "uint64",
                        "name": "validatorId",
                        "desc": "- The id of the validator."
                    },
                    {
                        "type": "uint64",
                        "name": "poolAppId",
                        "desc": ""
                    },
                    {
                        "type": "uint64",
                        "name": "nodeNum",
                        "desc": ""
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "void"
                },
                "desc": "Find the specified pool (in any node number) and move it to the specified node.\nThe pool account is forced offline if moved so prior node will still run for 320 rounds but\nnew key goes online on new node soon after (320 rounds after it goes online)\nNo-op if success, asserts if not found or can't move  (no space in target)\n[ ONLY OWNER OR MANAGER CAN CHANGE ]"
            },
            {
                "name": "emptyTokenRewards",
                "args": [
                    {
                        "type": "uint64",
                        "name": "validatorId",
                        "desc": "- The id of the validator."
                    },
                    {
                        "type": "address",
                        "name": "receiver",
                        "desc": "- the account to send the tokens to (must already be opted-in to the reward token)"
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "uint64",
                    "desc": "the amount of reward token sent"
                },
                "desc": "Sends the reward tokens held in pool 1 to specified receiver.\nThis is intended to be used by the owner when they want to get reward tokens 'back' which they sent to\nthe first pool (likely because validator is sunsetting.  Any tokens currently 'reserved' for stakers to claim will\nNOT be sent as they must be held back for stakers to later claim.\n[ ONLY OWNER CAN CALL]"
            }
        ],
        "networks": {}
    },
    "bare_call_config": {}
}