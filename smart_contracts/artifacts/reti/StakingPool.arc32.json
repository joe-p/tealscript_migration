{
    "hints": {
        "updateApplication()void": {
            "call_config": {
                "update_application": "CALL"
            }
        },
        "createApplication(uint64,uint64,uint64,uint64)void": {
            "call_config": {
                "no_op": "CREATE"
            }
        },
        "gas()void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "initStorage(pay)void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "addStake(pay,address)uint64": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "removeStake(address,uint64)void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "claimTokens()void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "getStakerInfo(address)(address,uint64,uint64,uint64,uint64)": {
            "call_config": {
                "no_op": "CALL"
            },
            "structs": {
                "output": {
                    "name": "StakedInfo",
                    "elements": [
                        [
                            "account",
                            "address"
                        ],
                        [
                            "balance",
                            "uint64"
                        ],
                        [
                            "totalRewarded",
                            "uint64"
                        ],
                        [
                            "rewardTokenBalance",
                            "uint64"
                        ],
                        [
                            "entryRound",
                            "uint64"
                        ]
                    ]
                }
            }
        },
        "payTokenReward(address,uint64,uint64)void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "updateAlgodVer(string)void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "epochBalanceUpdate()void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "goOnline(pay,byte[],byte[],byte[],uint64,uint64,uint64)void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "goOffline()void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "linkToNFD(uint64,string)void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "proxiedSetTokenPayoutRatio((uint64,uint64,uint64))(uint64[24],uint64)": {
            "call_config": {
                "no_op": "CALL"
            },
            "structs": {
                "poolKey": {
                    "name": "ValidatorPoolKey",
                    "elements": [
                        [
                            "id",
                            "uint64"
                        ],
                        [
                            "poolId",
                            "uint64"
                        ],
                        [
                            "poolAppId",
                            "uint64"
                        ]
                    ]
                },
                "output": {
                    "name": "PoolTokenPayoutRatio",
                    "elements": [
                        [
                            "poolPctOfWhole",
                            "uint64[24]"
                        ],
                        [
                            "updatedForPayout",
                            "uint64"
                        ]
                    ]
                }
            }
        }
    },
    "source": {
        "approval": "I3ByYWdtYSB2ZXJzaW9uIDEwCiNwcmFnbWEgdHlwZXRyYWNrIGZhbHNlCgovLyBAYWxnb3JhbmRmb3VuZGF0aW9uL2FsZ29yYW5kLXR5cGVzY3JpcHQvYXJjNC9pbmRleC5kLnRzOjpDb250cmFjdC5hcHByb3ZhbFByb2dyYW0oKSAtPiB1aW50NjQ6Cm1haW46CiAgICBpbnRjYmxvY2sgMCAxIDY0IDYgMjAwIDMwODU3IDE1NyAzMDAgMTAwMDAwMCBUTVBMX05GRF9SRUdJU1RSWV9BUFBfSUQKICAgIGJ5dGVjYmxvY2sgInN0YWtlcnMiICJjcmVhdG9yQXBwIiAweDE1MWY3Yzc1ICJ2YWxpZGF0b3JJZCIgInBvb2xJZCIgInN0YWtlZCIgInN0YWtlQWNjdW11bGF0b3IiICJyb3VuZHNQZXJEYXkiICJiaW5Sb3VuZFN0YXJ0IiAibnVtU3Rha2VycyIgInJld2FyZEFjY3VtdWxhdG9yIiAibGFzdFBheW91dCIgMHg3NWFmZjYxZCAibWluRW50cnlTdGFrZSIgImVwb2NoTnVtYmVyIiAiZXdtYSIgMHg2NCAweDBjMjI0NWUxIDB4MDY4MTAxIDB4MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAgMHhhMmRjNTFiNSAweDU3Mjc2N2QxIDB4NGRmOGQ4NmUgVE1QTF9GRUVfU0lOS19BRERSCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjYwCiAgICAvLyBleHBvcnQgY2xhc3MgU3Rha2luZ1Bvb2wgZXh0ZW5kcyBDb250cmFjdCB7CiAgICB0eG4gTnVtQXBwQXJncwogICAgYnogbWFpbl9hZnRlcl9pZl9lbHNlQDIxCiAgICBwdXNoYnl0ZXNzIDB4NDZmNzY1MzMgMHg1OWU5MGFhNiAweDMxNzJjYTlkIDB4NDdjZmNjMDQgMHhmOWM3MGNiZCAweDQyMWI1YWJlIDB4ZjU4OTJkNTYgMHg1Y2ZiYjA1NyAweDYzZjNmMjhiIDB4ODZhMzcyNWMgMHhlZmMyNjA4ZCAweDQwMGUxNGZiIDB4NTFlZjNiMjEgMHhhMjRlMjcxNyAvLyBtZXRob2QgInVwZGF0ZUFwcGxpY2F0aW9uKCl2b2lkIiwgbWV0aG9kICJjcmVhdGVBcHBsaWNhdGlvbih1aW50NjQsdWludDY0LHVpbnQ2NCx1aW50NjQpdm9pZCIsIG1ldGhvZCAiZ2FzKCl2b2lkIiwgbWV0aG9kICJpbml0U3RvcmFnZShwYXkpdm9pZCIsIG1ldGhvZCAiYWRkU3Rha2UocGF5LGFkZHJlc3MpdWludDY0IiwgbWV0aG9kICJyZW1vdmVTdGFrZShhZGRyZXNzLHVpbnQ2NCl2b2lkIiwgbWV0aG9kICJjbGFpbVRva2Vucygpdm9pZCIsIG1ldGhvZCAiZ2V0U3Rha2VySW5mbyhhZGRyZXNzKShhZGRyZXNzLHVpbnQ2NCx1aW50NjQsdWludDY0LHVpbnQ2NCkiLCBtZXRob2QgInBheVRva2VuUmV3YXJkKGFkZHJlc3MsdWludDY0LHVpbnQ2NCl2b2lkIiwgbWV0aG9kICJ1cGRhdGVBbGdvZFZlcihzdHJpbmcpdm9pZCIsIG1ldGhvZCAiZXBvY2hCYWxhbmNlVXBkYXRlKCl2b2lkIiwgbWV0aG9kICJnb09ubGluZShwYXksYnl0ZVtdLGJ5dGVbXSxieXRlW10sdWludDY0LHVpbnQ2NCx1aW50NjQpdm9pZCIsIG1ldGhvZCAiZ29PZmZsaW5lKCl2b2lkIiwgbWV0aG9kICJsaW5rVG9ORkQodWludDY0LHN0cmluZyl2b2lkIgogICAgYnl0ZWMgMTcgLy8gbWV0aG9kICJwcm94aWVkU2V0VG9rZW5QYXlvdXRSYXRpbygodWludDY0LHVpbnQ2NCx1aW50NjQpKSh1aW50NjRbMjRdLHVpbnQ2NCkiCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAwCiAgICBtYXRjaCBtYWluX3VwZGF0ZUFwcGxpY2F0aW9uX3JvdXRlQDMgbWFpbl9jcmVhdGVBcHBsaWNhdGlvbl9yb3V0ZUA0IG1haW5fZ2FzX3JvdXRlQDUgbWFpbl9pbml0U3RvcmFnZV9yb3V0ZUA2IG1haW5fYWRkU3Rha2Vfcm91dGVANyBtYWluX3JlbW92ZVN0YWtlX3JvdXRlQDggbWFpbl9jbGFpbVRva2Vuc19yb3V0ZUA5IG1haW5fZ2V0U3Rha2VySW5mb19yb3V0ZUAxMCBtYWluX3BheVRva2VuUmV3YXJkX3JvdXRlQDExIG1haW5fdXBkYXRlQWxnb2RWZXJfcm91dGVAMTIgbWFpbl9lcG9jaEJhbGFuY2VVcGRhdGVfcm91dGVAMTMgbWFpbl9nb09ubGluZV9yb3V0ZUAxNCBtYWluX2dvT2ZmbGluZV9yb3V0ZUAxNSBtYWluX2xpbmtUb05GRF9yb3V0ZUAxNiBtYWluX3Byb3hpZWRTZXRUb2tlblBheW91dFJhdGlvX3JvdXRlQDE3CgptYWluX2FmdGVyX2lmX2Vsc2VAMjE6CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjYwCiAgICAvLyBleHBvcnQgY2xhc3MgU3Rha2luZ1Bvb2wgZXh0ZW5kcyBDb250cmFjdCB7CiAgICBpbnRjXzAgLy8gMAogICAgcmV0dXJuCgptYWluX3Byb3hpZWRTZXRUb2tlblBheW91dFJhdGlvX3JvdXRlQDE3OgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo5NzMKICAgIC8vIHByb3hpZWRTZXRUb2tlblBheW91dFJhdGlvKHBvb2xLZXk6IFZhbGlkYXRvclBvb2xLZXkpOiBQb29sVG9rZW5QYXlvdXRSYXRpbyB7CiAgICB0eG4gT25Db21wbGV0aW9uCiAgICAhCiAgICBhc3NlcnQgLy8gT25Db21wbGV0aW9uIGlzIG5vdCBOb09wCiAgICB0eG4gQXBwbGljYXRpb25JRAogICAgYXNzZXJ0IC8vIGNhbiBvbmx5IGNhbGwgd2hlbiBub3QgY3JlYXRpbmcKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6NjAKICAgIC8vIGV4cG9ydCBjbGFzcyBTdGFraW5nUG9vbCBleHRlbmRzIENvbnRyYWN0IHsKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6OTczCiAgICAvLyBwcm94aWVkU2V0VG9rZW5QYXlvdXRSYXRpbyhwb29sS2V5OiBWYWxpZGF0b3JQb29sS2V5KTogUG9vbFRva2VuUGF5b3V0UmF0aW8gewogICAgY2FsbHN1YiBwcm94aWVkU2V0VG9rZW5QYXlvdXRSYXRpbwogICAgYnl0ZWNfMiAvLyAweDE1MWY3Yzc1CiAgICBzd2FwCiAgICBjb25jYXQKICAgIGxvZwogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKbWFpbl9saW5rVG9ORkRfcm91dGVAMTY6CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjk1MAogICAgLy8gbGlua1RvTkZEKG5mZEFwcElkOiB1aW50NjQsIG5mZE5hbWU6IHN0cmluZyk6IHZvaWQgewogICAgdHhuIE9uQ29tcGxldGlvbgogICAgIQogICAgYXNzZXJ0IC8vIE9uQ29tcGxldGlvbiBpcyBub3QgTm9PcAogICAgdHhuIEFwcGxpY2F0aW9uSUQKICAgIGFzc2VydCAvLyBjYW4gb25seSBjYWxsIHdoZW4gbm90IGNyZWF0aW5nCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjYwCiAgICAvLyBleHBvcnQgY2xhc3MgU3Rha2luZ1Bvb2wgZXh0ZW5kcyBDb250cmFjdCB7CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBidG9pCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAyCiAgICBleHRyYWN0IDIgMAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo5NTAKICAgIC8vIGxpbmtUb05GRChuZmRBcHBJZDogdWludDY0LCBuZmROYW1lOiBzdHJpbmcpOiB2b2lkIHsKICAgIGNhbGxzdWIgbGlua1RvTkZECiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgptYWluX2dvT2ZmbGluZV9yb3V0ZUAxNToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6OTM3CiAgICAvLyBnb09mZmxpbmUoKTogdm9pZCB7CiAgICB0eG4gT25Db21wbGV0aW9uCiAgICAhCiAgICBhc3NlcnQgLy8gT25Db21wbGV0aW9uIGlzIG5vdCBOb09wCiAgICB0eG4gQXBwbGljYXRpb25JRAogICAgYXNzZXJ0IC8vIGNhbiBvbmx5IGNhbGwgd2hlbiBub3QgY3JlYXRpbmcKICAgIGNhbGxzdWIgZ29PZmZsaW5lCiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgptYWluX2dvT25saW5lX3JvdXRlQDE0OgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo5MDgtOTE2CiAgICAvLyBnb09ubGluZSgKICAgIC8vICAgZmVlUGF5bWVudDogZ3R4bi5QYXltZW50VHhuLAogICAgLy8gICB2b3RlUEs6IGJ5dGVzLAogICAgLy8gICBzZWxlY3Rpb25QSzogYnl0ZXMsCiAgICAvLyAgIHN0YXRlUHJvb2ZQSzogYnl0ZXMsCiAgICAvLyAgIHZvdGVGaXJzdDogdWludDY0LAogICAgLy8gICB2b3RlTGFzdDogdWludDY0LAogICAgLy8gICB2b3RlS2V5RGlsdXRpb246IHVpbnQ2NCwKICAgIC8vICk6IHZvaWQgewogICAgdHhuIE9uQ29tcGxldGlvbgogICAgIQogICAgYXNzZXJ0IC8vIE9uQ29tcGxldGlvbiBpcyBub3QgTm9PcAogICAgdHhuIEFwcGxpY2F0aW9uSUQKICAgIGFzc2VydCAvLyBjYW4gb25seSBjYWxsIHdoZW4gbm90IGNyZWF0aW5nCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjYwCiAgICAvLyBleHBvcnQgY2xhc3MgU3Rha2luZ1Bvb2wgZXh0ZW5kcyBDb250cmFjdCB7CiAgICB0eG4gR3JvdXBJbmRleAogICAgaW50Y18xIC8vIDEKICAgIC0KICAgIGR1cAogICAgZ3R4bnMgVHlwZUVudW0KICAgIGludGNfMSAvLyBwYXkKICAgID09CiAgICBhc3NlcnQgLy8gdHJhbnNhY3Rpb24gdHlwZSBpcyBwYXkKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGV4dHJhY3QgMiAwCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAyCiAgICBleHRyYWN0IDIgMAogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMwogICAgZXh0cmFjdCAyIDAKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDQKICAgIGJ0b2kKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDUKICAgIGJ0b2kKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDYKICAgIGJ0b2kKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6OTA4LTkxNgogICAgLy8gZ29PbmxpbmUoCiAgICAvLyAgIGZlZVBheW1lbnQ6IGd0eG4uUGF5bWVudFR4biwKICAgIC8vICAgdm90ZVBLOiBieXRlcywKICAgIC8vICAgc2VsZWN0aW9uUEs6IGJ5dGVzLAogICAgLy8gICBzdGF0ZVByb29mUEs6IGJ5dGVzLAogICAgLy8gICB2b3RlRmlyc3Q6IHVpbnQ2NCwKICAgIC8vICAgdm90ZUxhc3Q6IHVpbnQ2NCwKICAgIC8vICAgdm90ZUtleURpbHV0aW9uOiB1aW50NjQsCiAgICAvLyApOiB2b2lkIHsKICAgIGNhbGxzdWIgZ29PbmxpbmUKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCm1haW5fZXBvY2hCYWxhbmNlVXBkYXRlX3JvdXRlQDEzOgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo1NDIKICAgIC8vIGVwb2NoQmFsYW5jZVVwZGF0ZSgpOiB2b2lkIHsKICAgIHR4biBPbkNvbXBsZXRpb24KICAgICEKICAgIGFzc2VydCAvLyBPbkNvbXBsZXRpb24gaXMgbm90IE5vT3AKICAgIHR4biBBcHBsaWNhdGlvbklECiAgICBhc3NlcnQgLy8gY2FuIG9ubHkgY2FsbCB3aGVuIG5vdCBjcmVhdGluZwogICAgY2FsbHN1YiBlcG9jaEJhbGFuY2VVcGRhdGUKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCm1haW5fdXBkYXRlQWxnb2RWZXJfcm91dGVAMTI6CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjUyOQogICAgLy8gdXBkYXRlQWxnb2RWZXIoYWxnb2RWZXI6IHN0cmluZyk6IHZvaWQgewogICAgdHhuIE9uQ29tcGxldGlvbgogICAgIQogICAgYXNzZXJ0IC8vIE9uQ29tcGxldGlvbiBpcyBub3QgTm9PcAogICAgdHhuIEFwcGxpY2F0aW9uSUQKICAgIGFzc2VydCAvLyBjYW4gb25seSBjYWxsIHdoZW4gbm90IGNyZWF0aW5nCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjYwCiAgICAvLyBleHBvcnQgY2xhc3MgU3Rha2luZ1Bvb2wgZXh0ZW5kcyBDb250cmFjdCB7CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBleHRyYWN0IDIgMAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo1MjkKICAgIC8vIHVwZGF0ZUFsZ29kVmVyKGFsZ29kVmVyOiBzdHJpbmcpOiB2b2lkIHsKICAgIGNhbGxzdWIgdXBkYXRlQWxnb2RWZXIKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCm1haW5fcGF5VG9rZW5SZXdhcmRfcm91dGVAMTE6CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjUwMQogICAgLy8gcGF5VG9rZW5SZXdhcmQoc3Rha2VyOiBBZGRyZXNzLCByZXdhcmRUb2tlbjogdWludDY0LCBhbW91bnRUb1NlbmQ6IHVpbnQ2NCk6IHZvaWQgewogICAgdHhuIE9uQ29tcGxldGlvbgogICAgIQogICAgYXNzZXJ0IC8vIE9uQ29tcGxldGlvbiBpcyBub3QgTm9PcAogICAgdHhuIEFwcGxpY2F0aW9uSUQKICAgIGFzc2VydCAvLyBjYW4gb25seSBjYWxsIHdoZW4gbm90IGNyZWF0aW5nCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjYwCiAgICAvLyBleHBvcnQgY2xhc3MgU3Rha2luZ1Bvb2wgZXh0ZW5kcyBDb250cmFjdCB7CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAyCiAgICBidG9pCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAzCiAgICBidG9pCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjUwMQogICAgLy8gcGF5VG9rZW5SZXdhcmQoc3Rha2VyOiBBZGRyZXNzLCByZXdhcmRUb2tlbjogdWludDY0LCBhbW91bnRUb1NlbmQ6IHVpbnQ2NCk6IHZvaWQgewogICAgY2FsbHN1YiBwYXlUb2tlblJld2FyZAogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKbWFpbl9nZXRTdGFrZXJJbmZvX3JvdXRlQDEwOgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo0ODEKICAgIC8vIGdldFN0YWtlckluZm8oc3Rha2VyOiBBZGRyZXNzKTogU3Rha2VkSW5mbyB7CiAgICB0eG4gT25Db21wbGV0aW9uCiAgICAhCiAgICBhc3NlcnQgLy8gT25Db21wbGV0aW9uIGlzIG5vdCBOb09wCiAgICB0eG4gQXBwbGljYXRpb25JRAogICAgYXNzZXJ0IC8vIGNhbiBvbmx5IGNhbGwgd2hlbiBub3QgY3JlYXRpbmcKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6NjAKICAgIC8vIGV4cG9ydCBjbGFzcyBTdGFraW5nUG9vbCBleHRlbmRzIENvbnRyYWN0IHsKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6NDgxCiAgICAvLyBnZXRTdGFrZXJJbmZvKHN0YWtlcjogQWRkcmVzcyk6IFN0YWtlZEluZm8gewogICAgY2FsbHN1YiBnZXRTdGFrZXJJbmZvCiAgICBieXRlY18yIC8vIDB4MTUxZjdjNzUKICAgIHN3YXAKICAgIGNvbmNhdAogICAgbG9nCiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgptYWluX2NsYWltVG9rZW5zX3JvdXRlQDk6CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjQxMQogICAgLy8gY2xhaW1Ub2tlbnMoKTogdm9pZCB7CiAgICB0eG4gT25Db21wbGV0aW9uCiAgICAhCiAgICBhc3NlcnQgLy8gT25Db21wbGV0aW9uIGlzIG5vdCBOb09wCiAgICB0eG4gQXBwbGljYXRpb25JRAogICAgYXNzZXJ0IC8vIGNhbiBvbmx5IGNhbGwgd2hlbiBub3QgY3JlYXRpbmcKICAgIGNhbGxzdWIgY2xhaW1Ub2tlbnMKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCm1haW5fcmVtb3ZlU3Rha2Vfcm91dGVAODoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6Mjk3CiAgICAvLyByZW1vdmVTdGFrZShzdGFrZXI6IEFkZHJlc3MsIGFtb3VudFRvVW5zdGFrZTogdWludDY0KTogdm9pZCB7CiAgICB0eG4gT25Db21wbGV0aW9uCiAgICAhCiAgICBhc3NlcnQgLy8gT25Db21wbGV0aW9uIGlzIG5vdCBOb09wCiAgICB0eG4gQXBwbGljYXRpb25JRAogICAgYXNzZXJ0IC8vIGNhbiBvbmx5IGNhbGwgd2hlbiBub3QgY3JlYXRpbmcKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6NjAKICAgIC8vIGV4cG9ydCBjbGFzcyBTdGFraW5nUG9vbCBleHRlbmRzIENvbnRyYWN0IHsKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDIKICAgIGJ0b2kKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6Mjk3CiAgICAvLyByZW1vdmVTdGFrZShzdGFrZXI6IEFkZHJlc3MsIGFtb3VudFRvVW5zdGFrZTogdWludDY0KTogdm9pZCB7CiAgICBjYWxsc3ViIHJlbW92ZVN0YWtlCiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgptYWluX2FkZFN0YWtlX3JvdXRlQDc6CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjIxMAogICAgLy8gYWRkU3Rha2Uoc3Rha2VkQW1vdW50UGF5bWVudDogZ3R4bi5QYXltZW50VHhuLCBzdGFrZXI6IEFkZHJlc3MpOiB1aW50NjQgewogICAgdHhuIE9uQ29tcGxldGlvbgogICAgIQogICAgYXNzZXJ0IC8vIE9uQ29tcGxldGlvbiBpcyBub3QgTm9PcAogICAgdHhuIEFwcGxpY2F0aW9uSUQKICAgIGFzc2VydCAvLyBjYW4gb25seSBjYWxsIHdoZW4gbm90IGNyZWF0aW5nCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjYwCiAgICAvLyBleHBvcnQgY2xhc3MgU3Rha2luZ1Bvb2wgZXh0ZW5kcyBDb250cmFjdCB7CiAgICB0eG4gR3JvdXBJbmRleAogICAgaW50Y18xIC8vIDEKICAgIC0KICAgIGR1cAogICAgZ3R4bnMgVHlwZUVudW0KICAgIGludGNfMSAvLyBwYXkKICAgID09CiAgICBhc3NlcnQgLy8gdHJhbnNhY3Rpb24gdHlwZSBpcyBwYXkKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6MjEwCiAgICAvLyBhZGRTdGFrZShzdGFrZWRBbW91bnRQYXltZW50OiBndHhuLlBheW1lbnRUeG4sIHN0YWtlcjogQWRkcmVzcyk6IHVpbnQ2NCB7CiAgICBjYWxsc3ViIGFkZFN0YWtlCiAgICBpdG9iCiAgICBieXRlY18yIC8vIDB4MTUxZjdjNzUKICAgIHN3YXAKICAgIGNvbmNhdAogICAgbG9nCiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgptYWluX2luaXRTdG9yYWdlX3JvdXRlQDY6CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjE2OAogICAgLy8gaW5pdFN0b3JhZ2UobWJyUGF5bWVudDogZ3R4bi5QYXltZW50VHhuKTogdm9pZCB7CiAgICB0eG4gT25Db21wbGV0aW9uCiAgICAhCiAgICBhc3NlcnQgLy8gT25Db21wbGV0aW9uIGlzIG5vdCBOb09wCiAgICB0eG4gQXBwbGljYXRpb25JRAogICAgYXNzZXJ0IC8vIGNhbiBvbmx5IGNhbGwgd2hlbiBub3QgY3JlYXRpbmcKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6NjAKICAgIC8vIGV4cG9ydCBjbGFzcyBTdGFraW5nUG9vbCBleHRlbmRzIENvbnRyYWN0IHsKICAgIHR4biBHcm91cEluZGV4CiAgICBpbnRjXzEgLy8gMQogICAgLQogICAgZHVwCiAgICBndHhucyBUeXBlRW51bQogICAgaW50Y18xIC8vIHBheQogICAgPT0KICAgIGFzc2VydCAvLyB0cmFuc2FjdGlvbiB0eXBlIGlzIHBheQogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czoxNjgKICAgIC8vIGluaXRTdG9yYWdlKG1iclBheW1lbnQ6IGd0eG4uUGF5bWVudFR4bik6IHZvaWQgewogICAgY2FsbHN1YiBpbml0U3RvcmFnZQogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKbWFpbl9nYXNfcm91dGVANToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6MTUyCiAgICAvLyBnYXMoKTogdm9pZCB7fQogICAgdHhuIE9uQ29tcGxldGlvbgogICAgIQogICAgYXNzZXJ0IC8vIE9uQ29tcGxldGlvbiBpcyBub3QgTm9PcAogICAgdHhuIEFwcGxpY2F0aW9uSUQKICAgIGFzc2VydCAvLyBjYW4gb25seSBjYWxsIHdoZW4gbm90IGNyZWF0aW5nCiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgptYWluX2NyZWF0ZUFwcGxpY2F0aW9uX3JvdXRlQDQ6CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjEyMwogICAgLy8gY3JlYXRlQXBwbGljYXRpb24oY3JlYXRpbmdDb250cmFjdElkOiB1aW50NjQsIHZhbGlkYXRvcklkOiB1aW50NjQsIHBvb2xJZDogdWludDY0LCBtaW5FbnRyeVN0YWtlOiB1aW50NjQpOiB2b2lkIHsKICAgIHR4biBPbkNvbXBsZXRpb24KICAgICEKICAgIGFzc2VydCAvLyBPbkNvbXBsZXRpb24gaXMgbm90IE5vT3AKICAgIHR4biBBcHBsaWNhdGlvbklECiAgICAhCiAgICBhc3NlcnQgLy8gY2FuIG9ubHkgY2FsbCB3aGVuIGNyZWF0aW5nCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjYwCiAgICAvLyBleHBvcnQgY2xhc3MgU3Rha2luZ1Bvb2wgZXh0ZW5kcyBDb250cmFjdCB7CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBidG9pCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAyCiAgICBidG9pCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAzCiAgICBidG9pCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyA0CiAgICBidG9pCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjEyMwogICAgLy8gY3JlYXRlQXBwbGljYXRpb24oY3JlYXRpbmdDb250cmFjdElkOiB1aW50NjQsIHZhbGlkYXRvcklkOiB1aW50NjQsIHBvb2xJZDogdWludDY0LCBtaW5FbnRyeVN0YWtlOiB1aW50NjQpOiB2b2lkIHsKICAgIGNhbGxzdWIgY3JlYXRlQXBwbGljYXRpb24KICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCm1haW5fdXBkYXRlQXBwbGljYXRpb25fcm91dGVAMzoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6MTA5CiAgICAvLyB1cGRhdGVBcHBsaWNhdGlvbigpOiB2b2lkIHsKICAgIHR4biBPbkNvbXBsZXRpb24KICAgIHB1c2hpbnQgNCAvLyBVcGRhdGVBcHBsaWNhdGlvbgogICAgPT0KICAgIGFzc2VydCAvLyBPbkNvbXBsZXRpb24gaXMgbm90IFVwZGF0ZUFwcGxpY2F0aW9uCiAgICB0eG4gQXBwbGljYXRpb25JRAogICAgYXNzZXJ0IC8vIGNhbiBvbmx5IGNhbGwgd2hlbiBub3QgY3JlYXRpbmcKICAgIGNhbGxzdWIgdXBkYXRlQXBwbGljYXRpb24KICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCgovLyBfcHV5YV9saWIudXRpbC5lbnN1cmVfYnVkZ2V0KHJlcXVpcmVkX2J1ZGdldDogdWludDY0LCBmZWVfc291cmNlOiB1aW50NjQpIC0+IHZvaWQ6CmVuc3VyZV9idWRnZXQ6CiAgICBwcm90byAyIDAKICAgIGZyYW1lX2RpZyAtMgogICAgcHVzaGludCAxMCAvLyAxMAogICAgKwoKZW5zdXJlX2J1ZGdldF93aGlsZV90b3BAMToKICAgIGZyYW1lX2RpZyAwCiAgICBnbG9iYWwgT3Bjb2RlQnVkZ2V0CiAgICA+CiAgICBieiBlbnN1cmVfYnVkZ2V0X2FmdGVyX3doaWxlQDcKICAgIGl0eG5fYmVnaW4KICAgIGludGNfMyAvLyBhcHBsCiAgICBpdHhuX2ZpZWxkIFR5cGVFbnVtCiAgICBwdXNoaW50IDUgLy8gRGVsZXRlQXBwbGljYXRpb24KICAgIGl0eG5fZmllbGQgT25Db21wbGV0aW9uCiAgICBieXRlYyAxOCAvLyAweDA2ODEwMQogICAgaXR4bl9maWVsZCBBcHByb3ZhbFByb2dyYW0KICAgIGJ5dGVjIDE4IC8vIDB4MDY4MTAxCiAgICBpdHhuX2ZpZWxkIENsZWFyU3RhdGVQcm9ncmFtCiAgICBmcmFtZV9kaWcgLTEKICAgIHN3aXRjaCBlbnN1cmVfYnVkZ2V0X3N3aXRjaF9jYXNlXzBAMyBlbnN1cmVfYnVkZ2V0X3N3aXRjaF9jYXNlXzFANAoKZW5zdXJlX2J1ZGdldF9zd2l0Y2hfY2FzZV9uZXh0QDY6CiAgICBpdHhuX3N1Ym1pdAogICAgYiBlbnN1cmVfYnVkZ2V0X3doaWxlX3RvcEAxCgplbnN1cmVfYnVkZ2V0X3N3aXRjaF9jYXNlXzFANDoKICAgIGdsb2JhbCBNaW5UeG5GZWUKICAgIGl0eG5fZmllbGQgRmVlCiAgICBiIGVuc3VyZV9idWRnZXRfc3dpdGNoX2Nhc2VfbmV4dEA2CgplbnN1cmVfYnVkZ2V0X3N3aXRjaF9jYXNlXzBAMzoKICAgIGludGNfMCAvLyAwCiAgICBpdHhuX2ZpZWxkIEZlZQogICAgYiBlbnN1cmVfYnVkZ2V0X3N3aXRjaF9jYXNlX25leHRANgoKZW5zdXJlX2J1ZGdldF9hZnRlcl93aGlsZUA3OgogICAgcmV0c3ViCgoKLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo6U3Rha2luZ1Bvb2wudXBkYXRlQXBwbGljYXRpb24oKSAtPiB2b2lkOgp1cGRhdGVBcHBsaWNhdGlvbjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6MTExCiAgICAvLyBuZXcgQWRkcmVzcyhUeG4uc2VuZGVyKSA9PT0gbmV3IEFkZHJlc3MoJ0xaNFYySVJWTENYRkpLNFJFSlY0VEFHRUtFWVRBMkdNUjZUQzIzNDRPQjNMM0FGM01XWFo2WkFGSVEnKSwKICAgIHR4biBTZW5kZXIKICAgIHB1c2hieXRlcyBiYXNlMzIoTFo0VjJJUlZMQ1hGSks0UkVKVjRUQUdFS0VZVEEyR01SNlRDMjM0NE9CM0wzQUYzTVdYUSkgLy8gYWRkciBMWjRWMklSVkxDWEZKSzRSRUpWNFRBR0VLRVlUQTJHTVI2VEMyMzQ0T0IzTDNBRjNNV1haNlpBRklRCiAgICA9PQogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czoxMTAtMTEzCiAgICAvLyBhc3NlcnQoCiAgICAvLyAgIG5ldyBBZGRyZXNzKFR4bi5zZW5kZXIpID09PSBuZXcgQWRkcmVzcygnTFo0VjJJUlZMQ1hGSks0UkVKVjRUQUdFS0VZVEEyR01SNlRDMjM0NE9CM0wzQUYzTVdYWjZaQUZJUScpLAogICAgLy8gICAnVGVtcG9yYXJ5OiBjb250cmFjdCBpcyB1cGdyYWRlYWJsZSBidXQgb25seSBkdXJpbmcgdGVzdGluZyBhbmQgb25seSBmcm9tIGEgZGV2ZWxvcG1lbnQgYWNjb3VudCcsCiAgICAvLyApCiAgICBhc3NlcnQgLy8gVGVtcG9yYXJ5OiBjb250cmFjdCBpcyB1cGdyYWRlYWJsZSBidXQgb25seSBkdXJpbmcgdGVzdGluZyBhbmQgb25seSBmcm9tIGEgZGV2ZWxvcG1lbnQgYWNjb3VudAogICAgcmV0c3ViCgoKLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo6U3Rha2luZ1Bvb2wuY3JlYXRlQXBwbGljYXRpb24oY3JlYXRpbmdDb250cmFjdElkOiB1aW50NjQsIHZhbGlkYXRvcklkOiB1aW50NjQsIHBvb2xJZDogdWludDY0LCBtaW5FbnRyeVN0YWtlOiB1aW50NjQpIC0+IHZvaWQ6CmNyZWF0ZUFwcGxpY2F0aW9uOgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czoxMjMKICAgIC8vIGNyZWF0ZUFwcGxpY2F0aW9uKGNyZWF0aW5nQ29udHJhY3RJZDogdWludDY0LCB2YWxpZGF0b3JJZDogdWludDY0LCBwb29sSWQ6IHVpbnQ2NCwgbWluRW50cnlTdGFrZTogdWludDY0KTogdm9pZCB7CiAgICBwcm90byA0IDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6MTI0CiAgICAvLyBpZiAoY3JlYXRpbmdDb250cmFjdElkID09PSAwKSB7CiAgICBmcmFtZV9kaWcgLTQKICAgIGJueiBjcmVhdGVBcHBsaWNhdGlvbl9lbHNlX2JvZHlAMgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czoxMjYKICAgIC8vIGFzc2VydCh2YWxpZGF0b3JJZCA9PT0gMCkKICAgIGZyYW1lX2RpZyAtMwogICAgIQogICAgYXNzZXJ0CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjEyNwogICAgLy8gYXNzZXJ0KHBvb2xJZCA9PT0gMCkKICAgIGZyYW1lX2RpZyAtMgogICAgIQogICAgYXNzZXJ0CgpjcmVhdGVBcHBsaWNhdGlvbl9hZnRlcl9pZl9lbHNlQDM6CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjEzMgogICAgLy8gYXNzZXJ0KG1pbkVudHJ5U3Rha2UgPj0gTUlOX0FMR09fU1RBS0VfUEVSX1BPT0wsICdzdGFraW5nIHBvb2wgbXVzdCBoYXZlIG1pbmltdW0gZW50cnkgb2YgMSBhbGdvJykKICAgIGZyYW1lX2RpZyAtMQogICAgaW50YyA4IC8vIDEwMDAwMDAKICAgID49CiAgICBhc3NlcnQgLy8gc3Rha2luZyBwb29sIG11c3QgaGF2ZSBtaW5pbXVtIGVudHJ5IG9mIDEgYWxnbwogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo2NQogICAgLy8gY3JlYXRpbmdWYWxpZGF0b3JDb250cmFjdEFwcElkID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGtleTogJ2NyZWF0b3JBcHAnIH0pCiAgICBieXRlY18xIC8vICJjcmVhdG9yQXBwIgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czoxMzMKICAgIC8vIHRoaXMuY3JlYXRpbmdWYWxpZGF0b3JDb250cmFjdEFwcElkLnZhbHVlID0gY3JlYXRpbmdDb250cmFjdElkCiAgICBmcmFtZV9kaWcgLTQKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjY4CiAgICAvLyB2YWxpZGF0b3JJZCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oeyBrZXk6ICd2YWxpZGF0b3JJZCcgfSkKICAgIGJ5dGVjXzMgLy8gInZhbGlkYXRvcklkIgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czoxMzQKICAgIC8vIHRoaXMudmFsaWRhdG9ySWQudmFsdWUgPSB2YWxpZGF0b3JJZAogICAgZnJhbWVfZGlnIC0zCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo3MQogICAgLy8gcG9vbElkID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGtleTogJ3Bvb2xJZCcgfSkKICAgIGJ5dGVjIDQgLy8gInBvb2xJZCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6MTM1CiAgICAvLyB0aGlzLnBvb2xJZC52YWx1ZSA9IHBvb2xJZAogICAgZnJhbWVfZGlnIC0yCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo3NAogICAgLy8gbnVtU3Rha2VycyA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oeyBrZXk6ICdudW1TdGFrZXJzJyB9KQogICAgYnl0ZWMgOSAvLyAibnVtU3Rha2VycyIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6MTM2CiAgICAvLyB0aGlzLm51bVN0YWtlcnMudmFsdWUgPSAwCiAgICBpbnRjXzAgLy8gMAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6NzcKICAgIC8vIHRvdGFsQWxnb1N0YWtlZCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oeyBrZXk6ICdzdGFrZWQnIH0pCiAgICBieXRlYyA1IC8vICJzdGFrZWQiCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjEzNwogICAgLy8gdGhpcy50b3RhbEFsZ29TdGFrZWQudmFsdWUgPSAwCiAgICBpbnRjXzAgLy8gMAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6NzkKICAgIC8vIG1pbkVudHJ5U3Rha2UgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KHsga2V5OiAnbWluRW50cnlTdGFrZScgfSkKICAgIGJ5dGVjIDEzIC8vICJtaW5FbnRyeVN0YWtlIgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czoxMzgKICAgIC8vIHRoaXMubWluRW50cnlTdGFrZS52YWx1ZSA9IG1pbkVudHJ5U3Rha2UKICAgIGZyYW1lX2RpZyAtMQogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6ODIKICAgIC8vIGxhc3RQYXlvdXQgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KHsga2V5OiAnbGFzdFBheW91dCcgfSkKICAgIGJ5dGVjIDExIC8vICJsYXN0UGF5b3V0IgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czoxMzkKICAgIC8vIHRoaXMubGFzdFBheW91dC52YWx1ZSA9IEdsb2JhbC5yb3VuZCAvLyBzZXQgdG8gaW5pdCBibG9jayB0byBlc3RhYmxpc2ggYmFzZWxpbmUKICAgIGdsb2JhbCBSb3VuZAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6ODUKICAgIC8vIGVwb2NoTnVtYmVyID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGtleTogJ2Vwb2NoTnVtYmVyJyB9KQogICAgYnl0ZWMgMTQgLy8gImVwb2NoTnVtYmVyIgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czoxNDAKICAgIC8vIHRoaXMuZXBvY2hOdW1iZXIudmFsdWUgPSAwCiAgICBpbnRjXzAgLy8gMAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6OTUKICAgIC8vIHJvdW5kc1BlckRheSA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oeyBrZXk6ICdyb3VuZHNQZXJEYXknIH0pCiAgICBieXRlYyA3IC8vICJyb3VuZHNQZXJEYXkiCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjEwNzEKICAgIC8vIHRoaXMucm91bmRzUGVyRGF5LnZhbHVlID0gQVZHX1JPVU5EU19QRVJfREFZCiAgICBpbnRjIDUgLy8gMzA4NTcKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjE0MwogICAgLy8gdGhpcy5iaW5Sb3VuZFN0YXJ0LnZhbHVlID0gR2xvYmFsLnJvdW5kIC0gKEdsb2JhbC5yb3VuZCAlIHRoaXMucm91bmRzUGVyRGF5LnZhbHVlKSAvLyBwbGFjZSBhdCBzdGFydCBvZiBiaW4KICAgIGdsb2JhbCBSb3VuZAogICAgZHVwCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjEwNzEKICAgIC8vIHRoaXMucm91bmRzUGVyRGF5LnZhbHVlID0gQVZHX1JPVU5EU19QRVJfREFZCiAgICBpbnRjIDUgLy8gMzA4NTcKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6MTQzCiAgICAvLyB0aGlzLmJpblJvdW5kU3RhcnQudmFsdWUgPSBHbG9iYWwucm91bmQgLSAoR2xvYmFsLnJvdW5kICUgdGhpcy5yb3VuZHNQZXJEYXkudmFsdWUpIC8vIHBsYWNlIGF0IHN0YXJ0IG9mIGJpbgogICAgJQogICAgLQogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo5NwogICAgLy8gYmluUm91bmRTdGFydCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oeyBrZXk6ICdiaW5Sb3VuZFN0YXJ0JyB9KQogICAgYnl0ZWMgOCAvLyAiYmluUm91bmRTdGFydCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6MTQzCiAgICAvLyB0aGlzLmJpblJvdW5kU3RhcnQudmFsdWUgPSBHbG9iYWwucm91bmQgLSAoR2xvYmFsLnJvdW5kICUgdGhpcy5yb3VuZHNQZXJEYXkudmFsdWUpIC8vIHBsYWNlIGF0IHN0YXJ0IG9mIGJpbgogICAgc3dhcAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6OTkKICAgIC8vIHN0YWtlQWNjdW11bGF0b3IgPSBHbG9iYWxTdGF0ZTxVaW50MTI4Pih7IGtleTogJ3N0YWtlQWNjdW11bGF0b3InIH0pCiAgICBieXRlYyA2IC8vICJzdGFrZUFjY3VtdWxhdG9yIgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czoxNDQKICAgIC8vIHRoaXMuc3Rha2VBY2N1bXVsYXRvci52YWx1ZSA9IG5ldyBVaW50MTI4KDApCiAgICBieXRlYyAxOSAvLyAweDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czoxMDEKICAgIC8vIHJld2FyZEFjY3VtdWxhdG9yID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGtleTogJ3Jld2FyZEFjY3VtdWxhdG9yJyB9KQogICAgYnl0ZWMgMTAgLy8gInJld2FyZEFjY3VtdWxhdG9yIgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czoxNDUKICAgIC8vIHRoaXMucmV3YXJkQWNjdW11bGF0b3IudmFsdWUgPSAwCiAgICBpbnRjXzAgLy8gMAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6MTAzCiAgICAvLyB3ZWlnaHRlZE1vdmluZ0F2ZXJhZ2UgPSBHbG9iYWxTdGF0ZTxVaW50MTI4Pih7IGtleTogJ2V3bWEnIH0pCiAgICBieXRlYyAxNSAvLyAiZXdtYSIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6MTQ2CiAgICAvLyB0aGlzLndlaWdodGVkTW92aW5nQXZlcmFnZS52YWx1ZSA9IG5ldyBVaW50MTI4KDApCiAgICBieXRlYyAxOSAvLyAweDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgcmV0c3ViCgpjcmVhdGVBcHBsaWNhdGlvbl9lbHNlX2JvZHlAMjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6MTI5CiAgICAvLyBhc3NlcnQodmFsaWRhdG9ySWQgIT09IDApCiAgICBmcmFtZV9kaWcgLTMKICAgIGFzc2VydAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czoxMzAKICAgIC8vIGFzc2VydChwb29sSWQgIT09IDApCiAgICBmcmFtZV9kaWcgLTIKICAgIGFzc2VydAogICAgYiBjcmVhdGVBcHBsaWNhdGlvbl9hZnRlcl9pZl9lbHNlQDMKCgovLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjpTdGFraW5nUG9vbC5pbml0U3RvcmFnZShtYnJQYXltZW50OiB1aW50NjQpIC0+IHZvaWQ6CmluaXRTdG9yYWdlOgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czoxNjgKICAgIC8vIGluaXRTdG9yYWdlKG1iclBheW1lbnQ6IGd0eG4uUGF5bWVudFR4bik6IHZvaWQgewogICAgcHJvdG8gMSAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjkxCiAgICAvLyBzdGFrZXJzID0gQm94PEZpeGVkQXJyYXk8U3Rha2VkSW5mbywgdHlwZW9mIE1BWF9TVEFLRVJTX1BFUl9QT09MPj4oeyBrZXk6ICdzdGFrZXJzJyB9KQogICAgYnl0ZWNfMCAvLyAic3Rha2VycyIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6MTY5CiAgICAvLyBhc3NlcnQoIXRoaXMuc3Rha2Vycy5leGlzdHMsICdzdGFraW5nIHBvb2wgYWxyZWFkeSBpbml0aWFsaXplZCcpCiAgICBib3hfbGVuCiAgICBidXJ5IDEKICAgICEKICAgIGFzc2VydCAvLyBzdGFraW5nIHBvb2wgYWxyZWFkeSBpbml0aWFsaXplZAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czoxNzItMTc1CiAgICAvLyBjb25zdCB2YWxpZGF0b3JDb25maWcgPSBhYmlDYWxsKFZhbGlkYXRvclJlZ2lzdHJ5QUJJLnByb3RvdHlwZS5nZXRWYWxpZGF0b3JDb25maWcsIHsKICAgIC8vICAgYXBwSWQ6IHRoaXMuY3JlYXRpbmdWYWxpZGF0b3JDb250cmFjdEFwcElkLnZhbHVlLAogICAgLy8gICBhcmdzOiBbdGhpcy52YWxpZGF0b3JJZC52YWx1ZV0sCiAgICAvLyB9KS5yZXR1cm5WYWx1ZQogICAgaXR4bl9iZWdpbgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czoxNzMKICAgIC8vIGFwcElkOiB0aGlzLmNyZWF0aW5nVmFsaWRhdG9yQ29udHJhY3RBcHBJZC52YWx1ZSwKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjY1CiAgICAvLyBjcmVhdGluZ1ZhbGlkYXRvckNvbnRyYWN0QXBwSWQgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KHsga2V5OiAnY3JlYXRvckFwcCcgfSkKICAgIGJ5dGVjXzEgLy8gImNyZWF0b3JBcHAiCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjE3MwogICAgLy8gYXBwSWQ6IHRoaXMuY3JlYXRpbmdWYWxpZGF0b3JDb250cmFjdEFwcElkLnZhbHVlLAogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6MTc0CiAgICAvLyBhcmdzOiBbdGhpcy52YWxpZGF0b3JJZC52YWx1ZV0sCiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo2OAogICAgLy8gdmFsaWRhdG9ySWQgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KHsga2V5OiAndmFsaWRhdG9ySWQnIH0pCiAgICBieXRlY18zIC8vICJ2YWxpZGF0b3JJZCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6MTc0CiAgICAvLyBhcmdzOiBbdGhpcy52YWxpZGF0b3JJZC52YWx1ZV0sCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgaXRvYgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czoxNzItMTc1CiAgICAvLyBjb25zdCB2YWxpZGF0b3JDb25maWcgPSBhYmlDYWxsKFZhbGlkYXRvclJlZ2lzdHJ5QUJJLnByb3RvdHlwZS5nZXRWYWxpZGF0b3JDb25maWcsIHsKICAgIC8vICAgYXBwSWQ6IHRoaXMuY3JlYXRpbmdWYWxpZGF0b3JDb250cmFjdEFwcElkLnZhbHVlLAogICAgLy8gICBhcmdzOiBbdGhpcy52YWxpZGF0b3JJZC52YWx1ZV0sCiAgICAvLyB9KS5yZXR1cm5WYWx1ZQogICAgYnl0ZWMgMTIgLy8gbWV0aG9kICJnZXRWYWxpZGF0b3JDb25maWcodWludDY0KSh1aW50NjQsYWRkcmVzcyxhZGRyZXNzLHVpbnQ2NCx1aW50OCxhZGRyZXNzLHVpbnQ2NFs0XSx1aW50NjQsdWludDY0LHVpbnQ2NCx1aW50MzIsdWludDMyLGFkZHJlc3MsdWludDY0LHVpbnQ2NCx1aW50OCx1aW50NjQsdWludDY0KSIKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25BcmdzCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uQXJncwogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbklECiAgICBpbnRjXzMgLy8gYXBwbAogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgaW50Y18wIC8vIDAKICAgIGl0eG5fZmllbGQgRmVlCiAgICBpdHhuX3N1Ym1pdAogICAgaXR4biBMYXN0TG9nCiAgICBkdXAKICAgIGV4dHJhY3QgMCA0CiAgICBieXRlY18yIC8vIDB4MTUxZjdjNzUKICAgID09CiAgICBhc3NlcnQgLy8gQnl0ZXMgaGFzIHZhbGlkIHByZWZpeAogICAgaW50YyA2IC8vIDE1NwogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czoxNzcKICAgIC8vIGNvbnN0IGlzVG9rZW5FbGlnaWJsZSA9IHZhbGlkYXRvckNvbmZpZy5yZXdhcmRUb2tlbklkICE9PSAwCiAgICBleHRyYWN0X3VpbnQ2NAogICAgZHVwCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjE3OAogICAgLy8gY29uc3QgZXh0cmFNQlI6IHVpbnQ2NCA9IGlzVG9rZW5FbGlnaWJsZSAmJiB0aGlzLnBvb2xJZC52YWx1ZSA9PT0gMSA/IEFTU0VUX0hPTERJTkdfRkVFIDogMAogICAgYnogaW5pdFN0b3JhZ2VfYm9vbF9mYWxzZUA0CiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo3MQogICAgLy8gcG9vbElkID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGtleTogJ3Bvb2xJZCcgfSkKICAgIGJ5dGVjIDQgLy8gInBvb2xJZCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6MTc4CiAgICAvLyBjb25zdCBleHRyYU1CUjogdWludDY0ID0gaXNUb2tlbkVsaWdpYmxlICYmIHRoaXMucG9vbElkLnZhbHVlID09PSAxID8gQVNTRVRfSE9MRElOR19GRUUgOiAwCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgaW50Y18xIC8vIDEKICAgID09CiAgICBieiBpbml0U3RvcmFnZV9ib29sX2ZhbHNlQDQKICAgIGludGNfMSAvLyAxCgppbml0U3RvcmFnZV9ib29sX21lcmdlQDU6CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjE3OAogICAgLy8gY29uc3QgZXh0cmFNQlI6IHVpbnQ2NCA9IGlzVG9rZW5FbGlnaWJsZSAmJiB0aGlzLnBvb2xJZC52YWx1ZSA9PT0gMSA/IEFTU0VUX0hPTERJTkdfRkVFIDogMAogICAgcHVzaGludCAxMDAwMDAgLy8gMTAwMDAwCiAgICAqCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjE4MC0xODIKICAgIC8vIEFMR09SQU5EX0FDQ09VTlRfTUlOX0JBTEFOQ0UgKwogICAgLy8gZXh0cmFNQlIgKwogICAgLy8gdGhpcy5jb3N0Rm9yQm94U3RvcmFnZSg3IC8qICdzdGFrZXJzJyBuYW1lICovICsgYXJjNEVuY29kZWRMZW5ndGg8U3Rha2VkSW5mbz4oKSAqIE1BWF9TVEFLRVJTX1BFUl9QT09MKQogICAgcHVzaGludCA1MjI1MzAwIC8vIDUyMjUzMDAKICAgICsKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6MTg1CiAgICAvLyBhc3NlcnRNYXRjaChtYnJQYXltZW50LCB7IHJlY2VpdmVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uSWQuYWRkcmVzcywgYW1vdW50OiBQb29sSW5pdE1iciB9KQogICAgZnJhbWVfZGlnIC0xCiAgICBndHhucyBSZWNlaXZlcgogICAgZ2xvYmFsIEN1cnJlbnRBcHBsaWNhdGlvbklECiAgICBhcHBfcGFyYW1zX2dldCBBcHBBZGRyZXNzCiAgICBhc3NlcnQgLy8gYXBwbGljYXRpb24gZXhpc3RzCiAgICA9PQogICAgZnJhbWVfZGlnIC0xCiAgICBndHhucyBBbW91bnQKICAgIHVuY292ZXIgMgogICAgPT0KICAgICYmCiAgICBhc3NlcnQgLy8gYXNzZXJ0IHRhcmdldCBpcyBtYXRjaCBmb3IgY29uZGl0aW9ucwogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo5MQogICAgLy8gc3Rha2VycyA9IEJveDxGaXhlZEFycmF5PFN0YWtlZEluZm8sIHR5cGVvZiBNQVhfU1RBS0VSU19QRVJfUE9PTD4+KHsga2V5OiAnc3Rha2VycycgfSkKICAgIGJ5dGVjXzAgLy8gInN0YWtlcnMiCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjE4NgogICAgLy8gdGhpcy5zdGFrZXJzLmNyZWF0ZSgpCiAgICBwdXNoaW50IDEyODAwIC8vIDEyODAwCiAgICBib3hfY3JlYXRlCiAgICBwb3AKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6MTg4CiAgICAvLyBpZiAoaXNUb2tlbkVsaWdpYmxlICYmIHRoaXMucG9vbElkLnZhbHVlID09PSAxKSB7CiAgICBmcmFtZV9kaWcgMAogICAgYnogaW5pdFN0b3JhZ2VfYWZ0ZXJfaWZfZWxzZUA5CiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo3MQogICAgLy8gcG9vbElkID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGtleTogJ3Bvb2xJZCcgfSkKICAgIGJ5dGVjIDQgLy8gInBvb2xJZCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6MTg4CiAgICAvLyBpZiAoaXNUb2tlbkVsaWdpYmxlICYmIHRoaXMucG9vbElkLnZhbHVlID09PSAxKSB7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgaW50Y18xIC8vIDEKICAgID09CiAgICBieiBpbml0U3RvcmFnZV9hZnRlcl9pZl9lbHNlQDkKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6MTkwLTE5NgogICAgLy8gaXR4bgogICAgLy8gICAuYXNzZXRUcmFuc2Zlcih7CiAgICAvLyAgICAgeGZlckFzc2V0OiB2YWxpZGF0b3JDb25maWcucmV3YXJkVG9rZW5JZCwKICAgIC8vICAgICBhc3NldFJlY2VpdmVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uSWQuYWRkcmVzcywKICAgIC8vICAgICBhc3NldEFtb3VudDogMCwKICAgIC8vICAgfSkKICAgIC8vICAgLnN1Ym1pdCgpCiAgICBpdHhuX2JlZ2luCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjE5MwogICAgLy8gYXNzZXRSZWNlaXZlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbklkLmFkZHJlc3MsCiAgICBnbG9iYWwgQ3VycmVudEFwcGxpY2F0aW9uSUQKICAgIGFwcF9wYXJhbXNfZ2V0IEFwcEFkZHJlc3MKICAgIGFzc2VydCAvLyBhcHBsaWNhdGlvbiBleGlzdHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6MTk0CiAgICAvLyBhc3NldEFtb3VudDogMCwKICAgIGludGNfMCAvLyAwCiAgICBpdHhuX2ZpZWxkIEFzc2V0QW1vdW50CiAgICBpdHhuX2ZpZWxkIEFzc2V0UmVjZWl2ZXIKICAgIGZyYW1lX2RpZyAwCiAgICBpdHhuX2ZpZWxkIFhmZXJBc3NldAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czoxOTAtMTk1CiAgICAvLyBpdHhuCiAgICAvLyAgIC5hc3NldFRyYW5zZmVyKHsKICAgIC8vICAgICB4ZmVyQXNzZXQ6IHZhbGlkYXRvckNvbmZpZy5yZXdhcmRUb2tlbklkLAogICAgLy8gICAgIGFzc2V0UmVjZWl2ZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25JZC5hZGRyZXNzLAogICAgLy8gICAgIGFzc2V0QW1vdW50OiAwLAogICAgLy8gICB9KQogICAgcHVzaGludCA0IC8vIDQKICAgIGl0eG5fZmllbGQgVHlwZUVudW0KICAgIGludGNfMCAvLyAwCiAgICBpdHhuX2ZpZWxkIEZlZQogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czoxOTAtMTk2CiAgICAvLyBpdHhuCiAgICAvLyAgIC5hc3NldFRyYW5zZmVyKHsKICAgIC8vICAgICB4ZmVyQXNzZXQ6IHZhbGlkYXRvckNvbmZpZy5yZXdhcmRUb2tlbklkLAogICAgLy8gICAgIGFzc2V0UmVjZWl2ZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25JZC5hZGRyZXNzLAogICAgLy8gICAgIGFzc2V0QW1vdW50OiAwLAogICAgLy8gICB9KQogICAgLy8gICAuc3VibWl0KCkKICAgIGl0eG5fc3VibWl0Cgppbml0U3RvcmFnZV9hZnRlcl9pZl9lbHNlQDk6CiAgICByZXRzdWIKCmluaXRTdG9yYWdlX2Jvb2xfZmFsc2VANDoKICAgIGludGNfMCAvLyAwCiAgICBiIGluaXRTdG9yYWdlX2Jvb2xfbWVyZ2VANQoKCi8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6OlN0YWtpbmdQb29sLmFkZFN0YWtlKHN0YWtlZEFtb3VudFBheW1lbnQ6IHVpbnQ2NCwgc3Rha2VyOiBieXRlcykgLT4gdWludDY0OgphZGRTdGFrZToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6MjEwCiAgICAvLyBhZGRTdGFrZShzdGFrZWRBbW91bnRQYXltZW50OiBndHhuLlBheW1lbnRUeG4sIHN0YWtlcjogQWRkcmVzcyk6IHVpbnQ2NCB7CiAgICBwcm90byAyIDEKICAgIGludGNfMCAvLyAwCiAgICBkdXAKICAgIHB1c2hieXRlcyAiIgogICAgZHVwCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjkxCiAgICAvLyBzdGFrZXJzID0gQm94PEZpeGVkQXJyYXk8U3Rha2VkSW5mbywgdHlwZW9mIE1BWF9TVEFLRVJTX1BFUl9QT09MPj4oeyBrZXk6ICdzdGFrZXJzJyB9KQogICAgYnl0ZWNfMCAvLyAic3Rha2VycyIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6MjExCiAgICAvLyBhc3NlcnQodGhpcy5zdGFrZXJzLmV4aXN0cywgJ3N0YWtpbmcgcG9vbCBtdXN0IGJlIGluaXRpYWxpemVkIGZpcnN0JykKICAgIGJveF9sZW4KICAgIGJ1cnkgMQogICAgYXNzZXJ0IC8vIHN0YWtpbmcgcG9vbCBtdXN0IGJlIGluaXRpYWxpemVkIGZpcnN0CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjIxNQogICAgLy8gVHhuLnNlbmRlciA9PT0gQXBwbGljYXRpb24odGhpcy5jcmVhdGluZ1ZhbGlkYXRvckNvbnRyYWN0QXBwSWQudmFsdWUpLmFkZHJlc3MsCiAgICB0eG4gU2VuZGVyCiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo2NQogICAgLy8gY3JlYXRpbmdWYWxpZGF0b3JDb250cmFjdEFwcElkID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGtleTogJ2NyZWF0b3JBcHAnIH0pCiAgICBieXRlY18xIC8vICJjcmVhdG9yQXBwIgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czoyMTUKICAgIC8vIFR4bi5zZW5kZXIgPT09IEFwcGxpY2F0aW9uKHRoaXMuY3JlYXRpbmdWYWxpZGF0b3JDb250cmFjdEFwcElkLnZhbHVlKS5hZGRyZXNzLAogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGFwcF9wYXJhbXNfZ2V0IEFwcEFkZHJlc3MKICAgIGFzc2VydCAvLyBhcHBsaWNhdGlvbiBleGlzdHMKICAgID09CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjIxNC0yMTcKICAgIC8vIGFzc2VydCgKICAgIC8vICAgVHhuLnNlbmRlciA9PT0gQXBwbGljYXRpb24odGhpcy5jcmVhdGluZ1ZhbGlkYXRvckNvbnRyYWN0QXBwSWQudmFsdWUpLmFkZHJlc3MsCiAgICAvLyAgICdzdGFrZSBjYW4gb25seSBiZSBhZGRlZCB2aWEgdGhlIHZhbGlkYXRvciBjb250cmFjdCcsCiAgICAvLyApCiAgICBhc3NlcnQgLy8gc3Rha2UgY2FuIG9ubHkgYmUgYWRkZWQgdmlhIHRoZSB2YWxpZGF0b3IgY29udHJhY3QKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6MjE4CiAgICAvLyBhc3NlcnQoc3Rha2VyICE9PSBuZXcgQWRkcmVzcyhHbG9iYWwuemVyb0FkZHJlc3MpKQogICAgZnJhbWVfZGlnIC0xCiAgICBnbG9iYWwgWmVyb0FkZHJlc3MKICAgICE9CiAgICBhc3NlcnQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6MjIxCiAgICAvLyB0aGlzLmNoZWNrSWZCaW5DbG9zZWQoKQogICAgY2FsbHN1YiBjaGVja0lmQmluQ2xvc2VkCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjIyNS0yMjkKICAgIC8vIGFzc2VydE1hdGNoKHN0YWtlZEFtb3VudFBheW1lbnQsIHsKICAgIC8vICAgc2VuZGVyOiBBcHBsaWNhdGlvbih0aGlzLmNyZWF0aW5nVmFsaWRhdG9yQ29udHJhY3RBcHBJZC52YWx1ZSkuYWRkcmVzcywKICAgIC8vICAgcmVjZWl2ZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgLy8gICBhbW91bnQ6IHN0YWtlZEFtb3VudFBheW1lbnQuYW1vdW50LAogICAgLy8gfSkKICAgIGZyYW1lX2RpZyAtMgogICAgZ3R4bnMgU2VuZGVyCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjIyNgogICAgLy8gc2VuZGVyOiBBcHBsaWNhdGlvbih0aGlzLmNyZWF0aW5nVmFsaWRhdG9yQ29udHJhY3RBcHBJZC52YWx1ZSkuYWRkcmVzcywKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjY1CiAgICAvLyBjcmVhdGluZ1ZhbGlkYXRvckNvbnRyYWN0QXBwSWQgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KHsga2V5OiAnY3JlYXRvckFwcCcgfSkKICAgIGJ5dGVjXzEgLy8gImNyZWF0b3JBcHAiCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjIyNgogICAgLy8gc2VuZGVyOiBBcHBsaWNhdGlvbih0aGlzLmNyZWF0aW5nVmFsaWRhdG9yQ29udHJhY3RBcHBJZC52YWx1ZSkuYWRkcmVzcywKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBhcHBfcGFyYW1zX2dldCBBcHBBZGRyZXNzCiAgICBhc3NlcnQgLy8gYXBwbGljYXRpb24gZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjIyNS0yMjkKICAgIC8vIGFzc2VydE1hdGNoKHN0YWtlZEFtb3VudFBheW1lbnQsIHsKICAgIC8vICAgc2VuZGVyOiBBcHBsaWNhdGlvbih0aGlzLmNyZWF0aW5nVmFsaWRhdG9yQ29udHJhY3RBcHBJZC52YWx1ZSkuYWRkcmVzcywKICAgIC8vICAgcmVjZWl2ZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgLy8gICBhbW91bnQ6IHN0YWtlZEFtb3VudFBheW1lbnQuYW1vdW50LAogICAgLy8gfSkKICAgID09CiAgICBmcmFtZV9kaWcgLTIKICAgIGd0eG5zIFJlY2VpdmVyCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjIyNwogICAgLy8gcmVjZWl2ZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgZ2xvYmFsIEN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6MjI1LTIyOQogICAgLy8gYXNzZXJ0TWF0Y2goc3Rha2VkQW1vdW50UGF5bWVudCwgewogICAgLy8gICBzZW5kZXI6IEFwcGxpY2F0aW9uKHRoaXMuY3JlYXRpbmdWYWxpZGF0b3JDb250cmFjdEFwcElkLnZhbHVlKS5hZGRyZXNzLAogICAgLy8gICByZWNlaXZlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICAvLyAgIGFtb3VudDogc3Rha2VkQW1vdW50UGF5bWVudC5hbW91bnQsCiAgICAvLyB9KQogICAgPT0KICAgICYmCiAgICBmcmFtZV9kaWcgLTIKICAgIGd0eG5zIEFtb3VudAogICAgZHVwCiAgICB1bmNvdmVyIDIKICAgIGludGNfMSAvLyAxCiAgICAmJgogICAgYXNzZXJ0IC8vIGFzc2VydCB0YXJnZXQgaXMgbWF0Y2ggZm9yIGNvbmRpdGlvbnMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6MjM0CiAgICAvLyBjb25zdCBlbnRyeVJvdW5kOiB1aW50NjQgPSBHbG9iYWwucm91bmQgKyBBTEdPUkFORF9TVEFLSU5HX0JMT0NLX0RFTEFZCiAgICBnbG9iYWwgUm91bmQKICAgIHB1c2hpbnQgMzIwIC8vIDMyMAogICAgKwogICAgc3dhcAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czoyMzUKICAgIC8vIGxldCBmaXJzdEVtcHR5OiB1aW50NjQgPSAwCiAgICBpbnRjXzAgLy8gMAogICAgc3dhcAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czoyMzcKICAgIC8vIHRoaXMudG90YWxBbGdvU3Rha2VkLnZhbHVlICs9IHN0YWtlZEFtb3VudFBheW1lbnQuYW1vdW50CiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo3NwogICAgLy8gdG90YWxBbGdvU3Rha2VkID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGtleTogJ3N0YWtlZCcgfSkKICAgIGJ5dGVjIDUgLy8gInN0YWtlZCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6MjM3CiAgICAvLyB0aGlzLnRvdGFsQWxnb1N0YWtlZC52YWx1ZSArPSBzdGFrZWRBbW91bnRQYXltZW50LmFtb3VudAogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGRpZyAxCiAgICArCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjc3CiAgICAvLyB0b3RhbEFsZ29TdGFrZWQgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KHsga2V5OiAnc3Rha2VkJyB9KQogICAgYnl0ZWMgNSAvLyAic3Rha2VkIgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czoyMzcKICAgIC8vIHRoaXMudG90YWxBbGdvU3Rha2VkLnZhbHVlICs9IHN0YWtlZEFtb3VudFBheW1lbnQuYW1vdW50CiAgICBzd2FwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czoyMzkKICAgIC8vIGNvbnN0IHJvdW5kc0xlZnRJbkJpbjogdWludDY0ID0gdGhpcy5iaW5Sb3VuZFN0YXJ0LnZhbHVlICsgdGhpcy5yb3VuZHNQZXJEYXkudmFsdWUgLSBHbG9iYWwucm91bmQKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjk3CiAgICAvLyBiaW5Sb3VuZFN0YXJ0ID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGtleTogJ2JpblJvdW5kU3RhcnQnIH0pCiAgICBieXRlYyA4IC8vICJiaW5Sb3VuZFN0YXJ0IgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czoyMzkKICAgIC8vIGNvbnN0IHJvdW5kc0xlZnRJbkJpbjogdWludDY0ID0gdGhpcy5iaW5Sb3VuZFN0YXJ0LnZhbHVlICsgdGhpcy5yb3VuZHNQZXJEYXkudmFsdWUgLSBHbG9iYWwucm91bmQKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo5NQogICAgLy8gcm91bmRzUGVyRGF5ID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGtleTogJ3JvdW5kc1BlckRheScgfSkKICAgIGJ5dGVjIDcgLy8gInJvdW5kc1BlckRheSIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6MjM5CiAgICAvLyBjb25zdCByb3VuZHNMZWZ0SW5CaW46IHVpbnQ2NCA9IHRoaXMuYmluUm91bmRTdGFydC52YWx1ZSArIHRoaXMucm91bmRzUGVyRGF5LnZhbHVlIC0gR2xvYmFsLnJvdW5kCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgKwogICAgZ2xvYmFsIFJvdW5kCiAgICAtCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjI0MQogICAgLy8gdGhpcy5zdGFrZUFjY3VtdWxhdG9yLnZhbHVlLm5hdGl2ZSArIEJpZ1VpbnQoc3Rha2VkQW1vdW50UGF5bWVudC5hbW91bnQpICogQmlnVWludChyb3VuZHNMZWZ0SW5CaW4pLAogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6OTkKICAgIC8vIHN0YWtlQWNjdW11bGF0b3IgPSBHbG9iYWxTdGF0ZTxVaW50MTI4Pih7IGtleTogJ3N0YWtlQWNjdW11bGF0b3InIH0pCiAgICBieXRlYyA2IC8vICJzdGFrZUFjY3VtdWxhdG9yIgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czoyNDEKICAgIC8vIHRoaXMuc3Rha2VBY2N1bXVsYXRvci52YWx1ZS5uYXRpdmUgKyBCaWdVaW50KHN0YWtlZEFtb3VudFBheW1lbnQuYW1vdW50KSAqIEJpZ1VpbnQocm91bmRzTGVmdEluQmluKSwKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICB1bmNvdmVyIDIKICAgIGl0b2IKICAgIGR1cAogICAgY292ZXIgMwogICAgdW5jb3ZlciAyCiAgICBpdG9iCiAgICBiKgogICAgYisKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6MjQwLTI0MgogICAgLy8gdGhpcy5zdGFrZUFjY3VtdWxhdG9yLnZhbHVlID0gbmV3IFVpbnQxMjgoCiAgICAvLyAgIHRoaXMuc3Rha2VBY2N1bXVsYXRvci52YWx1ZS5uYXRpdmUgKyBCaWdVaW50KHN0YWtlZEFtb3VudFBheW1lbnQuYW1vdW50KSAqIEJpZ1VpbnQocm91bmRzTGVmdEluQmluKSwKICAgIC8vICkKICAgIGR1cAogICAgbGVuCiAgICBwdXNoaW50IDE2IC8vIDE2CiAgICA8PQogICAgYXNzZXJ0IC8vIG92ZXJmbG93CiAgICBwdXNoaW50IDE2IC8vIDE2CiAgICBiemVybwogICAgYnwKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6OTkKICAgIC8vIHN0YWtlQWNjdW11bGF0b3IgPSBHbG9iYWxTdGF0ZTxVaW50MTI4Pih7IGtleTogJ3N0YWtlQWNjdW11bGF0b3InIH0pCiAgICBieXRlYyA2IC8vICJzdGFrZUFjY3VtdWxhdG9yIgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czoyNDAtMjQyCiAgICAvLyB0aGlzLnN0YWtlQWNjdW11bGF0b3IudmFsdWUgPSBuZXcgVWludDEyOCgKICAgIC8vICAgdGhpcy5zdGFrZUFjY3VtdWxhdG9yLnZhbHVlLm5hdGl2ZSArIEJpZ1VpbnQoc3Rha2VkQW1vdW50UGF5bWVudC5hbW91bnQpICogQmlnVWludChyb3VuZHNMZWZ0SW5CaW4pLAogICAgLy8gKQogICAgc3dhcAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6MjQ1CiAgICAvLyBmb3IgKGxldCBpOiB1aW50NjQgPSAwOyBpIDwgdGhpcy5zdGFrZXJzLnZhbHVlLmxlbmd0aDsgaSArPSAxKSB7CiAgICBpbnRjXzAgLy8gMAoKYWRkU3Rha2Vfd2hpbGVfdG9wQDE6CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjkxCiAgICAvLyBzdGFrZXJzID0gQm94PEZpeGVkQXJyYXk8U3Rha2VkSW5mbywgdHlwZW9mIE1BWF9TVEFLRVJTX1BFUl9QT09MPj4oeyBrZXk6ICdzdGFrZXJzJyB9KQogICAgYnl0ZWNfMCAvLyAic3Rha2VycyIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6MjQ1CiAgICAvLyBmb3IgKGxldCBpOiB1aW50NjQgPSAwOyBpIDwgdGhpcy5zdGFrZXJzLnZhbHVlLmxlbmd0aDsgaSArPSAxKSB7CiAgICBib3hfbGVuCiAgICBidXJ5IDEKICAgIGFzc2VydCAvLyBCb3ggbXVzdCBoYXZlIHZhbHVlCiAgICBmcmFtZV9kaWcgOAogICAgaW50YyA0IC8vIDIwMAogICAgPAogICAgYnogYWRkU3Rha2VfYWZ0ZXJfd2hpbGVAOAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czoyNDYKICAgIC8vIGVuc3VyZUJ1ZGdldCgzMDApCiAgICBpbnRjIDcgLy8gMzAwCiAgICBpbnRjXzAgLy8gMAogICAgY2FsbHN1YiBlbnN1cmVfYnVkZ2V0CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjI0OAogICAgLy8gY29uc3QgY21wU3Rha2VyID0gY2xvbmUodGhpcy5zdGFrZXJzLnZhbHVlW2ldKQogICAgZnJhbWVfZGlnIDgKICAgIGludGNfMiAvLyA2NAogICAgKgogICAgZHVwCiAgICBmcmFtZV9idXJ5IDIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6OTEKICAgIC8vIHN0YWtlcnMgPSBCb3g8Rml4ZWRBcnJheTxTdGFrZWRJbmZvLCB0eXBlb2YgTUFYX1NUQUtFUlNfUEVSX1BPT0w+Pih7IGtleTogJ3N0YWtlcnMnIH0pCiAgICBieXRlY18wIC8vICJzdGFrZXJzIgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czoyNDgKICAgIC8vIGNvbnN0IGNtcFN0YWtlciA9IGNsb25lKHRoaXMuc3Rha2Vycy52YWx1ZVtpXSkKICAgIHN3YXAKICAgIGludGNfMiAvLyA2NAogICAgYm94X2V4dHJhY3QKICAgIGR1cAogICAgZnJhbWVfYnVyeSAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjI0OC0yNDkKICAgIC8vIGNvbnN0IGNtcFN0YWtlciA9IGNsb25lKHRoaXMuc3Rha2Vycy52YWx1ZVtpXSkKICAgIC8vIGlmIChjbXBTdGFrZXIuYWNjb3VudCA9PT0gc3Rha2VyKSB7CiAgICBleHRyYWN0IDAgMzIKICAgIGR1cAogICAgZnJhbWVfYnVyeSAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjI0OQogICAgLy8gaWYgKGNtcFN0YWtlci5hY2NvdW50ID09PSBzdGFrZXIpIHsKICAgIGZyYW1lX2RpZyAtMQogICAgPT0KICAgIGJ6IGFkZFN0YWtlX2FmdGVyX2lmX2Vsc2VANAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo5MQogICAgLy8gc3Rha2VycyA9IEJveDxGaXhlZEFycmF5PFN0YWtlZEluZm8sIHR5cGVvZiBNQVhfU1RBS0VSU19QRVJfUE9PTD4+KHsga2V5OiAnc3Rha2VycycgfSkKICAgIGJ5dGVjXzAgLy8gInN0YWtlcnMiCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjI0OAogICAgLy8gY29uc3QgY21wU3Rha2VyID0gY2xvbmUodGhpcy5zdGFrZXJzLnZhbHVlW2ldKQogICAgZnJhbWVfZGlnIDIKICAgIGR1cAogICAgY292ZXIgMgogICAgaW50Y18yIC8vIDY0CiAgICBib3hfZXh0cmFjdAogICAgcHVzaGludCAzMiAvLyAzMgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czoyNTEKICAgIC8vIGNtcFN0YWtlci5iYWxhbmNlICs9IHN0YWtlZEFtb3VudFBheW1lbnQuYW1vdW50CiAgICBleHRyYWN0X3VpbnQ2NAogICAgZnJhbWVfZGlnIDQKICAgICsKICAgIGl0b2IKICAgIGZyYW1lX2RpZyAxCiAgICBzd2FwCiAgICByZXBsYWNlMiAzMgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czoyNTIKICAgIC8vIGNtcFN0YWtlci5lbnRyeVJvdW5kID0gZW50cnlSb3VuZAogICAgZnJhbWVfZGlnIDUKICAgIGR1cAogICAgY292ZXIgMgogICAgaXRvYgogICAgcmVwbGFjZTIgNTYKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6OTEKICAgIC8vIHN0YWtlcnMgPSBCb3g8Rml4ZWRBcnJheTxTdGFrZWRJbmZvLCB0eXBlb2YgTUFYX1NUQUtFUlNfUEVSX1BPT0w+Pih7IGtleTogJ3N0YWtlcnMnIH0pCiAgICBieXRlY18wIC8vICJzdGFrZXJzIgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czoyNTUKICAgIC8vIHRoaXMuc3Rha2Vycy52YWx1ZVtpXSA9IGNsb25lKGNtcFN0YWtlcikKICAgIHVuY292ZXIgMwogICAgdW5jb3ZlciAyCiAgICBib3hfcmVwbGFjZQogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czoyNTcKICAgIC8vIHJldHVybiBlbnRyeVJvdW5kCiAgICBmcmFtZV9idXJ5IDAKICAgIHJldHN1YgoKYWRkU3Rha2VfYWZ0ZXJfaWZfZWxzZUA0OgogICAgZnJhbWVfZGlnIDYKICAgIGR1cAogICAgZnJhbWVfYnVyeSAzCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjI1OQogICAgLy8gaWYgKGZpcnN0RW1wdHkgPT09IDAgJiYgY21wU3Rha2VyLmFjY291bnQubmF0aXZlID09PSBHbG9iYWwuemVyb0FkZHJlc3MpIHsKICAgIGJueiBhZGRTdGFrZV9hZnRlcl9pZl9lbHNlQDcKICAgIGZyYW1lX2RpZyAwCiAgICBnbG9iYWwgWmVyb0FkZHJlc3MKICAgID09CiAgICBmcmFtZV9kaWcgNgogICAgZnJhbWVfYnVyeSAzCiAgICBieiBhZGRTdGFrZV9hZnRlcl9pZl9lbHNlQDcKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6MjYwCiAgICAvLyBmaXJzdEVtcHR5ID0gaSArIDEKICAgIGZyYW1lX2RpZyA4CiAgICBpbnRjXzEgLy8gMQogICAgKwogICAgZnJhbWVfYnVyeSAzCgphZGRTdGFrZV9hZnRlcl9pZl9lbHNlQDc6CiAgICBmcmFtZV9kaWcgMwogICAgZnJhbWVfYnVyeSA2CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjI0NQogICAgLy8gZm9yIChsZXQgaTogdWludDY0ID0gMDsgaSA8IHRoaXMuc3Rha2Vycy52YWx1ZS5sZW5ndGg7IGkgKz0gMSkgewogICAgZnJhbWVfZGlnIDgKICAgIGludGNfMSAvLyAxCiAgICArCiAgICBmcmFtZV9idXJ5IDgKICAgIGIgYWRkU3Rha2Vfd2hpbGVfdG9wQDEKCmFkZFN0YWtlX2FmdGVyX3doaWxlQDg6CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjI2NAogICAgLy8gaWYgKGZpcnN0RW1wdHkgPT09IDApIHsKICAgIGZyYW1lX2RpZyA2CiAgICBkdXAKICAgICEKICAgICEKICAgIGFzc2VydCAvLyBTdGFraW5nIHBvb2wgZnVsbAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czoyNzEKICAgIC8vIGFzc2VydChzdGFrZWRBbW91bnRQYXltZW50LmFtb3VudCA+PSB0aGlzLm1pbkVudHJ5U3Rha2UudmFsdWUsICdtdXN0IHN0YWtlIGF0IGxlYXN0IHRoZSBtaW5pbXVtIGZvciB0aGlzIHBvb2wnKQogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6NzkKICAgIC8vIG1pbkVudHJ5U3Rha2UgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KHsga2V5OiAnbWluRW50cnlTdGFrZScgfSkKICAgIGJ5dGVjIDEzIC8vICJtaW5FbnRyeVN0YWtlIgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czoyNzEKICAgIC8vIGFzc2VydChzdGFrZWRBbW91bnRQYXltZW50LmFtb3VudCA+PSB0aGlzLm1pbkVudHJ5U3Rha2UudmFsdWUsICdtdXN0IHN0YWtlIGF0IGxlYXN0IHRoZSBtaW5pbXVtIGZvciB0aGlzIHBvb2wnKQogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGZyYW1lX2RpZyA0CiAgICA8PQogICAgYXNzZXJ0IC8vIG11c3Qgc3Rha2UgYXQgbGVhc3QgdGhlIG1pbmltdW0gZm9yIHRoaXMgcG9vbAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czoyNzMKICAgIC8vIGFzc2VydCh0aGlzLnN0YWtlcnMudmFsdWVbZmlyc3RFbXB0eSAtIDFdLmFjY291bnQubmF0aXZlID09PSBHbG9iYWwuemVyb0FkZHJlc3MpCiAgICBpbnRjXzEgLy8gMQogICAgLQogICAgaW50Y18yIC8vIDY0CiAgICAqCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjkxCiAgICAvLyBzdGFrZXJzID0gQm94PEZpeGVkQXJyYXk8U3Rha2VkSW5mbywgdHlwZW9mIE1BWF9TVEFLRVJTX1BFUl9QT09MPj4oeyBrZXk6ICdzdGFrZXJzJyB9KQogICAgYnl0ZWNfMCAvLyAic3Rha2VycyIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6MjczCiAgICAvLyBhc3NlcnQodGhpcy5zdGFrZXJzLnZhbHVlW2ZpcnN0RW1wdHkgLSAxXS5hY2NvdW50Lm5hdGl2ZSA9PT0gR2xvYmFsLnplcm9BZGRyZXNzKQogICAgZGlnIDEKICAgIGludGNfMiAvLyA2NAogICAgYm94X2V4dHJhY3QKICAgIGV4dHJhY3QgMCAzMgogICAgZ2xvYmFsIFplcm9BZGRyZXNzCiAgICA9PQogICAgYXNzZXJ0CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjI3NS0yODEKICAgIC8vIHRoaXMuc3Rha2Vycy52YWx1ZVtmaXJzdEVtcHR5IC0gMV0gPSB7CiAgICAvLyAgIGFjY291bnQ6IHN0YWtlciwKICAgIC8vICAgYmFsYW5jZTogc3Rha2VkQW1vdW50UGF5bWVudC5hbW91bnQsCiAgICAvLyAgIHRvdGFsUmV3YXJkZWQ6IDAsCiAgICAvLyAgIHJld2FyZFRva2VuQmFsYW5jZTogMCwKICAgIC8vICAgZW50cnlSb3VuZDogZW50cnlSb3VuZCwKICAgIC8vIH0KICAgIGZyYW1lX2RpZyAtMQogICAgZnJhbWVfZGlnIDcKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czoyNzgKICAgIC8vIHRvdGFsUmV3YXJkZWQ6IDAsCiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czoyNzUtMjgxCiAgICAvLyB0aGlzLnN0YWtlcnMudmFsdWVbZmlyc3RFbXB0eSAtIDFdID0gewogICAgLy8gICBhY2NvdW50OiBzdGFrZXIsCiAgICAvLyAgIGJhbGFuY2U6IHN0YWtlZEFtb3VudFBheW1lbnQuYW1vdW50LAogICAgLy8gICB0b3RhbFJld2FyZGVkOiAwLAogICAgLy8gICByZXdhcmRUb2tlbkJhbGFuY2U6IDAsCiAgICAvLyAgIGVudHJ5Um91bmQ6IGVudHJ5Um91bmQsCiAgICAvLyB9CiAgICBpdG9iCiAgICBzd2FwCiAgICBkaWcgMQogICAgY29uY2F0CiAgICBzd2FwCiAgICBjb25jYXQKICAgIGZyYW1lX2RpZyA1CiAgICBkdXAKICAgIGNvdmVyIDIKICAgIGl0b2IKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo5MQogICAgLy8gc3Rha2VycyA9IEJveDxGaXhlZEFycmF5PFN0YWtlZEluZm8sIHR5cGVvZiBNQVhfU1RBS0VSU19QRVJfUE9PTD4+KHsga2V5OiAnc3Rha2VycycgfSkKICAgIGJ5dGVjXzAgLy8gInN0YWtlcnMiCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjI3NS0yODEKICAgIC8vIHRoaXMuc3Rha2Vycy52YWx1ZVtmaXJzdEVtcHR5IC0gMV0gPSB7CiAgICAvLyAgIGFjY291bnQ6IHN0YWtlciwKICAgIC8vICAgYmFsYW5jZTogc3Rha2VkQW1vdW50UGF5bWVudC5hbW91bnQsCiAgICAvLyAgIHRvdGFsUmV3YXJkZWQ6IDAsCiAgICAvLyAgIHJld2FyZFRva2VuQmFsYW5jZTogMCwKICAgIC8vICAgZW50cnlSb3VuZDogZW50cnlSb3VuZCwKICAgIC8vIH0KICAgIHVuY292ZXIgMwogICAgdW5jb3ZlciAyCiAgICBib3hfcmVwbGFjZQogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czoyODIKICAgIC8vIHRoaXMubnVtU3Rha2Vycy52YWx1ZSArPSAxCiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo3NAogICAgLy8gbnVtU3Rha2VycyA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oeyBrZXk6ICdudW1TdGFrZXJzJyB9KQogICAgYnl0ZWMgOSAvLyAibnVtU3Rha2VycyIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6MjgyCiAgICAvLyB0aGlzLm51bVN0YWtlcnMudmFsdWUgKz0gMQogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGludGNfMSAvLyAxCiAgICArCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjc0CiAgICAvLyBudW1TdGFrZXJzID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGtleTogJ251bVN0YWtlcnMnIH0pCiAgICBieXRlYyA5IC8vICJudW1TdGFrZXJzIgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czoyODIKICAgIC8vIHRoaXMubnVtU3Rha2Vycy52YWx1ZSArPSAxCiAgICBzd2FwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czoyODMKICAgIC8vIHJldHVybiBlbnRyeVJvdW5kCiAgICBmcmFtZV9idXJ5IDAKICAgIHJldHN1YgoKCi8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6OlN0YWtpbmdQb29sLnJlbW92ZVN0YWtlKHN0YWtlcjogYnl0ZXMsIGFtb3VudFRvVW5zdGFrZTogdWludDY0KSAtPiB2b2lkOgpyZW1vdmVTdGFrZToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6Mjk3CiAgICAvLyByZW1vdmVTdGFrZShzdGFrZXI6IEFkZHJlc3MsIGFtb3VudFRvVW5zdGFrZTogdWludDY0KTogdm9pZCB7CiAgICBwcm90byAyIDAKICAgIGludGNfMCAvLyAwCiAgICBkdXAKICAgIHB1c2hieXRlcyAiIgogICAgZHVwbiA2CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjMwMAogICAgLy8gaWYgKHN0YWtlci5uYXRpdmUgIT09IFR4bi5zZW5kZXIpIHsKICAgIGZyYW1lX2RpZyAtMgogICAgdHhuIFNlbmRlcgogICAgIT0KICAgIGJ6IHJlbW92ZVN0YWtlX2FmdGVyX2lmX2Vsc2VAMgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czozMDIKICAgIC8vIHRoaXMuaXNPd25lck9yTWFuYWdlckNhbGxlcigpLAogICAgY2FsbHN1YiBpc093bmVyT3JNYW5hZ2VyQ2FsbGVyCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjMwMS0zMDQKICAgIC8vIGFzc2VydCgKICAgIC8vICAgdGhpcy5pc093bmVyT3JNYW5hZ2VyQ2FsbGVyKCksCiAgICAvLyAgICdJZiBzdGFrZXIgaXMgbm90IHNlbmRlciBpbiByZW1vdmVTdGFrZSBjYWxsLCB0aGVuIHNlbmRlciBNVVNUIGJlIG93bmVyIG9yIG1hbmFnZXIgb2YgdmFsaWRhdG9yJywKICAgIC8vICkKICAgIGFzc2VydCAvLyBJZiBzdGFrZXIgaXMgbm90IHNlbmRlciBpbiByZW1vdmVTdGFrZSBjYWxsLCB0aGVuIHNlbmRlciBNVVNUIGJlIG93bmVyIG9yIG1hbmFnZXIgb2YgdmFsaWRhdG9yCgpyZW1vdmVTdGFrZV9hZnRlcl9pZl9lbHNlQDI6CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjMwNwogICAgLy8gdGhpcy5jaGVja0lmQmluQ2xvc2VkKCkKICAgIGNhbGxzdWIgY2hlY2tJZkJpbkNsb3NlZAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czozMDkKICAgIC8vIGZvciAobGV0IGk6IHVpbnQ2NCA9IDA7IGkgPCB0aGlzLnN0YWtlcnMudmFsdWUubGVuZ3RoOyBpICs9IDEpIHsKICAgIGludGNfMCAvLyAwCiAgICBmcmFtZV9idXJ5IDYKCnJlbW92ZVN0YWtlX3doaWxlX3RvcEAzOgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo5MQogICAgLy8gc3Rha2VycyA9IEJveDxGaXhlZEFycmF5PFN0YWtlZEluZm8sIHR5cGVvZiBNQVhfU1RBS0VSU19QRVJfUE9PTD4+KHsga2V5OiAnc3Rha2VycycgfSkKICAgIGJ5dGVjXzAgLy8gInN0YWtlcnMiCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjMwOQogICAgLy8gZm9yIChsZXQgaTogdWludDY0ID0gMDsgaSA8IHRoaXMuc3Rha2Vycy52YWx1ZS5sZW5ndGg7IGkgKz0gMSkgewogICAgYm94X2xlbgogICAgYnVyeSAxCiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgZnJhbWVfZGlnIDYKICAgIGR1cAogICAgaW50YyA0IC8vIDIwMAogICAgPAogICAgYXNzZXJ0IC8vIGFjY291bnQgbm90IGZvdW5kCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjMxMAogICAgLy8gZW5zdXJlQnVkZ2V0KDMwMCkKICAgIGludGMgNyAvLyAzMDAKICAgIGludGNfMCAvLyAwCiAgICBjYWxsc3ViIGVuc3VyZV9idWRnZXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6MzEyCiAgICAvLyBjb25zdCBjbXBTdGFrZXIgPSBjbG9uZSh0aGlzLnN0YWtlcnMudmFsdWVbaV0pCiAgICBpbnRjXzIgLy8gNjQKICAgICoKICAgIGR1cAogICAgZnJhbWVfYnVyeSA1CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjkxCiAgICAvLyBzdGFrZXJzID0gQm94PEZpeGVkQXJyYXk8U3Rha2VkSW5mbywgdHlwZW9mIE1BWF9TVEFLRVJTX1BFUl9QT09MPj4oeyBrZXk6ICdzdGFrZXJzJyB9KQogICAgYnl0ZWNfMCAvLyAic3Rha2VycyIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6MzEyCiAgICAvLyBjb25zdCBjbXBTdGFrZXIgPSBjbG9uZSh0aGlzLnN0YWtlcnMudmFsdWVbaV0pCiAgICBzd2FwCiAgICBpbnRjXzIgLy8gNjQKICAgIGJveF9leHRyYWN0CiAgICBkdXAKICAgIGZyYW1lX2J1cnkgMAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czozMTItMzEzCiAgICAvLyBjb25zdCBjbXBTdGFrZXIgPSBjbG9uZSh0aGlzLnN0YWtlcnMudmFsdWVbaV0pCiAgICAvLyBpZiAoY21wU3Rha2VyLmFjY291bnQgPT09IHN0YWtlcikgewogICAgZXh0cmFjdCAwIDMyCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjMxMwogICAgLy8gaWYgKGNtcFN0YWtlci5hY2NvdW50ID09PSBzdGFrZXIpIHsKICAgIGZyYW1lX2RpZyAtMgogICAgPT0KICAgIGJ6IHJlbW92ZVN0YWtlX2FmdGVyX2lmX2Vsc2VAMjUKICAgIGZyYW1lX2RpZyAtMQogICAgZnJhbWVfYnVyeSA0CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjMxNAogICAgLy8gaWYgKGFtb3VudFRvVW5zdGFrZSA9PT0gMCkgewogICAgZnJhbWVfZGlnIC0xCiAgICBibnogcmVtb3ZlU3Rha2VfYWZ0ZXJfaWZfZWxzZUA3CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjkxCiAgICAvLyBzdGFrZXJzID0gQm94PEZpeGVkQXJyYXk8U3Rha2VkSW5mbywgdHlwZW9mIE1BWF9TVEFLRVJTX1BFUl9QT09MPj4oeyBrZXk6ICdzdGFrZXJzJyB9KQogICAgYnl0ZWNfMCAvLyAic3Rha2VycyIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6MzEyCiAgICAvLyBjb25zdCBjbXBTdGFrZXIgPSBjbG9uZSh0aGlzLnN0YWtlcnMudmFsdWVbaV0pCiAgICBmcmFtZV9kaWcgNQogICAgaW50Y18yIC8vIDY0CiAgICBib3hfZXh0cmFjdAogICAgcHVzaGludCAzMiAvLyAzMgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czozMTYKICAgIC8vIGFtb3VudFRvVW5zdGFrZSA9IGNtcFN0YWtlci5iYWxhbmNlCiAgICBleHRyYWN0X3VpbnQ2NAogICAgZHVwCiAgICBmcmFtZV9idXJ5IC0xCiAgICBmcmFtZV9idXJ5IDQKCnJlbW92ZVN0YWtlX2FmdGVyX2lmX2Vsc2VANzoKICAgIGZyYW1lX2RpZyA0CiAgICBmcmFtZV9idXJ5IC0xCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjkxCiAgICAvLyBzdGFrZXJzID0gQm94PEZpeGVkQXJyYXk8U3Rha2VkSW5mbywgdHlwZW9mIE1BWF9TVEFLRVJTX1BFUl9QT09MPj4oeyBrZXk6ICdzdGFrZXJzJyB9KQogICAgYnl0ZWNfMCAvLyAic3Rha2VycyIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6MzEyCiAgICAvLyBjb25zdCBjbXBTdGFrZXIgPSBjbG9uZSh0aGlzLnN0YWtlcnMudmFsdWVbaV0pCiAgICBmcmFtZV9kaWcgNQogICAgaW50Y18yIC8vIDY0CiAgICBib3hfZXh0cmFjdAogICAgcHVzaGludCAzMiAvLyAzMgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czozMTgKICAgIC8vIGlmIChjbXBTdGFrZXIuYmFsYW5jZSA8IGFtb3VudFRvVW5zdGFrZSkgewogICAgZXh0cmFjdF91aW50NjQKICAgIGR1cAogICAgZnJhbWVfZGlnIC0xCiAgICA8CiAgICAhCiAgICBhc3NlcnQgLy8gSW5zdWZmaWNpZW50IGJhbGFuY2UKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6MzIxCiAgICAvLyBjbXBTdGFrZXIuYmFsYW5jZSAtPSBhbW91bnRUb1Vuc3Rha2UKICAgIGZyYW1lX2RpZyAtMQogICAgLQogICAgaXRvYgogICAgZnJhbWVfZGlnIDAKICAgIHN3YXAKICAgIHJlcGxhY2UyIDMyCiAgICBkdXAKICAgIGZyYW1lX2J1cnkgMAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czozMjIKICAgIC8vIHRoaXMudG90YWxBbGdvU3Rha2VkLnZhbHVlIC09IGFtb3VudFRvVW5zdGFrZQogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6NzcKICAgIC8vIHRvdGFsQWxnb1N0YWtlZCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oeyBrZXk6ICdzdGFrZWQnIH0pCiAgICBieXRlYyA1IC8vICJzdGFrZWQiCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjMyMgogICAgLy8gdGhpcy50b3RhbEFsZ29TdGFrZWQudmFsdWUgLT0gYW1vdW50VG9VbnN0YWtlCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgZnJhbWVfZGlnIC0xCiAgICAtCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjc3CiAgICAvLyB0b3RhbEFsZ29TdGFrZWQgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KHsga2V5OiAnc3Rha2VkJyB9KQogICAgYnl0ZWMgNSAvLyAic3Rha2VkIgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czozMjIKICAgIC8vIHRoaXMudG90YWxBbGdvU3Rha2VkLnZhbHVlIC09IGFtb3VudFRvVW5zdGFrZQogICAgc3dhcAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6MzI0CiAgICAvLyBsZXQgYW1vdW50UmV3YXJkVG9rZW5SZW1vdmVkOiB1aW50NjQgPSAwCiAgICBpbnRjXzAgLy8gMAogICAgZnJhbWVfYnVyeSAyCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjMyNQogICAgLy8gaWYgKGNtcFN0YWtlci5yZXdhcmRUb2tlbkJhbGFuY2UgPiAwKSB7CiAgICBkdXAKICAgIHB1c2hpbnQgNDggLy8gNDgKICAgIGV4dHJhY3RfdWludDY0CiAgICBkdXAKICAgIGZyYW1lX2J1cnkgMwogICAgc3dhcAogICAgZnJhbWVfYnVyeSAxCiAgICBieiByZW1vdmVTdGFrZV9hZnRlcl9pZl9lbHNlQDE2CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjMyNwogICAgLy8gaWYgKHRoaXMucG9vbElkLnZhbHVlID09PSAxKSB7CiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo3MQogICAgLy8gcG9vbElkID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGtleTogJ3Bvb2xJZCcgfSkKICAgIGJ5dGVjIDQgLy8gInBvb2xJZCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6MzI3CiAgICAvLyBpZiAodGhpcy5wb29sSWQudmFsdWUgPT09IDEpIHsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBpbnRjXzEgLy8gMQogICAgPT0KICAgIGJ6IHJlbW92ZVN0YWtlX2Vsc2VfYm9keUAxNAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czozMjgtMzMxCiAgICAvLyBjb25zdCB2YWxpZGF0b3JDb25maWcgPSBhYmlDYWxsKFZhbGlkYXRvclJlZ2lzdHJ5QUJJLnByb3RvdHlwZS5nZXRWYWxpZGF0b3JDb25maWcsIHsKICAgIC8vICAgYXBwSWQ6IHRoaXMuY3JlYXRpbmdWYWxpZGF0b3JDb250cmFjdEFwcElkLnZhbHVlLAogICAgLy8gICBhcmdzOiBbdGhpcy52YWxpZGF0b3JJZC52YWx1ZV0sCiAgICAvLyB9KS5yZXR1cm5WYWx1ZQogICAgaXR4bl9iZWdpbgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czozMjkKICAgIC8vIGFwcElkOiB0aGlzLmNyZWF0aW5nVmFsaWRhdG9yQ29udHJhY3RBcHBJZC52YWx1ZSwKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjY1CiAgICAvLyBjcmVhdGluZ1ZhbGlkYXRvckNvbnRyYWN0QXBwSWQgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KHsga2V5OiAnY3JlYXRvckFwcCcgfSkKICAgIGJ5dGVjXzEgLy8gImNyZWF0b3JBcHAiCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjMyOQogICAgLy8gYXBwSWQ6IHRoaXMuY3JlYXRpbmdWYWxpZGF0b3JDb250cmFjdEFwcElkLnZhbHVlLAogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6MzMwCiAgICAvLyBhcmdzOiBbdGhpcy52YWxpZGF0b3JJZC52YWx1ZV0sCiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo2OAogICAgLy8gdmFsaWRhdG9ySWQgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KHsga2V5OiAndmFsaWRhdG9ySWQnIH0pCiAgICBieXRlY18zIC8vICJ2YWxpZGF0b3JJZCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6MzMwCiAgICAvLyBhcmdzOiBbdGhpcy52YWxpZGF0b3JJZC52YWx1ZV0sCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgaXRvYgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czozMjgtMzMxCiAgICAvLyBjb25zdCB2YWxpZGF0b3JDb25maWcgPSBhYmlDYWxsKFZhbGlkYXRvclJlZ2lzdHJ5QUJJLnByb3RvdHlwZS5nZXRWYWxpZGF0b3JDb25maWcsIHsKICAgIC8vICAgYXBwSWQ6IHRoaXMuY3JlYXRpbmdWYWxpZGF0b3JDb250cmFjdEFwcElkLnZhbHVlLAogICAgLy8gICBhcmdzOiBbdGhpcy52YWxpZGF0b3JJZC52YWx1ZV0sCiAgICAvLyB9KS5yZXR1cm5WYWx1ZQogICAgYnl0ZWMgMTIgLy8gbWV0aG9kICJnZXRWYWxpZGF0b3JDb25maWcodWludDY0KSh1aW50NjQsYWRkcmVzcyxhZGRyZXNzLHVpbnQ2NCx1aW50OCxhZGRyZXNzLHVpbnQ2NFs0XSx1aW50NjQsdWludDY0LHVpbnQ2NCx1aW50MzIsdWludDMyLGFkZHJlc3MsdWludDY0LHVpbnQ2NCx1aW50OCx1aW50NjQsdWludDY0KSIKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25BcmdzCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uQXJncwogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbklECiAgICBpbnRjXzMgLy8gYXBwbAogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgaW50Y18wIC8vIDAKICAgIGl0eG5fZmllbGQgRmVlCiAgICBpdHhuX3N1Ym1pdAogICAgaXR4biBMYXN0TG9nCiAgICBkdXAKICAgIGV4dHJhY3QgMCA0CiAgICBieXRlY18yIC8vIDB4MTUxZjdjNzUKICAgID09CiAgICBhc3NlcnQgLy8gQnl0ZXMgaGFzIHZhbGlkIHByZWZpeAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czozMzUtMzQxCiAgICAvLyBpdHhuCiAgICAvLyAgIC5hc3NldFRyYW5zZmVyKHsKICAgIC8vICAgICB4ZmVyQXNzZXQ6IHZhbGlkYXRvckNvbmZpZy5yZXdhcmRUb2tlbklkLAogICAgLy8gICAgIGFzc2V0UmVjZWl2ZXI6IHN0YWtlci5uYXRpdmUsCiAgICAvLyAgICAgYXNzZXRBbW91bnQ6IGNtcFN0YWtlci5yZXdhcmRUb2tlbkJhbGFuY2UsCiAgICAvLyAgIH0pCiAgICAvLyAgIC5zdWJtaXQoKQogICAgaXR4bl9iZWdpbgogICAgaW50YyA2IC8vIDE1NwogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czozMzcKICAgIC8vIHhmZXJBc3NldDogdmFsaWRhdG9yQ29uZmlnLnJld2FyZFRva2VuSWQsCiAgICBleHRyYWN0X3VpbnQ2NAogICAgZnJhbWVfZGlnIDMKICAgIGl0eG5fZmllbGQgQXNzZXRBbW91bnQKICAgIGZyYW1lX2RpZyAtMgogICAgaXR4bl9maWVsZCBBc3NldFJlY2VpdmVyCiAgICBpdHhuX2ZpZWxkIFhmZXJBc3NldAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czozMzUtMzQwCiAgICAvLyBpdHhuCiAgICAvLyAgIC5hc3NldFRyYW5zZmVyKHsKICAgIC8vICAgICB4ZmVyQXNzZXQ6IHZhbGlkYXRvckNvbmZpZy5yZXdhcmRUb2tlbklkLAogICAgLy8gICAgIGFzc2V0UmVjZWl2ZXI6IHN0YWtlci5uYXRpdmUsCiAgICAvLyAgICAgYXNzZXRBbW91bnQ6IGNtcFN0YWtlci5yZXdhcmRUb2tlbkJhbGFuY2UsCiAgICAvLyAgIH0pCiAgICBwdXNoaW50IDQgLy8gNAogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgaW50Y18wIC8vIDAKICAgIGl0eG5fZmllbGQgRmVlCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjMzNS0zNDEKICAgIC8vIGl0eG4KICAgIC8vICAgLmFzc2V0VHJhbnNmZXIoewogICAgLy8gICAgIHhmZXJBc3NldDogdmFsaWRhdG9yQ29uZmlnLnJld2FyZFRva2VuSWQsCiAgICAvLyAgICAgYXNzZXRSZWNlaXZlcjogc3Rha2VyLm5hdGl2ZSwKICAgIC8vICAgICBhc3NldEFtb3VudDogY21wU3Rha2VyLnJld2FyZFRva2VuQmFsYW5jZSwKICAgIC8vICAgfSkKICAgIC8vICAgLnN1Ym1pdCgpCiAgICBpdHhuX3N1Ym1pdAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czozNDQKICAgIC8vIGNtcFN0YWtlci5yZXdhcmRUb2tlbkJhbGFuY2UgPSAwCiAgICBpbnRjXzAgLy8gMAogICAgaXRvYgogICAgZnJhbWVfZGlnIDAKICAgIHN3YXAKICAgIHJlcGxhY2UyIDQ4CiAgICBmcmFtZV9idXJ5IDAKCnJlbW92ZVN0YWtlX2FmdGVyX2lmX2Vsc2VAMTU6CiAgICBmcmFtZV9kaWcgMwogICAgZnJhbWVfYnVyeSAyCiAgICBmcmFtZV9kaWcgMAogICAgZnJhbWVfYnVyeSAxCgpyZW1vdmVTdGFrZV9hZnRlcl9pZl9lbHNlQDE2OgogICAgZnJhbWVfZGlnIDEKICAgIGR1cAogICAgZnJhbWVfYnVyeSAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjM1NgogICAgLy8gY21wU3Rha2VyLmJhbGFuY2UgPT09IDAgfHwgY21wU3Rha2VyLmJhbGFuY2UgPj0gdGhpcy5taW5FbnRyeVN0YWtlLnZhbHVlLAogICAgcHVzaGludCAzMiAvLyAzMgogICAgZXh0cmFjdF91aW50NjQKICAgIGR1cAogICAgZnJhbWVfYnVyeSA4CiAgICBieiByZW1vdmVTdGFrZV9ib29sX3RydWVAMTgKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjc5CiAgICAvLyBtaW5FbnRyeVN0YWtlID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGtleTogJ21pbkVudHJ5U3Rha2UnIH0pCiAgICBieXRlYyAxMyAvLyAibWluRW50cnlTdGFrZSIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6MzU2CiAgICAvLyBjbXBTdGFrZXIuYmFsYW5jZSA9PT0gMCB8fCBjbXBTdGFrZXIuYmFsYW5jZSA+PSB0aGlzLm1pbkVudHJ5U3Rha2UudmFsdWUsCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgZnJhbWVfZGlnIDgKICAgIDw9CiAgICBieiByZW1vdmVTdGFrZV9ib29sX2ZhbHNlQDE5CgpyZW1vdmVTdGFrZV9ib29sX3RydWVAMTg6CiAgICBpbnRjXzEgLy8gMQoKcmVtb3ZlU3Rha2VfYm9vbF9tZXJnZUAyMDoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6MzU1LTM1OAogICAgLy8gYXNzZXJ0KAogICAgLy8gICBjbXBTdGFrZXIuYmFsYW5jZSA9PT0gMCB8fCBjbXBTdGFrZXIuYmFsYW5jZSA+PSB0aGlzLm1pbkVudHJ5U3Rha2UudmFsdWUsCiAgICAvLyAgICdjYW5ub3QgcmVkdWNlIGJhbGFuY2UgYmVsb3cgbWluaW11bSBhbGxvd2VkIHN0YWtlIHVubGVzcyBhbGwgaXMgcmVtb3ZlZCcsCiAgICAvLyApCiAgICBhc3NlcnQgLy8gY2Fubm90IHJlZHVjZSBiYWxhbmNlIGJlbG93IG1pbmltdW0gYWxsb3dlZCBzdGFrZSB1bmxlc3MgYWxsIGlzIHJlbW92ZWQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6MzYzLTM2OQogICAgLy8gaXR4bgogICAgLy8gICAucGF5bWVudCh7CiAgICAvLyAgICAgYW1vdW50OiBhbW91bnRUb1Vuc3Rha2UsCiAgICAvLyAgICAgcmVjZWl2ZXI6IHN0YWtlci5uYXRpdmUsCiAgICAvLyAgICAgbm90ZTogJ3Vuc3Rha2VkJywKICAgIC8vICAgfSkKICAgIC8vICAgLnN1Ym1pdCgpCiAgICBpdHhuX2JlZ2luCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjM2NwogICAgLy8gbm90ZTogJ3Vuc3Rha2VkJywKICAgIHB1c2hieXRlcyAidW5zdGFrZWQiCiAgICBpdHhuX2ZpZWxkIE5vdGUKICAgIGZyYW1lX2RpZyAtMgogICAgaXR4bl9maWVsZCBSZWNlaXZlcgogICAgZnJhbWVfZGlnIC0xCiAgICBpdHhuX2ZpZWxkIEFtb3VudAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czozNjMtMzY4CiAgICAvLyBpdHhuCiAgICAvLyAgIC5wYXltZW50KHsKICAgIC8vICAgICBhbW91bnQ6IGFtb3VudFRvVW5zdGFrZSwKICAgIC8vICAgICByZWNlaXZlcjogc3Rha2VyLm5hdGl2ZSwKICAgIC8vICAgICBub3RlOiAndW5zdGFrZWQnLAogICAgLy8gICB9KQogICAgaW50Y18xIC8vIDEKICAgIGl0eG5fZmllbGQgVHlwZUVudW0KICAgIGludGNfMCAvLyAwCiAgICBpdHhuX2ZpZWxkIEZlZQogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czozNjMtMzY5CiAgICAvLyBpdHhuCiAgICAvLyAgIC5wYXltZW50KHsKICAgIC8vICAgICBhbW91bnQ6IGFtb3VudFRvVW5zdGFrZSwKICAgIC8vICAgICByZWNlaXZlcjogc3Rha2VyLm5hdGl2ZSwKICAgIC8vICAgICBub3RlOiAndW5zdGFrZWQnLAogICAgLy8gICB9KQogICAgLy8gICAuc3VibWl0KCkKICAgIGl0eG5fc3VibWl0CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjM3MQogICAgLy8gbGV0IHN0YWtlclJlbW92ZWQgPSBmYWxzZQogICAgaW50Y18wIC8vIDAKICAgIGZyYW1lX2J1cnkgNwogICAgZnJhbWVfZGlnIDAKICAgIGZyYW1lX2J1cnkgMQogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czozNzIKICAgIC8vIGlmIChjbXBTdGFrZXIuYmFsYW5jZSA9PT0gMCkgewogICAgZnJhbWVfZGlnIDgKICAgIGJueiByZW1vdmVTdGFrZV9hZnRlcl9pZl9lbHNlQDIzCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjM3NAogICAgLy8gdGhpcy5udW1TdGFrZXJzLnZhbHVlIC09IDEKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjc0CiAgICAvLyBudW1TdGFrZXJzID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGtleTogJ251bVN0YWtlcnMnIH0pCiAgICBieXRlYyA5IC8vICJudW1TdGFrZXJzIgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czozNzQKICAgIC8vIHRoaXMubnVtU3Rha2Vycy52YWx1ZSAtPSAxCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgaW50Y18xIC8vIDEKICAgIC0KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6NzQKICAgIC8vIG51bVN0YWtlcnMgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KHsga2V5OiAnbnVtU3Rha2VycycgfSkKICAgIGJ5dGVjIDkgLy8gIm51bVN0YWtlcnMiCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjM3NAogICAgLy8gdGhpcy5udW1TdGFrZXJzLnZhbHVlIC09IDEKICAgIHN3YXAKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjM3NQogICAgLy8gY21wU3Rha2VyLmFjY291bnQgPSBuZXcgQWRkcmVzcyhHbG9iYWwuemVyb0FkZHJlc3MpCiAgICBmcmFtZV9kaWcgMAogICAgZ2xvYmFsIFplcm9BZGRyZXNzCiAgICByZXBsYWNlMiAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjM3NgogICAgLy8gY21wU3Rha2VyLnRvdGFsUmV3YXJkZWQgPSAwCiAgICBpbnRjXzAgLy8gMAogICAgaXRvYgogICAgc3dhcAogICAgZGlnIDEKICAgIHJlcGxhY2UyIDQwCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjM3NwogICAgLy8gY21wU3Rha2VyLnJld2FyZFRva2VuQmFsYW5jZSA9IDAKICAgIHN3YXAKICAgIHJlcGxhY2UyIDQ4CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjM3OAogICAgLy8gc3Rha2VyUmVtb3ZlZCA9IHRydWUKICAgIGludGNfMSAvLyAxCiAgICBmcmFtZV9idXJ5IDcKICAgIGZyYW1lX2J1cnkgMQoKcmVtb3ZlU3Rha2VfYWZ0ZXJfaWZfZWxzZUAyMzoKICAgIGZyYW1lX2RpZyAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjkxCiAgICAvLyBzdGFrZXJzID0gQm94PEZpeGVkQXJyYXk8U3Rha2VkSW5mbywgdHlwZW9mIE1BWF9TVEFLRVJTX1BFUl9QT09MPj4oeyBrZXk6ICdzdGFrZXJzJyB9KQogICAgYnl0ZWNfMCAvLyAic3Rha2VycyIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6MzgxCiAgICAvLyB0aGlzLnN0YWtlcnMudmFsdWVbaV0gPSBjbG9uZShjbXBTdGFrZXIpCiAgICBmcmFtZV9kaWcgNQogICAgdW5jb3ZlciAyCiAgICBib3hfcmVwbGFjZQogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czozODMKICAgIC8vIGNvbnN0IHJvdW5kc0xlZnRJbkJpbjogdWludDY0ID0gdGhpcy5iaW5Sb3VuZFN0YXJ0LnZhbHVlICsgdGhpcy5yb3VuZHNQZXJEYXkudmFsdWUgLSBHbG9iYWwucm91bmQKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjk3CiAgICAvLyBiaW5Sb3VuZFN0YXJ0ID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGtleTogJ2JpblJvdW5kU3RhcnQnIH0pCiAgICBieXRlYyA4IC8vICJiaW5Sb3VuZFN0YXJ0IgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czozODMKICAgIC8vIGNvbnN0IHJvdW5kc0xlZnRJbkJpbjogdWludDY0ID0gdGhpcy5iaW5Sb3VuZFN0YXJ0LnZhbHVlICsgdGhpcy5yb3VuZHNQZXJEYXkudmFsdWUgLSBHbG9iYWwucm91bmQKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo5NQogICAgLy8gcm91bmRzUGVyRGF5ID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGtleTogJ3JvdW5kc1BlckRheScgfSkKICAgIGJ5dGVjIDcgLy8gInJvdW5kc1BlckRheSIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6MzgzCiAgICAvLyBjb25zdCByb3VuZHNMZWZ0SW5CaW46IHVpbnQ2NCA9IHRoaXMuYmluUm91bmRTdGFydC52YWx1ZSArIHRoaXMucm91bmRzUGVyRGF5LnZhbHVlIC0gR2xvYmFsLnJvdW5kCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgKwogICAgZ2xvYmFsIFJvdW5kCiAgICAtCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjM4NAogICAgLy8gY29uc3Qgc3VidHJhY3RBbW91bnQgPSBCaWdVaW50KGFtb3VudFRvVW5zdGFrZSAqIHJvdW5kc0xlZnRJbkJpbikKICAgIGZyYW1lX2RpZyAtMQogICAgKgogICAgaXRvYgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czozODUKICAgIC8vIHRoaXMuc3Rha2VBY2N1bXVsYXRvci52YWx1ZSA9IG5ldyBVaW50MTI4KHRoaXMuc3Rha2VBY2N1bXVsYXRvci52YWx1ZS5uYXRpdmUgLSBzdWJ0cmFjdEFtb3VudCkKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjk5CiAgICAvLyBzdGFrZUFjY3VtdWxhdG9yID0gR2xvYmFsU3RhdGU8VWludDEyOD4oeyBrZXk6ICdzdGFrZUFjY3VtdWxhdG9yJyB9KQogICAgYnl0ZWMgNiAvLyAic3Rha2VBY2N1bXVsYXRvciIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6Mzg1CiAgICAvLyB0aGlzLnN0YWtlQWNjdW11bGF0b3IudmFsdWUgPSBuZXcgVWludDEyOCh0aGlzLnN0YWtlQWNjdW11bGF0b3IudmFsdWUubmF0aXZlIC0gc3VidHJhY3RBbW91bnQpCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgc3dhcAogICAgYi0KICAgIGR1cAogICAgbGVuCiAgICBwdXNoaW50IDE2IC8vIDE2CiAgICA8PQogICAgYXNzZXJ0IC8vIG92ZXJmbG93CiAgICBwdXNoaW50IDE2IC8vIDE2CiAgICBiemVybwogICAgYnwKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6OTkKICAgIC8vIHN0YWtlQWNjdW11bGF0b3IgPSBHbG9iYWxTdGF0ZTxVaW50MTI4Pih7IGtleTogJ3N0YWtlQWNjdW11bGF0b3InIH0pCiAgICBieXRlYyA2IC8vICJzdGFrZUFjY3VtdWxhdG9yIgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czozODUKICAgIC8vIHRoaXMuc3Rha2VBY2N1bXVsYXRvci52YWx1ZSA9IG5ldyBVaW50MTI4KHRoaXMuc3Rha2VBY2N1bXVsYXRvci52YWx1ZS5uYXRpdmUgLSBzdWJ0cmFjdEFtb3VudCkKICAgIHN3YXAKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjM5MC0zOTkKICAgIC8vIGFiaUNhbGwoVmFsaWRhdG9yUmVnaXN0cnlBQkkucHJvdG90eXBlLnN0YWtlUmVtb3ZlZCwgewogICAgLy8gICBhcHBJZDogdGhpcy5jcmVhdGluZ1ZhbGlkYXRvckNvbnRyYWN0QXBwSWQudmFsdWUsCiAgICAvLyAgIGFyZ3M6IFsKICAgIC8vICAgICB7IGlkOiB0aGlzLnZhbGlkYXRvcklkLnZhbHVlLCBwb29sSWQ6IHRoaXMucG9vbElkLnZhbHVlLCBwb29sQXBwSWQ6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25JZC5pZCB9LAogICAgLy8gICAgIHN0YWtlciwKICAgIC8vICAgICBhbW91bnRUb1Vuc3Rha2UsCiAgICAvLyAgICAgYW1vdW50UmV3YXJkVG9rZW5SZW1vdmVkLAogICAgLy8gICAgIHN0YWtlclJlbW92ZWQsCiAgICAvLyAgIF0sCiAgICAvLyB9KQogICAgaXR4bl9iZWdpbgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czozOTEKICAgIC8vIGFwcElkOiB0aGlzLmNyZWF0aW5nVmFsaWRhdG9yQ29udHJhY3RBcHBJZC52YWx1ZSwKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjY1CiAgICAvLyBjcmVhdGluZ1ZhbGlkYXRvckNvbnRyYWN0QXBwSWQgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KHsga2V5OiAnY3JlYXRvckFwcCcgfSkKICAgIGJ5dGVjXzEgLy8gImNyZWF0b3JBcHAiCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjM5MQogICAgLy8gYXBwSWQ6IHRoaXMuY3JlYXRpbmdWYWxpZGF0b3JDb250cmFjdEFwcElkLnZhbHVlLAogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6MzkzCiAgICAvLyB7IGlkOiB0aGlzLnZhbGlkYXRvcklkLnZhbHVlLCBwb29sSWQ6IHRoaXMucG9vbElkLnZhbHVlLCBwb29sQXBwSWQ6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25JZC5pZCB9LAogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6NjgKICAgIC8vIHZhbGlkYXRvcklkID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGtleTogJ3ZhbGlkYXRvcklkJyB9KQogICAgYnl0ZWNfMyAvLyAidmFsaWRhdG9ySWQiCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjM5MwogICAgLy8geyBpZDogdGhpcy52YWxpZGF0b3JJZC52YWx1ZSwgcG9vbElkOiB0aGlzLnBvb2xJZC52YWx1ZSwgcG9vbEFwcElkOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uSWQuaWQgfSwKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo3MQogICAgLy8gcG9vbElkID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGtleTogJ3Bvb2xJZCcgfSkKICAgIGJ5dGVjIDQgLy8gInBvb2xJZCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6MzkzCiAgICAvLyB7IGlkOiB0aGlzLnZhbGlkYXRvcklkLnZhbHVlLCBwb29sSWQ6IHRoaXMucG9vbElkLnZhbHVlLCBwb29sQXBwSWQ6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25JZC5pZCB9LAogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGdsb2JhbCBDdXJyZW50QXBwbGljYXRpb25JRAogICAgdW5jb3ZlciAyCiAgICBpdG9iCiAgICB1bmNvdmVyIDIKICAgIGl0b2IKICAgIGNvbmNhdAogICAgc3dhcAogICAgaXRvYgogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjM5NQogICAgLy8gYW1vdW50VG9VbnN0YWtlLAogICAgZnJhbWVfZGlnIC0xCiAgICBpdG9iCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjM5NgogICAgLy8gYW1vdW50UmV3YXJkVG9rZW5SZW1vdmVkLAogICAgZnJhbWVfZGlnIDIKICAgIGl0b2IKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6Mzk3CiAgICAvLyBzdGFrZXJSZW1vdmVkLAogICAgcHVzaGJ5dGVzIDB4MDAKICAgIGludGNfMCAvLyAwCiAgICBmcmFtZV9kaWcgNwogICAgc2V0Yml0CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjM5MC0zOTkKICAgIC8vIGFiaUNhbGwoVmFsaWRhdG9yUmVnaXN0cnlBQkkucHJvdG90eXBlLnN0YWtlUmVtb3ZlZCwgewogICAgLy8gICBhcHBJZDogdGhpcy5jcmVhdGluZ1ZhbGlkYXRvckNvbnRyYWN0QXBwSWQudmFsdWUsCiAgICAvLyAgIGFyZ3M6IFsKICAgIC8vICAgICB7IGlkOiB0aGlzLnZhbGlkYXRvcklkLnZhbHVlLCBwb29sSWQ6IHRoaXMucG9vbElkLnZhbHVlLCBwb29sQXBwSWQ6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25JZC5pZCB9LAogICAgLy8gICAgIHN0YWtlciwKICAgIC8vICAgICBhbW91bnRUb1Vuc3Rha2UsCiAgICAvLyAgICAgYW1vdW50UmV3YXJkVG9rZW5SZW1vdmVkLAogICAgLy8gICAgIHN0YWtlclJlbW92ZWQsCiAgICAvLyAgIF0sCiAgICAvLyB9KQogICAgYnl0ZWMgMjAgLy8gbWV0aG9kICJzdGFrZVJlbW92ZWQoKHVpbnQ2NCx1aW50NjQsdWludDY0KSxhZGRyZXNzLHVpbnQ2NCx1aW50NjQsYm9vbCl2b2lkIgogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbkFyZ3MKICAgIHVuY292ZXIgMwogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbkFyZ3MKICAgIGZyYW1lX2RpZyAtMgogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbkFyZ3MKICAgIHVuY292ZXIgMgogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbkFyZ3MKICAgIHN3YXAKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25BcmdzCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uQXJncwogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbklECiAgICBpbnRjXzMgLy8gYXBwbAogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgaW50Y18wIC8vIDAKICAgIGl0eG5fZmllbGQgRmVlCiAgICBpdHhuX3N1Ym1pdAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo0MDAKICAgIC8vIHJldHVybgogICAgcmV0c3ViCgpyZW1vdmVTdGFrZV9ib29sX2ZhbHNlQDE5OgogICAgaW50Y18wIC8vIDAKICAgIGIgcmVtb3ZlU3Rha2VfYm9vbF9tZXJnZUAyMAoKcmVtb3ZlU3Rha2VfZWxzZV9ib2R5QDE0OgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czozNTAKICAgIC8vIGNtcFN0YWtlci5yZXdhcmRUb2tlbkJhbGFuY2UgPSAwCiAgICBpbnRjXzAgLy8gMAogICAgaXRvYgogICAgZnJhbWVfZGlnIDAKICAgIHN3YXAKICAgIHJlcGxhY2UyIDQ4CiAgICBmcmFtZV9idXJ5IDAKICAgIGIgcmVtb3ZlU3Rha2VfYWZ0ZXJfaWZfZWxzZUAxNQoKcmVtb3ZlU3Rha2VfYWZ0ZXJfaWZfZWxzZUAyNToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6MzA5CiAgICAvLyBmb3IgKGxldCBpOiB1aW50NjQgPSAwOyBpIDwgdGhpcy5zdGFrZXJzLnZhbHVlLmxlbmd0aDsgaSArPSAxKSB7CiAgICBmcmFtZV9kaWcgNgogICAgaW50Y18xIC8vIDEKICAgICsKICAgIGZyYW1lX2J1cnkgNgogICAgYiByZW1vdmVTdGFrZV93aGlsZV90b3BAMwoKCi8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6OlN0YWtpbmdQb29sLmNsYWltVG9rZW5zKCkgLT4gdm9pZDoKY2xhaW1Ub2tlbnM6CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjQxMQogICAgLy8gY2xhaW1Ub2tlbnMoKTogdm9pZCB7CiAgICBwcm90byAwIDAKICAgIGludGNfMCAvLyAwCiAgICBkdXAKICAgIHB1c2hieXRlcyAiIgogICAgZHVwCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjQxNQogICAgLy8gY29uc3Qgc3Rha2VyID0gVHhuLnNlbmRlcgogICAgdHhuIFNlbmRlcgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo0MTcKICAgIC8vIGZvciAobGV0IGk6IHVpbnQ2NCA9IDA7IGkgPCB0aGlzLnN0YWtlcnMudmFsdWUubGVuZ3RoOyBpICs9IDEpIHsKICAgIGludGNfMCAvLyAwCgpjbGFpbVRva2Vuc193aGlsZV90b3BAMToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6OTEKICAgIC8vIHN0YWtlcnMgPSBCb3g8Rml4ZWRBcnJheTxTdGFrZWRJbmZvLCB0eXBlb2YgTUFYX1NUQUtFUlNfUEVSX1BPT0w+Pih7IGtleTogJ3N0YWtlcnMnIH0pCiAgICBieXRlY18wIC8vICJzdGFrZXJzIgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo0MTcKICAgIC8vIGZvciAobGV0IGk6IHVpbnQ2NCA9IDA7IGkgPCB0aGlzLnN0YWtlcnMudmFsdWUubGVuZ3RoOyBpICs9IDEpIHsKICAgIGJveF9sZW4KICAgIGJ1cnkgMQogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIGZyYW1lX2RpZyA1CiAgICBkdXAKICAgIGludGMgNCAvLyAyMDAKICAgIDwKICAgIGFzc2VydCAvLyBhY2NvdW50IG5vdCBmb3VuZAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo0MTgKICAgIC8vIGVuc3VyZUJ1ZGdldCgzMDApCiAgICBpbnRjIDcgLy8gMzAwCiAgICBpbnRjXzAgLy8gMAogICAgY2FsbHN1YiBlbnN1cmVfYnVkZ2V0CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjQyMAogICAgLy8gY29uc3QgY21wU3Rha2VyID0gY2xvbmUodGhpcy5zdGFrZXJzLnZhbHVlW2ldKQogICAgaW50Y18yIC8vIDY0CiAgICAqCiAgICBkdXAKICAgIGZyYW1lX2J1cnkgMwogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo5MQogICAgLy8gc3Rha2VycyA9IEJveDxGaXhlZEFycmF5PFN0YWtlZEluZm8sIHR5cGVvZiBNQVhfU1RBS0VSU19QRVJfUE9PTD4+KHsga2V5OiAnc3Rha2VycycgfSkKICAgIGJ5dGVjXzAgLy8gInN0YWtlcnMiCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjQyMAogICAgLy8gY29uc3QgY21wU3Rha2VyID0gY2xvbmUodGhpcy5zdGFrZXJzLnZhbHVlW2ldKQogICAgc3dhcAogICAgaW50Y18yIC8vIDY0CiAgICBib3hfZXh0cmFjdAogICAgZHVwCiAgICBmcmFtZV9idXJ5IDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6NDIwLTQyMQogICAgLy8gY29uc3QgY21wU3Rha2VyID0gY2xvbmUodGhpcy5zdGFrZXJzLnZhbHVlW2ldKQogICAgLy8gaWYgKGNtcFN0YWtlci5hY2NvdW50Lm5hdGl2ZSA9PT0gc3Rha2VyKSB7CiAgICBleHRyYWN0IDAgMzIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6NDIxCiAgICAvLyBpZiAoY21wU3Rha2VyLmFjY291bnQubmF0aXZlID09PSBzdGFrZXIpIHsKICAgIGZyYW1lX2RpZyA0CiAgICA9PQogICAgYnogY2xhaW1Ub2tlbnNfYWZ0ZXJfaWZfZWxzZUAxMgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo5MQogICAgLy8gc3Rha2VycyA9IEJveDxGaXhlZEFycmF5PFN0YWtlZEluZm8sIHR5cGVvZiBNQVhfU1RBS0VSU19QRVJfUE9PTD4+KHsga2V5OiAnc3Rha2VycycgfSkKICAgIGJ5dGVjXzAgLy8gInN0YWtlcnMiCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjQyMAogICAgLy8gY29uc3QgY21wU3Rha2VyID0gY2xvbmUodGhpcy5zdGFrZXJzLnZhbHVlW2ldKQogICAgZnJhbWVfZGlnIDMKICAgIGludGNfMiAvLyA2NAogICAgYm94X2V4dHJhY3QKICAgIGR1cAogICAgZXh0cmFjdCA0OCA4CiAgICBmcmFtZV9idXJ5IDAKICAgIHB1c2hpbnQgNDggLy8gNDgKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6NDIyCiAgICAvLyBpZiAoY21wU3Rha2VyLnJld2FyZFRva2VuQmFsYW5jZSA9PT0gMCkgewogICAgZXh0cmFjdF91aW50NjQKICAgIGR1cAogICAgZnJhbWVfYnVyeSAyCiAgICBibnogY2xhaW1Ub2tlbnNfYWZ0ZXJfaWZfZWxzZUA1CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjQyMwogICAgLy8gcmV0dXJuCiAgICByZXRzdWIKCmNsYWltVG9rZW5zX2FmdGVyX2lmX2Vsc2VANToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6NDI3CiAgICAvLyBpZiAodGhpcy5wb29sSWQudmFsdWUgPT09IDEpIHsKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjcxCiAgICAvLyBwb29sSWQgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KHsga2V5OiAncG9vbElkJyB9KQogICAgYnl0ZWMgNCAvLyAicG9vbElkIgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo0MjcKICAgIC8vIGlmICh0aGlzLnBvb2xJZC52YWx1ZSA9PT0gMSkgewogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGludGNfMSAvLyAxCiAgICA9PQogICAgYnogY2xhaW1Ub2tlbnNfZWxzZV9ib2R5QDkKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6NDI4LTQzMQogICAgLy8gY29uc3QgdmFsaWRhdG9yQ29uZmlnID0gYWJpQ2FsbChWYWxpZGF0b3JSZWdpc3RyeUFCSS5wcm90b3R5cGUuZ2V0VmFsaWRhdG9yQ29uZmlnLCB7CiAgICAvLyAgIGFwcElkOiB0aGlzLmNyZWF0aW5nVmFsaWRhdG9yQ29udHJhY3RBcHBJZC52YWx1ZSwKICAgIC8vICAgYXJnczogW3RoaXMudmFsaWRhdG9ySWQudmFsdWVdLAogICAgLy8gfSkucmV0dXJuVmFsdWUgLy8gLS0tLS0tLS0tCiAgICBpdHhuX2JlZ2luCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjQyOQogICAgLy8gYXBwSWQ6IHRoaXMuY3JlYXRpbmdWYWxpZGF0b3JDb250cmFjdEFwcElkLnZhbHVlLAogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6NjUKICAgIC8vIGNyZWF0aW5nVmFsaWRhdG9yQ29udHJhY3RBcHBJZCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oeyBrZXk6ICdjcmVhdG9yQXBwJyB9KQogICAgYnl0ZWNfMSAvLyAiY3JlYXRvckFwcCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6NDI5CiAgICAvLyBhcHBJZDogdGhpcy5jcmVhdGluZ1ZhbGlkYXRvckNvbnRyYWN0QXBwSWQudmFsdWUsCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo0MzAKICAgIC8vIGFyZ3M6IFt0aGlzLnZhbGlkYXRvcklkLnZhbHVlXSwKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjY4CiAgICAvLyB2YWxpZGF0b3JJZCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oeyBrZXk6ICd2YWxpZGF0b3JJZCcgfSkKICAgIGJ5dGVjXzMgLy8gInZhbGlkYXRvcklkIgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo0MzAKICAgIC8vIGFyZ3M6IFt0aGlzLnZhbGlkYXRvcklkLnZhbHVlXSwKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBpdG9iCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjQyOC00MzEKICAgIC8vIGNvbnN0IHZhbGlkYXRvckNvbmZpZyA9IGFiaUNhbGwoVmFsaWRhdG9yUmVnaXN0cnlBQkkucHJvdG90eXBlLmdldFZhbGlkYXRvckNvbmZpZywgewogICAgLy8gICBhcHBJZDogdGhpcy5jcmVhdGluZ1ZhbGlkYXRvckNvbnRyYWN0QXBwSWQudmFsdWUsCiAgICAvLyAgIGFyZ3M6IFt0aGlzLnZhbGlkYXRvcklkLnZhbHVlXSwKICAgIC8vIH0pLnJldHVyblZhbHVlIC8vIC0tLS0tLS0tLQogICAgYnl0ZWMgMTIgLy8gbWV0aG9kICJnZXRWYWxpZGF0b3JDb25maWcodWludDY0KSh1aW50NjQsYWRkcmVzcyxhZGRyZXNzLHVpbnQ2NCx1aW50OCxhZGRyZXNzLHVpbnQ2NFs0XSx1aW50NjQsdWludDY0LHVpbnQ2NCx1aW50MzIsdWludDMyLGFkZHJlc3MsdWludDY0LHVpbnQ2NCx1aW50OCx1aW50NjQsdWludDY0KSIKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25BcmdzCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uQXJncwogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbklECiAgICBpbnRjXzMgLy8gYXBwbAogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgaW50Y18wIC8vIDAKICAgIGl0eG5fZmllbGQgRmVlCiAgICBpdHhuX3N1Ym1pdAogICAgaXR4biBMYXN0TG9nCiAgICBkdXAKICAgIGV4dHJhY3QgMCA0CiAgICBieXRlY18yIC8vIDB4MTUxZjdjNzUKICAgID09CiAgICBhc3NlcnQgLy8gQnl0ZXMgaGFzIHZhbGlkIHByZWZpeAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo0MzQtNDQwCiAgICAvLyBpdHhuCiAgICAvLyAgIC5hc3NldFRyYW5zZmVyKHsKICAgIC8vICAgICB4ZmVyQXNzZXQ6IHZhbGlkYXRvckNvbmZpZy5yZXdhcmRUb2tlbklkLAogICAgLy8gICAgIGFzc2V0UmVjZWl2ZXI6IHN0YWtlciwKICAgIC8vICAgICBhc3NldEFtb3VudDogY21wU3Rha2VyLnJld2FyZFRva2VuQmFsYW5jZSwKICAgIC8vICAgfSkKICAgIC8vICAgLnN1Ym1pdCgpCiAgICBpdHhuX2JlZ2luCiAgICBpbnRjIDYgLy8gMTU3CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjQzNgogICAgLy8geGZlckFzc2V0OiB2YWxpZGF0b3JDb25maWcucmV3YXJkVG9rZW5JZCwKICAgIGV4dHJhY3RfdWludDY0CiAgICBmcmFtZV9kaWcgMgogICAgaXR4bl9maWVsZCBBc3NldEFtb3VudAogICAgZnJhbWVfZGlnIDQKICAgIGl0eG5fZmllbGQgQXNzZXRSZWNlaXZlcgogICAgaXR4bl9maWVsZCBYZmVyQXNzZXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6NDM0LTQzOQogICAgLy8gaXR4bgogICAgLy8gICAuYXNzZXRUcmFuc2Zlcih7CiAgICAvLyAgICAgeGZlckFzc2V0OiB2YWxpZGF0b3JDb25maWcucmV3YXJkVG9rZW5JZCwKICAgIC8vICAgICBhc3NldFJlY2VpdmVyOiBzdGFrZXIsCiAgICAvLyAgICAgYXNzZXRBbW91bnQ6IGNtcFN0YWtlci5yZXdhcmRUb2tlbkJhbGFuY2UsCiAgICAvLyAgIH0pCiAgICBwdXNoaW50IDQgLy8gNAogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgaW50Y18wIC8vIDAKICAgIGl0eG5fZmllbGQgRmVlCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjQzNC00NDAKICAgIC8vIGl0eG4KICAgIC8vICAgLmFzc2V0VHJhbnNmZXIoewogICAgLy8gICAgIHhmZXJBc3NldDogdmFsaWRhdG9yQ29uZmlnLnJld2FyZFRva2VuSWQsCiAgICAvLyAgICAgYXNzZXRSZWNlaXZlcjogc3Rha2VyLAogICAgLy8gICAgIGFzc2V0QW1vdW50OiBjbXBTdGFrZXIucmV3YXJkVG9rZW5CYWxhbmNlLAogICAgLy8gICB9KQogICAgLy8gICAuc3VibWl0KCkKICAgIGl0eG5fc3VibWl0CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjQ0MgogICAgLy8gY21wU3Rha2VyLnJld2FyZFRva2VuQmFsYW5jZSA9IDAKICAgIGludGNfMCAvLyAwCiAgICBpdG9iCiAgICBmcmFtZV9kaWcgMQogICAgc3dhcAogICAgcmVwbGFjZTIgNDgKICAgIGZyYW1lX2J1cnkgMQoKY2xhaW1Ub2tlbnNfYWZ0ZXJfaWZfZWxzZUAxMDoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6OTEKICAgIC8vIHN0YWtlcnMgPSBCb3g8Rml4ZWRBcnJheTxTdGFrZWRJbmZvLCB0eXBlb2YgTUFYX1NUQUtFUlNfUEVSX1BPT0w+Pih7IGtleTogJ3N0YWtlcnMnIH0pCiAgICBieXRlY18wIC8vICJzdGFrZXJzIgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo0NTIKICAgIC8vIHRoaXMuc3Rha2Vycy52YWx1ZVtpXSA9IGNsb25lKGNtcFN0YWtlcikKICAgIGZyYW1lX2RpZyAzCiAgICBmcmFtZV9kaWcgMQogICAgYm94X3JlcGxhY2UKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6NDU3LTQ2NgogICAgLy8gYWJpQ2FsbChWYWxpZGF0b3JSZWdpc3RyeUFCSS5wcm90b3R5cGUuc3Rha2VSZW1vdmVkLCB7CiAgICAvLyAgIGFwcElkOiB0aGlzLmNyZWF0aW5nVmFsaWRhdG9yQ29udHJhY3RBcHBJZC52YWx1ZSwKICAgIC8vICAgYXJnczogWwogICAgLy8gICAgIHsgaWQ6IHRoaXMudmFsaWRhdG9ySWQudmFsdWUsIHBvb2xJZDogdGhpcy5wb29sSWQudmFsdWUsIHBvb2xBcHBJZDogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbklkLmlkIH0sCiAgICAvLyAgICAgbmV3IEFkZHJlc3Moc3Rha2VyKSwKICAgIC8vICAgICAwLCAvLyBubyBhbGdvIHJlbW92ZWQKICAgIC8vICAgICBhbW91bnRSZXdhcmRUb2tlblJlbW92ZWQsCiAgICAvLyAgICAgZmFsc2UsIC8vIHN0YWtlciBpc24ndCBiZWluZyByZW1vdmVkLgogICAgLy8gICBdLAogICAgLy8gfSkKICAgIGl0eG5fYmVnaW4KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6NDU4CiAgICAvLyBhcHBJZDogdGhpcy5jcmVhdGluZ1ZhbGlkYXRvckNvbnRyYWN0QXBwSWQudmFsdWUsCiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo2NQogICAgLy8gY3JlYXRpbmdWYWxpZGF0b3JDb250cmFjdEFwcElkID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGtleTogJ2NyZWF0b3JBcHAnIH0pCiAgICBieXRlY18xIC8vICJjcmVhdG9yQXBwIgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo0NTgKICAgIC8vIGFwcElkOiB0aGlzLmNyZWF0aW5nVmFsaWRhdG9yQ29udHJhY3RBcHBJZC52YWx1ZSwKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjQ2MAogICAgLy8geyBpZDogdGhpcy52YWxpZGF0b3JJZC52YWx1ZSwgcG9vbElkOiB0aGlzLnBvb2xJZC52YWx1ZSwgcG9vbEFwcElkOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uSWQuaWQgfSwKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjY4CiAgICAvLyB2YWxpZGF0b3JJZCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oeyBrZXk6ICd2YWxpZGF0b3JJZCcgfSkKICAgIGJ5dGVjXzMgLy8gInZhbGlkYXRvcklkIgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo0NjAKICAgIC8vIHsgaWQ6IHRoaXMudmFsaWRhdG9ySWQudmFsdWUsIHBvb2xJZDogdGhpcy5wb29sSWQudmFsdWUsIHBvb2xBcHBJZDogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbklkLmlkIH0sCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6NzEKICAgIC8vIHBvb2xJZCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oeyBrZXk6ICdwb29sSWQnIH0pCiAgICBieXRlYyA0IC8vICJwb29sSWQiCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjQ2MAogICAgLy8geyBpZDogdGhpcy52YWxpZGF0b3JJZC52YWx1ZSwgcG9vbElkOiB0aGlzLnBvb2xJZC52YWx1ZSwgcG9vbEFwcElkOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uSWQuaWQgfSwKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBnbG9iYWwgQ3VycmVudEFwcGxpY2F0aW9uSUQKICAgIHVuY292ZXIgMgogICAgaXRvYgogICAgdW5jb3ZlciAyCiAgICBpdG9iCiAgICBjb25jYXQKICAgIHN3YXAKICAgIGl0b2IKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo0NjIKICAgIC8vIDAsIC8vIG5vIGFsZ28gcmVtb3ZlZAogICAgaW50Y18wIC8vIDAKICAgIGl0b2IKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6NDU3LTQ2NgogICAgLy8gYWJpQ2FsbChWYWxpZGF0b3JSZWdpc3RyeUFCSS5wcm90b3R5cGUuc3Rha2VSZW1vdmVkLCB7CiAgICAvLyAgIGFwcElkOiB0aGlzLmNyZWF0aW5nVmFsaWRhdG9yQ29udHJhY3RBcHBJZC52YWx1ZSwKICAgIC8vICAgYXJnczogWwogICAgLy8gICAgIHsgaWQ6IHRoaXMudmFsaWRhdG9ySWQudmFsdWUsIHBvb2xJZDogdGhpcy5wb29sSWQudmFsdWUsIHBvb2xBcHBJZDogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbklkLmlkIH0sCiAgICAvLyAgICAgbmV3IEFkZHJlc3Moc3Rha2VyKSwKICAgIC8vICAgICAwLCAvLyBubyBhbGdvIHJlbW92ZWQKICAgIC8vICAgICBhbW91bnRSZXdhcmRUb2tlblJlbW92ZWQsCiAgICAvLyAgICAgZmFsc2UsIC8vIHN0YWtlciBpc24ndCBiZWluZyByZW1vdmVkLgogICAgLy8gICBdLAogICAgLy8gfSkKICAgIGJ5dGVjIDIwIC8vIG1ldGhvZCAic3Rha2VSZW1vdmVkKCh1aW50NjQsdWludDY0LHVpbnQ2NCksYWRkcmVzcyx1aW50NjQsdWludDY0LGJvb2wpdm9pZCIKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25BcmdzCiAgICBzd2FwCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uQXJncwogICAgZnJhbWVfZGlnIDQKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25BcmdzCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uQXJncwogICAgZnJhbWVfZGlnIDAKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25BcmdzCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjQ2NAogICAgLy8gZmFsc2UsIC8vIHN0YWtlciBpc24ndCBiZWluZyByZW1vdmVkLgogICAgcHVzaGJ5dGVzIDB4MDAKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25BcmdzCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uSUQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6NDU3LTQ2NgogICAgLy8gYWJpQ2FsbChWYWxpZGF0b3JSZWdpc3RyeUFCSS5wcm90b3R5cGUuc3Rha2VSZW1vdmVkLCB7CiAgICAvLyAgIGFwcElkOiB0aGlzLmNyZWF0aW5nVmFsaWRhdG9yQ29udHJhY3RBcHBJZC52YWx1ZSwKICAgIC8vICAgYXJnczogWwogICAgLy8gICAgIHsgaWQ6IHRoaXMudmFsaWRhdG9ySWQudmFsdWUsIHBvb2xJZDogdGhpcy5wb29sSWQudmFsdWUsIHBvb2xBcHBJZDogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbklkLmlkIH0sCiAgICAvLyAgICAgbmV3IEFkZHJlc3Moc3Rha2VyKSwKICAgIC8vICAgICAwLCAvLyBubyBhbGdvIHJlbW92ZWQKICAgIC8vICAgICBhbW91bnRSZXdhcmRUb2tlblJlbW92ZWQsCiAgICAvLyAgICAgZmFsc2UsIC8vIHN0YWtlciBpc24ndCBiZWluZyByZW1vdmVkLgogICAgLy8gICBdLAogICAgLy8gfSkKICAgIGludGNfMyAvLyBhcHBsCiAgICBpdHhuX2ZpZWxkIFR5cGVFbnVtCiAgICBpbnRjXzAgLy8gMAogICAgaXR4bl9maWVsZCBGZWUKICAgIGl0eG5fc3VibWl0CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjQ2NwogICAgLy8gcmV0dXJuCiAgICByZXRzdWIKCmNsYWltVG9rZW5zX2Vsc2VfYm9keUA5OgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo0NDgKICAgIC8vIGNtcFN0YWtlci5yZXdhcmRUb2tlbkJhbGFuY2UgPSAwCiAgICBpbnRjXzAgLy8gMAogICAgaXRvYgogICAgZnJhbWVfZGlnIDEKICAgIHN3YXAKICAgIHJlcGxhY2UyIDQ4CiAgICBmcmFtZV9idXJ5IDEKICAgIGIgY2xhaW1Ub2tlbnNfYWZ0ZXJfaWZfZWxzZUAxMAoKY2xhaW1Ub2tlbnNfYWZ0ZXJfaWZfZWxzZUAxMjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6NDE3CiAgICAvLyBmb3IgKGxldCBpOiB1aW50NjQgPSAwOyBpIDwgdGhpcy5zdGFrZXJzLnZhbHVlLmxlbmd0aDsgaSArPSAxKSB7CiAgICBmcmFtZV9kaWcgNQogICAgaW50Y18xIC8vIDEKICAgICsKICAgIGZyYW1lX2J1cnkgNQogICAgYiBjbGFpbVRva2Vuc193aGlsZV90b3BAMQoKCi8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6OlN0YWtpbmdQb29sLmdldFN0YWtlckluZm8oc3Rha2VyOiBieXRlcykgLT4gYnl0ZXM6CmdldFN0YWtlckluZm86CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjQ4MQogICAgLy8gZ2V0U3Rha2VySW5mbyhzdGFrZXI6IEFkZHJlc3MpOiBTdGFrZWRJbmZvIHsKICAgIHByb3RvIDEgMQogICAgcHVzaGJ5dGVzICIiCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjQ4MgogICAgLy8gZm9yIChsZXQgaTogdWludDY0ID0gMDsgaSA8IHRoaXMuc3Rha2Vycy52YWx1ZS5sZW5ndGg7IGkgKz0gMSkgewogICAgaW50Y18wIC8vIDAKCmdldFN0YWtlckluZm9fd2hpbGVfdG9wQDE6CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjkxCiAgICAvLyBzdGFrZXJzID0gQm94PEZpeGVkQXJyYXk8U3Rha2VkSW5mbywgdHlwZW9mIE1BWF9TVEFLRVJTX1BFUl9QT09MPj4oeyBrZXk6ICdzdGFrZXJzJyB9KQogICAgYnl0ZWNfMCAvLyAic3Rha2VycyIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6NDgyCiAgICAvLyBmb3IgKGxldCBpOiB1aW50NjQgPSAwOyBpIDwgdGhpcy5zdGFrZXJzLnZhbHVlLmxlbmd0aDsgaSArPSAxKSB7CiAgICBib3hfbGVuCiAgICBidXJ5IDEKICAgIGFzc2VydCAvLyBCb3ggbXVzdCBoYXZlIHZhbHVlCiAgICBmcmFtZV9kaWcgMQogICAgZHVwCiAgICBpbnRjIDQgLy8gMjAwCiAgICA8CiAgICBhc3NlcnQgLy8gYWNjb3VudCBub3QgZm91bmQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6NDgzCiAgICAvLyBlbnN1cmVCdWRnZXQoMjAwKQogICAgaW50YyA0IC8vIDIwMAogICAgaW50Y18wIC8vIDAKICAgIGNhbGxzdWIgZW5zdXJlX2J1ZGdldAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo0ODQKICAgIC8vIGlmICh0aGlzLnN0YWtlcnMudmFsdWVbaV0uYWNjb3VudCA9PT0gc3Rha2VyKSB7CiAgICBpbnRjXzIgLy8gNjQKICAgICoKICAgIGR1cAogICAgZnJhbWVfYnVyeSAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjkxCiAgICAvLyBzdGFrZXJzID0gQm94PEZpeGVkQXJyYXk8U3Rha2VkSW5mbywgdHlwZW9mIE1BWF9TVEFLRVJTX1BFUl9QT09MPj4oeyBrZXk6ICdzdGFrZXJzJyB9KQogICAgYnl0ZWNfMCAvLyAic3Rha2VycyIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6NDg0CiAgICAvLyBpZiAodGhpcy5zdGFrZXJzLnZhbHVlW2ldLmFjY291bnQgPT09IHN0YWtlcikgewogICAgc3dhcAogICAgaW50Y18yIC8vIDY0CiAgICBib3hfZXh0cmFjdAogICAgZXh0cmFjdCAwIDMyCiAgICBmcmFtZV9kaWcgLTEKICAgID09CiAgICBieiBnZXRTdGFrZXJJbmZvX2FmdGVyX2lmX2Vsc2VANAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo5MQogICAgLy8gc3Rha2VycyA9IEJveDxGaXhlZEFycmF5PFN0YWtlZEluZm8sIHR5cGVvZiBNQVhfU1RBS0VSU19QRVJfUE9PTD4+KHsga2V5OiAnc3Rha2VycycgfSkKICAgIGJ5dGVjXzAgLy8gInN0YWtlcnMiCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjQ4NQogICAgLy8gcmV0dXJuIHRoaXMuc3Rha2Vycy52YWx1ZVtpXQogICAgZnJhbWVfZGlnIDAKICAgIGludGNfMiAvLyA2NAogICAgYm94X2V4dHJhY3QKICAgIGZyYW1lX2J1cnkgMAogICAgcmV0c3ViCgpnZXRTdGFrZXJJbmZvX2FmdGVyX2lmX2Vsc2VANDoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6NDgyCiAgICAvLyBmb3IgKGxldCBpOiB1aW50NjQgPSAwOyBpIDwgdGhpcy5zdGFrZXJzLnZhbHVlLmxlbmd0aDsgaSArPSAxKSB7CiAgICBmcmFtZV9kaWcgMQogICAgaW50Y18xIC8vIDEKICAgICsKICAgIGZyYW1lX2J1cnkgMQogICAgYiBnZXRTdGFrZXJJbmZvX3doaWxlX3RvcEAxCgoKLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo6U3Rha2luZ1Bvb2wucGF5VG9rZW5SZXdhcmQoc3Rha2VyOiBieXRlcywgcmV3YXJkVG9rZW46IHVpbnQ2NCwgYW1vdW50VG9TZW5kOiB1aW50NjQpIC0+IHZvaWQ6CnBheVRva2VuUmV3YXJkOgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo1MDEKICAgIC8vIHBheVRva2VuUmV3YXJkKHN0YWtlcjogQWRkcmVzcywgcmV3YXJkVG9rZW46IHVpbnQ2NCwgYW1vdW50VG9TZW5kOiB1aW50NjQpOiB2b2lkIHsKICAgIHByb3RvIDMgMAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo1MDQKICAgIC8vIFR4bi5zZW5kZXIgPT09IEFwcGxpY2F0aW9uKHRoaXMuY3JlYXRpbmdWYWxpZGF0b3JDb250cmFjdEFwcElkLnZhbHVlKS5hZGRyZXNzLAogICAgdHhuIFNlbmRlcgogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6NjUKICAgIC8vIGNyZWF0aW5nVmFsaWRhdG9yQ29udHJhY3RBcHBJZCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oeyBrZXk6ICdjcmVhdG9yQXBwJyB9KQogICAgYnl0ZWNfMSAvLyAiY3JlYXRvckFwcCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6NTA0CiAgICAvLyBUeG4uc2VuZGVyID09PSBBcHBsaWNhdGlvbih0aGlzLmNyZWF0aW5nVmFsaWRhdG9yQ29udHJhY3RBcHBJZC52YWx1ZSkuYWRkcmVzcywKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBhcHBfcGFyYW1zX2dldCBBcHBBZGRyZXNzCiAgICBhc3NlcnQgLy8gYXBwbGljYXRpb24gZXhpc3RzCiAgICA9PQogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo1MDMtNTA2CiAgICAvLyBhc3NlcnQoCiAgICAvLyAgIFR4bi5zZW5kZXIgPT09IEFwcGxpY2F0aW9uKHRoaXMuY3JlYXRpbmdWYWxpZGF0b3JDb250cmFjdEFwcElkLnZhbHVlKS5hZGRyZXNzLAogICAgLy8gICAndGhpcyBjYW4gb25seSBiZSBjYWxsZWQgdmlhIHRoZSB2YWxpZGF0b3IgY29udHJhY3QnLAogICAgLy8gKQogICAgYXNzZXJ0IC8vIHRoaXMgY2FuIG9ubHkgYmUgY2FsbGVkIHZpYSB0aGUgdmFsaWRhdG9yIGNvbnRyYWN0CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjUwNwogICAgLy8gYXNzZXJ0KHRoaXMucG9vbElkLnZhbHVlID09PSAxLCAnbXVzdCBiZSBwb29sIDEgaW4gb3JkZXIgdG8gYmUgY2FsbGVkIHRvIHBheSBvdXQgdG9rZW4gcmV3YXJkcycpCiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo3MQogICAgLy8gcG9vbElkID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGtleTogJ3Bvb2xJZCcgfSkKICAgIGJ5dGVjIDQgLy8gInBvb2xJZCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6NTA3CiAgICAvLyBhc3NlcnQodGhpcy5wb29sSWQudmFsdWUgPT09IDEsICdtdXN0IGJlIHBvb2wgMSBpbiBvcmRlciB0byBiZSBjYWxsZWQgdG8gcGF5IG91dCB0b2tlbiByZXdhcmRzJykKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBpbnRjXzEgLy8gMQogICAgPT0KICAgIGFzc2VydCAvLyBtdXN0IGJlIHBvb2wgMSBpbiBvcmRlciB0byBiZSBjYWxsZWQgdG8gcGF5IG91dCB0b2tlbiByZXdhcmRzCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjUwOAogICAgLy8gYXNzZXJ0KHJld2FyZFRva2VuICE9PSAwLCAnY2FuIG9ubHkgY2xhaW0gdG9rZW4gcmV3YXJkcyBmcm9tIHZhbGlkYXRvciB0aGF0IGhhcyB0aGVtJykKICAgIGZyYW1lX2RpZyAtMgogICAgYXNzZXJ0IC8vIGNhbiBvbmx5IGNsYWltIHRva2VuIHJld2FyZHMgZnJvbSB2YWxpZGF0b3IgdGhhdCBoYXMgdGhlbQogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo1MTEtNTE3CiAgICAvLyBpdHhuCiAgICAvLyAgIC5hc3NldFRyYW5zZmVyKHsKICAgIC8vICAgICB4ZmVyQXNzZXQ6IHJld2FyZFRva2VuLAogICAgLy8gICAgIGFzc2V0UmVjZWl2ZXI6IHN0YWtlci5uYXRpdmUsCiAgICAvLyAgICAgYXNzZXRBbW91bnQ6IGFtb3VudFRvU2VuZCwKICAgIC8vICAgfSkKICAgIC8vICAgLnN1Ym1pdCgpCiAgICBpdHhuX2JlZ2luCiAgICBmcmFtZV9kaWcgLTEKICAgIGl0eG5fZmllbGQgQXNzZXRBbW91bnQKICAgIGZyYW1lX2RpZyAtMwogICAgaXR4bl9maWVsZCBBc3NldFJlY2VpdmVyCiAgICBmcmFtZV9kaWcgLTIKICAgIGl0eG5fZmllbGQgWGZlckFzc2V0CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjUxMS01MTYKICAgIC8vIGl0eG4KICAgIC8vICAgLmFzc2V0VHJhbnNmZXIoewogICAgLy8gICAgIHhmZXJBc3NldDogcmV3YXJkVG9rZW4sCiAgICAvLyAgICAgYXNzZXRSZWNlaXZlcjogc3Rha2VyLm5hdGl2ZSwKICAgIC8vICAgICBhc3NldEFtb3VudDogYW1vdW50VG9TZW5kLAogICAgLy8gICB9KQogICAgcHVzaGludCA0IC8vIDQKICAgIGl0eG5fZmllbGQgVHlwZUVudW0KICAgIGludGNfMCAvLyAwCiAgICBpdHhuX2ZpZWxkIEZlZQogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo1MTEtNTE3CiAgICAvLyBpdHhuCiAgICAvLyAgIC5hc3NldFRyYW5zZmVyKHsKICAgIC8vICAgICB4ZmVyQXNzZXQ6IHJld2FyZFRva2VuLAogICAgLy8gICAgIGFzc2V0UmVjZWl2ZXI6IHN0YWtlci5uYXRpdmUsCiAgICAvLyAgICAgYXNzZXRBbW91bnQ6IGFtb3VudFRvU2VuZCwKICAgIC8vICAgfSkKICAgIC8vICAgLnN1Ym1pdCgpCiAgICBpdHhuX3N1Ym1pdAogICAgcmV0c3ViCgoKLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo6U3Rha2luZ1Bvb2wudXBkYXRlQWxnb2RWZXIoYWxnb2RWZXI6IGJ5dGVzKSAtPiB2b2lkOgp1cGRhdGVBbGdvZFZlcjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6NTI5CiAgICAvLyB1cGRhdGVBbGdvZFZlcihhbGdvZFZlcjogc3RyaW5nKTogdm9pZCB7CiAgICBwcm90byAxIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6NTMwCiAgICAvLyBhc3NlcnQodGhpcy5pc093bmVyT3JNYW5hZ2VyQ2FsbGVyKCksICdjYW4gb25seSBiZSBjYWxsZWQgYnkgb3duZXIgb3IgbWFuYWdlciBvZiB2YWxpZGF0b3InKQogICAgY2FsbHN1YiBpc093bmVyT3JNYW5hZ2VyQ2FsbGVyCiAgICBhc3NlcnQgLy8gY2FuIG9ubHkgYmUgY2FsbGVkIGJ5IG93bmVyIG9yIG1hbmFnZXIgb2YgdmFsaWRhdG9yCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjg4CiAgICAvLyBhbGdvZFZlciA9IEdsb2JhbFN0YXRlPGJ5dGVzPih7IGtleTogJ2FsZ29kVmVyJyB9KQogICAgcHVzaGJ5dGVzICJhbGdvZFZlciIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6NTMxCiAgICAvLyB0aGlzLmFsZ29kVmVyLnZhbHVlID0gQnl0ZXMoYWxnb2RWZXIpCiAgICBmcmFtZV9kaWcgLTEKICAgIGFwcF9nbG9iYWxfcHV0CiAgICByZXRzdWIKCgovLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjpTdGFraW5nUG9vbC5lcG9jaEJhbGFuY2VVcGRhdGUoKSAtPiB2b2lkOgplcG9jaEJhbGFuY2VVcGRhdGU6CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjU0MgogICAgLy8gZXBvY2hCYWxhbmNlVXBkYXRlKCk6IHZvaWQgewogICAgcHJvdG8gMCAwCiAgICBpbnRjXzAgLy8gMAogICAgZHVwbiAzCiAgICBwdXNoYnl0ZXMgIiIKICAgIGR1cG4gMTYKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6NTQ0LTU0NwogICAgLy8gY29uc3QgdmFsaWRhdG9yQ29uZmlnID0gYWJpQ2FsbChWYWxpZGF0b3JSZWdpc3RyeUFCSS5wcm90b3R5cGUuZ2V0VmFsaWRhdG9yQ29uZmlnLCB7CiAgICAvLyAgIGFwcElkOiB0aGlzLmNyZWF0aW5nVmFsaWRhdG9yQ29udHJhY3RBcHBJZC52YWx1ZSwKICAgIC8vICAgYXJnczogW3RoaXMudmFsaWRhdG9ySWQudmFsdWVdLAogICAgLy8gfSkucmV0dXJuVmFsdWUKICAgIGl0eG5fYmVnaW4KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6NTQ1CiAgICAvLyBhcHBJZDogdGhpcy5jcmVhdGluZ1ZhbGlkYXRvckNvbnRyYWN0QXBwSWQudmFsdWUsCiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo2NQogICAgLy8gY3JlYXRpbmdWYWxpZGF0b3JDb250cmFjdEFwcElkID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGtleTogJ2NyZWF0b3JBcHAnIH0pCiAgICBieXRlY18xIC8vICJjcmVhdG9yQXBwIgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo1NDUKICAgIC8vIGFwcElkOiB0aGlzLmNyZWF0aW5nVmFsaWRhdG9yQ29udHJhY3RBcHBJZC52YWx1ZSwKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjU0NgogICAgLy8gYXJnczogW3RoaXMudmFsaWRhdG9ySWQudmFsdWVdLAogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6NjgKICAgIC8vIHZhbGlkYXRvcklkID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGtleTogJ3ZhbGlkYXRvcklkJyB9KQogICAgYnl0ZWNfMyAvLyAidmFsaWRhdG9ySWQiCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjU0NgogICAgLy8gYXJnczogW3RoaXMudmFsaWRhdG9ySWQudmFsdWVdLAogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGl0b2IKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6NTQ0LTU0NwogICAgLy8gY29uc3QgdmFsaWRhdG9yQ29uZmlnID0gYWJpQ2FsbChWYWxpZGF0b3JSZWdpc3RyeUFCSS5wcm90b3R5cGUuZ2V0VmFsaWRhdG9yQ29uZmlnLCB7CiAgICAvLyAgIGFwcElkOiB0aGlzLmNyZWF0aW5nVmFsaWRhdG9yQ29udHJhY3RBcHBJZC52YWx1ZSwKICAgIC8vICAgYXJnczogW3RoaXMudmFsaWRhdG9ySWQudmFsdWVdLAogICAgLy8gfSkucmV0dXJuVmFsdWUKICAgIGJ5dGVjIDEyIC8vIG1ldGhvZCAiZ2V0VmFsaWRhdG9yQ29uZmlnKHVpbnQ2NCkodWludDY0LGFkZHJlc3MsYWRkcmVzcyx1aW50NjQsdWludDgsYWRkcmVzcyx1aW50NjRbNF0sdWludDY0LHVpbnQ2NCx1aW50NjQsdWludDMyLHVpbnQzMixhZGRyZXNzLHVpbnQ2NCx1aW50NjQsdWludDgsdWludDY0LHVpbnQ2NCkiCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uQXJncwogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbkFyZ3MKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25JRAogICAgaW50Y18zIC8vIGFwcGwKICAgIGl0eG5fZmllbGQgVHlwZUVudW0KICAgIGludGNfMCAvLyAwCiAgICBpdHhuX2ZpZWxkIEZlZQogICAgaXR4bl9zdWJtaXQKICAgIGl0eG4gTGFzdExvZwogICAgZHVwbiAyCiAgICBleHRyYWN0IDAgNAogICAgYnl0ZWNfMiAvLyAweDE1MWY3Yzc1CiAgICA9PQogICAgYXNzZXJ0IC8vIEJ5dGVzIGhhcyB2YWxpZCBwcmVmaXgKICAgIHB1c2hpbnQgMTczIC8vIDE3MwogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo1NTMKICAgIC8vIGNvbnN0IGVwb2NoUm91bmRMZW5ndGggPSB2YWxpZGF0b3JDb25maWcuZXBvY2hSb3VuZExlbmd0aC5uYXRpdmUKICAgIGV4dHJhY3RfdWludDMyCiAgICBkdXAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6NTU0CiAgICAvLyBjb25zdCBjdXJSb3VuZCA9IEdsb2JhbC5yb3VuZAogICAgZ2xvYmFsIFJvdW5kCiAgICBkdXAKICAgIGNvdmVyIDIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6NTU1CiAgICAvLyBjb25zdCB0aGlzRXBvY2hCZWdpbjogdWludDY0ID0gY3VyUm91bmQgLSAoY3VyUm91bmQgJSBlcG9jaFJvdW5kTGVuZ3RoKQogICAgZHVwCiAgICB1bmNvdmVyIDIKICAgICUKICAgIC0KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6NTU4CiAgICAvLyBpZiAodGhpcy5sYXN0UGF5b3V0Lmhhc1ZhbHVlKSB7CiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo4MgogICAgLy8gbGFzdFBheW91dCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oeyBrZXk6ICdsYXN0UGF5b3V0JyB9KQogICAgYnl0ZWMgMTEgLy8gImxhc3RQYXlvdXQiCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjU1OAogICAgLy8gaWYgKHRoaXMubGFzdFBheW91dC5oYXNWYWx1ZSkgewogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGJ1cnkgMQogICAgYnogZXBvY2hCYWxhbmNlVXBkYXRlX2FmdGVyX2lmX2Vsc2VAMwogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo1NTkKICAgIC8vIGNvbnN0IGxhc3RQYXlvdXRFcG9jaDogdWludDY0ID0gdGhpcy5sYXN0UGF5b3V0LnZhbHVlIC0gKHRoaXMubGFzdFBheW91dC52YWx1ZSAlIGVwb2NoUm91bmRMZW5ndGgpCiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo4MgogICAgLy8gbGFzdFBheW91dCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oeyBrZXk6ICdsYXN0UGF5b3V0JyB9KQogICAgYnl0ZWMgMTEgLy8gImxhc3RQYXlvdXQiCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjU1OQogICAgLy8gY29uc3QgbGFzdFBheW91dEVwb2NoOiB1aW50NjQgPSB0aGlzLmxhc3RQYXlvdXQudmFsdWUgLSAodGhpcy5sYXN0UGF5b3V0LnZhbHVlICUgZXBvY2hSb3VuZExlbmd0aCkKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBkdXAKICAgIGZyYW1lX2RpZyAyMgogICAgJQogICAgLQogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo1NjMKICAgIC8vIGFzc2VydChsYXN0UGF5b3V0RXBvY2ggIT09IHRoaXNFcG9jaEJlZ2luLCAiY2FuJ3QgY2FsbCBlcG9jaEJhbGFuY2VVcGRhdGUgaW4gc2FtZSBlcG9jaCBhcyBwcmlvciBjYWxsIikKICAgIGZyYW1lX2RpZyAyNAogICAgIT0KICAgIGFzc2VydCAvLyBjYW4ndCBjYWxsIGVwb2NoQmFsYW5jZVVwZGF0ZSBpbiBzYW1lIGVwb2NoIGFzIHByaW9yIGNhbGwKCmVwb2NoQmFsYW5jZVVwZGF0ZV9hZnRlcl9pZl9lbHNlQDM6CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjU2NgogICAgLy8gdGhpcy5jaGVja0lmQmluQ2xvc2VkKCkKICAgIGNhbGxzdWIgY2hlY2tJZkJpbkNsb3NlZAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo4MgogICAgLy8gbGFzdFBheW91dCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oeyBrZXk6ICdsYXN0UGF5b3V0JyB9KQogICAgYnl0ZWMgMTEgLy8gImxhc3RQYXlvdXQiCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjU2OQogICAgLy8gdGhpcy5sYXN0UGF5b3V0LnZhbHVlID0gY3VyUm91bmQKICAgIGZyYW1lX2RpZyAyMwogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6NTcwCiAgICAvLyB0aGlzLmVwb2NoTnVtYmVyLnZhbHVlICs9IDEKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjg1CiAgICAvLyBlcG9jaE51bWJlciA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oeyBrZXk6ICdlcG9jaE51bWJlcicgfSkKICAgIGJ5dGVjIDE0IC8vICJlcG9jaE51bWJlciIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6NTcwCiAgICAvLyB0aGlzLmVwb2NoTnVtYmVyLnZhbHVlICs9IDEKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBpbnRjXzEgLy8gMQogICAgKwogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo4NQogICAgLy8gZXBvY2hOdW1iZXIgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KHsga2V5OiAnZXBvY2hOdW1iZXInIH0pCiAgICBieXRlYyAxNCAvLyAiZXBvY2hOdW1iZXIiCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjU3MAogICAgLy8gdGhpcy5lcG9jaE51bWJlci52YWx1ZSArPSAxCiAgICBzd2FwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo1NzUKICAgIC8vIGNvbnN0IGlzVG9rZW5FbGlnaWJsZSA9IHZhbGlkYXRvckNvbmZpZy5yZXdhcmRUb2tlbklkICE9PSAwCiAgICBmcmFtZV9kaWcgMjEKICAgIGludGMgNiAvLyAxNTcKICAgIGV4dHJhY3RfdWludDY0CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjU3NgogICAgLy8gbGV0IHBvb2xPbmVBcHBJRCA9IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25JZC5pZAogICAgZ2xvYmFsIEN1cnJlbnRBcHBsaWNhdGlvbklECiAgICBmcmFtZV9idXJ5IDE1CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjU4MgogICAgLy8gaWYgKGlzVG9rZW5FbGlnaWJsZSkgewogICAgYnogZXBvY2hCYWxhbmNlVXBkYXRlX2FmdGVyX2lmX2Vsc2VAMTMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6NTgzCiAgICAvLyBpZiAodGhpcy5wb29sSWQudmFsdWUgIT09IDEpIHsKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjcxCiAgICAvLyBwb29sSWQgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KHsga2V5OiAncG9vbElkJyB9KQogICAgYnl0ZWMgNCAvLyAicG9vbElkIgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo1ODMKICAgIC8vIGlmICh0aGlzLnBvb2xJZC52YWx1ZSAhPT0gMSkgewogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGludGNfMSAvLyAxCiAgICAhPQogICAgYnogZXBvY2hCYWxhbmNlVXBkYXRlX2FmdGVyX2lmX2Vsc2VANwogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo1ODUtNTg4CiAgICAvLyBwb29sT25lQXBwSUQgPSBhYmlDYWxsKFZhbGlkYXRvclJlZ2lzdHJ5QUJJLnByb3RvdHlwZS5nZXRQb29sQXBwSWQsIHsKICAgIC8vICAgYXBwSWQ6IHRoaXMuY3JlYXRpbmdWYWxpZGF0b3JDb250cmFjdEFwcElkLnZhbHVlLAogICAgLy8gICBhcmdzOiBbdGhpcy52YWxpZGF0b3JJZC52YWx1ZSwgMV0sCiAgICAvLyB9KS5yZXR1cm5WYWx1ZQogICAgaXR4bl9iZWdpbgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo1ODYKICAgIC8vIGFwcElkOiB0aGlzLmNyZWF0aW5nVmFsaWRhdG9yQ29udHJhY3RBcHBJZC52YWx1ZSwKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjY1CiAgICAvLyBjcmVhdGluZ1ZhbGlkYXRvckNvbnRyYWN0QXBwSWQgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KHsga2V5OiAnY3JlYXRvckFwcCcgfSkKICAgIGJ5dGVjXzEgLy8gImNyZWF0b3JBcHAiCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjU4NgogICAgLy8gYXBwSWQ6IHRoaXMuY3JlYXRpbmdWYWxpZGF0b3JDb250cmFjdEFwcElkLnZhbHVlLAogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6NTg3CiAgICAvLyBhcmdzOiBbdGhpcy52YWxpZGF0b3JJZC52YWx1ZSwgMV0sCiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo2OAogICAgLy8gdmFsaWRhdG9ySWQgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KHsga2V5OiAndmFsaWRhdG9ySWQnIH0pCiAgICBieXRlY18zIC8vICJ2YWxpZGF0b3JJZCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6NTg3CiAgICAvLyBhcmdzOiBbdGhpcy52YWxpZGF0b3JJZC52YWx1ZSwgMV0sCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgaXRvYgogICAgaW50Y18xIC8vIDEKICAgIGl0b2IKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6NTg1LTU4OAogICAgLy8gcG9vbE9uZUFwcElEID0gYWJpQ2FsbChWYWxpZGF0b3JSZWdpc3RyeUFCSS5wcm90b3R5cGUuZ2V0UG9vbEFwcElkLCB7CiAgICAvLyAgIGFwcElkOiB0aGlzLmNyZWF0aW5nVmFsaWRhdG9yQ29udHJhY3RBcHBJZC52YWx1ZSwKICAgIC8vICAgYXJnczogW3RoaXMudmFsaWRhdG9ySWQudmFsdWUsIDFdLAogICAgLy8gfSkucmV0dXJuVmFsdWUKICAgIGJ5dGVjIDIxIC8vIG1ldGhvZCAiZ2V0UG9vbEFwcElkKHVpbnQ2NCx1aW50NjQpdWludDY0IgogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbkFyZ3MKICAgIHN3YXAKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25BcmdzCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uQXJncwogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbklECiAgICBpbnRjXzMgLy8gYXBwbAogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgaW50Y18wIC8vIDAKICAgIGl0eG5fZmllbGQgRmVlCiAgICBpdHhuX3N1Ym1pdAogICAgaXR4biBMYXN0TG9nCiAgICBkdXAKICAgIGV4dHJhY3QgNCAwCiAgICBzd2FwCiAgICBleHRyYWN0IDAgNAogICAgYnl0ZWNfMiAvLyAweDE1MWY3Yzc1CiAgICA9PQogICAgYXNzZXJ0IC8vIEJ5dGVzIGhhcyB2YWxpZCBwcmVmaXgKICAgIGJ0b2kKICAgIGR1cAogICAgZnJhbWVfYnVyeSAxNQogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo1ODkKICAgIC8vIHBvb2xPbmVBZGRyZXNzID0gQXBwbGljYXRpb24ocG9vbE9uZUFwcElEKS5hZGRyZXNzCiAgICBhcHBfcGFyYW1zX2dldCBBcHBBZGRyZXNzCiAgICBidXJ5IDEKICAgIGFzc2VydCAvLyBhcHBsaWNhdGlvbiBleGlzdHMKCmVwb2NoQmFsYW5jZVVwZGF0ZV9hZnRlcl9pZl9lbHNlQDc6CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjU5NAogICAgLy8gaWYgKHRoaXMucG9vbElkLnZhbHVlID09PSAxKSB7CiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo3MQogICAgLy8gcG9vbElkID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGtleTogJ3Bvb2xJZCcgfSkKICAgIGJ5dGVjIDQgLy8gInBvb2xJZCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6NTk0CiAgICAvLyBpZiAodGhpcy5wb29sSWQudmFsdWUgPT09IDEpIHsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBpbnRjXzEgLy8gMQogICAgPT0KICAgIGJ6IGVwb2NoQmFsYW5jZVVwZGF0ZV9lbHNlX2JvZHlAMTAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6NTk1LTU5OAogICAgLy8gdG9rZW5QYXlvdXRSYXRpbyA9IGFiaUNhbGwoVmFsaWRhdG9yUmVnaXN0cnlBQkkucHJvdG90eXBlLnNldFRva2VuUGF5b3V0UmF0aW8sIHsKICAgIC8vICAgYXBwSWQ6IHRoaXMuY3JlYXRpbmdWYWxpZGF0b3JDb250cmFjdEFwcElkLnZhbHVlLAogICAgLy8gICBhcmdzOiBbdGhpcy52YWxpZGF0b3JJZC52YWx1ZV0sCiAgICAvLyB9KS5yZXR1cm5WYWx1ZQogICAgaXR4bl9iZWdpbgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo1OTYKICAgIC8vIGFwcElkOiB0aGlzLmNyZWF0aW5nVmFsaWRhdG9yQ29udHJhY3RBcHBJZC52YWx1ZSwKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjY1CiAgICAvLyBjcmVhdGluZ1ZhbGlkYXRvckNvbnRyYWN0QXBwSWQgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KHsga2V5OiAnY3JlYXRvckFwcCcgfSkKICAgIGJ5dGVjXzEgLy8gImNyZWF0b3JBcHAiCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjU5NgogICAgLy8gYXBwSWQ6IHRoaXMuY3JlYXRpbmdWYWxpZGF0b3JDb250cmFjdEFwcElkLnZhbHVlLAogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6NTk3CiAgICAvLyBhcmdzOiBbdGhpcy52YWxpZGF0b3JJZC52YWx1ZV0sCiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo2OAogICAgLy8gdmFsaWRhdG9ySWQgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KHsga2V5OiAndmFsaWRhdG9ySWQnIH0pCiAgICBieXRlY18zIC8vICJ2YWxpZGF0b3JJZCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6NTk3CiAgICAvLyBhcmdzOiBbdGhpcy52YWxpZGF0b3JJZC52YWx1ZV0sCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgaXRvYgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo1OTUtNTk4CiAgICAvLyB0b2tlblBheW91dFJhdGlvID0gYWJpQ2FsbChWYWxpZGF0b3JSZWdpc3RyeUFCSS5wcm90b3R5cGUuc2V0VG9rZW5QYXlvdXRSYXRpbywgewogICAgLy8gICBhcHBJZDogdGhpcy5jcmVhdGluZ1ZhbGlkYXRvckNvbnRyYWN0QXBwSWQudmFsdWUsCiAgICAvLyAgIGFyZ3M6IFt0aGlzLnZhbGlkYXRvcklkLnZhbHVlXSwKICAgIC8vIH0pLnJldHVyblZhbHVlCiAgICBieXRlYyAyMiAvLyBtZXRob2QgInNldFRva2VuUGF5b3V0UmF0aW8odWludDY0KSh1aW50NjRbMjRdLHVpbnQ2NCkiCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uQXJncwogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbkFyZ3MKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25JRAogICAgaW50Y18zIC8vIGFwcGwKICAgIGl0eG5fZmllbGQgVHlwZUVudW0KICAgIGludGNfMCAvLyAwCiAgICBpdHhuX2ZpZWxkIEZlZQogICAgaXR4bl9zdWJtaXQKICAgIGl0eG4gTGFzdExvZwogICAgZXh0cmFjdCAwIDQKICAgIGJ5dGVjXzIgLy8gMHgxNTFmN2M3NQogICAgPT0KICAgIGFzc2VydCAvLyBCeXRlcyBoYXMgdmFsaWQgcHJlZml4CgplcG9jaEJhbGFuY2VVcGRhdGVfYWZ0ZXJfaWZfZWxzZUAxMzoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6NjEwLTYxMwogICAgLy8gY29uc3QgdmFsaWRhdG9yU3RhdGUgPSBhYmlDYWxsKFZhbGlkYXRvclJlZ2lzdHJ5QUJJLnByb3RvdHlwZS5nZXRWYWxpZGF0b3JTdGF0ZSwgewogICAgLy8gICBhcHBJZDogdGhpcy5jcmVhdGluZ1ZhbGlkYXRvckNvbnRyYWN0QXBwSWQudmFsdWUsCiAgICAvLyAgIGFyZ3M6IFt0aGlzLnZhbGlkYXRvcklkLnZhbHVlXSwKICAgIC8vIH0pLnJldHVyblZhbHVlCiAgICBpdHhuX2JlZ2luCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjYxMQogICAgLy8gYXBwSWQ6IHRoaXMuY3JlYXRpbmdWYWxpZGF0b3JDb250cmFjdEFwcElkLnZhbHVlLAogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6NjUKICAgIC8vIGNyZWF0aW5nVmFsaWRhdG9yQ29udHJhY3RBcHBJZCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oeyBrZXk6ICdjcmVhdG9yQXBwJyB9KQogICAgYnl0ZWNfMSAvLyAiY3JlYXRvckFwcCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6NjExCiAgICAvLyBhcHBJZDogdGhpcy5jcmVhdGluZ1ZhbGlkYXRvckNvbnRyYWN0QXBwSWQudmFsdWUsCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo2MTIKICAgIC8vIGFyZ3M6IFt0aGlzLnZhbGlkYXRvcklkLnZhbHVlXSwKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjY4CiAgICAvLyB2YWxpZGF0b3JJZCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oeyBrZXk6ICd2YWxpZGF0b3JJZCcgfSkKICAgIGJ5dGVjXzMgLy8gInZhbGlkYXRvcklkIgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo2MTIKICAgIC8vIGFyZ3M6IFt0aGlzLnZhbGlkYXRvcklkLnZhbHVlXSwKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBpdG9iCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjYxMC02MTMKICAgIC8vIGNvbnN0IHZhbGlkYXRvclN0YXRlID0gYWJpQ2FsbChWYWxpZGF0b3JSZWdpc3RyeUFCSS5wcm90b3R5cGUuZ2V0VmFsaWRhdG9yU3RhdGUsIHsKICAgIC8vICAgYXBwSWQ6IHRoaXMuY3JlYXRpbmdWYWxpZGF0b3JDb250cmFjdEFwcElkLnZhbHVlLAogICAgLy8gICBhcmdzOiBbdGhpcy52YWxpZGF0b3JJZC52YWx1ZV0sCiAgICAvLyB9KS5yZXR1cm5WYWx1ZQogICAgcHVzaGJ5dGVzIDB4MWYyZjAxMDkgLy8gbWV0aG9kICJnZXRWYWxpZGF0b3JTdGF0ZSh1aW50NjQpKHVpbnQxNix1aW50NjQsdWludDY0LHVpbnQ2NCkiCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uQXJncwogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbkFyZ3MKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25JRAogICAgaW50Y18zIC8vIGFwcGwKICAgIGl0eG5fZmllbGQgVHlwZUVudW0KICAgIGludGNfMCAvLyAwCiAgICBpdHhuX2ZpZWxkIEZlZQogICAgaXR4bl9zdWJtaXQKICAgIGl0eG4gTGFzdExvZwogICAgZHVwCiAgICBleHRyYWN0IDAgNAogICAgYnl0ZWNfMiAvLyAweDE1MWY3Yzc1CiAgICA9PQogICAgYXNzZXJ0IC8vIEJ5dGVzIGhhcyB2YWxpZCBwcmVmaXgKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6NjIxCiAgICAvLyBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcy5iYWxhbmNlIC0KICAgIGdsb2JhbCBDdXJyZW50QXBwbGljYXRpb25BZGRyZXNzCiAgICBhY2N0X3BhcmFtc19nZXQgQWNjdEJhbGFuY2UKICAgIGFzc2VydCAvLyBhY2NvdW50IGZ1bmRlZAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo2MjIKICAgIC8vIHRoaXMudG90YWxBbGdvU3Rha2VkLnZhbHVlIC0KICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjc3CiAgICAvLyB0b3RhbEFsZ29TdGFrZWQgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KHsga2V5OiAnc3Rha2VkJyB9KQogICAgYnl0ZWMgNSAvLyAic3Rha2VkIgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo2MjIKICAgIC8vIHRoaXMudG90YWxBbGdvU3Rha2VkLnZhbHVlIC0KICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjYyMS02MjIKICAgIC8vIEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLmJhbGFuY2UgLQogICAgLy8gdGhpcy50b3RhbEFsZ29TdGFrZWQudmFsdWUgLQogICAgLQogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo2MjMKICAgIC8vIEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLm1pbkJhbGFuY2UKICAgIGdsb2JhbCBDdXJyZW50QXBwbGljYXRpb25BZGRyZXNzCiAgICBhY2N0X3BhcmFtc19nZXQgQWNjdE1pbkJhbGFuY2UKICAgIGFzc2VydCAvLyBhY2NvdW50IGZ1bmRlZAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo2MjEtNjIzCiAgICAvLyBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcy5iYWxhbmNlIC0KICAgIC8vIHRoaXMudG90YWxBbGdvU3Rha2VkLnZhbHVlIC0KICAgIC8vIEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLm1pbkJhbGFuY2UKICAgIC0KICAgIGZyYW1lX2J1cnkgNAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo2MjQKICAgIC8vIGxldCBpc1Bvb2xTYXR1cmF0ZWQgPSBmYWxzZQogICAgaW50Y18wIC8vIDAKICAgIGZyYW1lX2J1cnkgMTEKICAgIHB1c2hpbnQgMTQgLy8gMTQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6NjMzCiAgICAvLyBpZiAodmFsaWRhdG9yU3RhdGUudG90YWxBbGdvU3Rha2VkID4gYWxnb1NhdHVyYXRpb25BbXQpIHsKICAgIGV4dHJhY3RfdWludDY0CiAgICBieiBlcG9jaEJhbGFuY2VVcGRhdGVfYWZ0ZXJfaWZfZWxzZUAxNgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo2MzQKICAgIC8vIGlzUG9vbFNhdHVyYXRlZCA9IHRydWUKICAgIGludGNfMSAvLyAxCiAgICBmcmFtZV9idXJ5IDExCgplcG9jaEJhbGFuY2VVcGRhdGVfYWZ0ZXJfaWZfZWxzZUAxNjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6NjQwCiAgICAvLyBsZXQgdG9rZW5SZXdhcmRBdmFpbDogdWludDY0ID0gMAogICAgaW50Y18wIC8vIDAKICAgIGZyYW1lX2J1cnkgMTYKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6NjQxCiAgICAvLyBsZXQgdG9rZW5SZXdhcmRQYWlkT3V0OiB1aW50NjQgPSAwCiAgICBpbnRjXzAgLy8gMAogICAgZnJhbWVfYnVyeSAxNwogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo2NDMKICAgIC8vIGxldCBleGNlc3NUb0ZlZVNpbms6IHVpbnQ2NCA9IDAKICAgIGludGNfMCAvLyAwCiAgICBmcmFtZV9idXJ5IDcKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6NjY2CiAgICAvLyBpZiAoYWxnb1Jld2FyZEF2YWlsIDwgMV8wMDBfMDAwKSB7CiAgICBmcmFtZV9kaWcgNAogICAgaW50YyA4IC8vIDEwMDAwMDAKICAgIDwKICAgIGJ6IGVwb2NoQmFsYW5jZVVwZGF0ZV9hZnRlcl9pZl9lbHNlQDIzCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjY2NwogICAgLy8gbG9nKCchdG9rZW4mJiFub2FsZ28gdG8gcGF5JykKICAgIHB1c2hieXRlcyAiIXRva2VuJiYhbm9hbGdvIHRvIHBheSIKICAgIGxvZwogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo2NjgKICAgIC8vIHJldHVybgogICAgcmV0c3ViCgplcG9jaEJhbGFuY2VVcGRhdGVfYWZ0ZXJfaWZfZWxzZUAyMzoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6NjcyCiAgICAvLyBpZiAoaXNQb29sU2F0dXJhdGVkKSB7CiAgICBmcmFtZV9kaWcgMTEKICAgIGJ6IGVwb2NoQmFsYW5jZVVwZGF0ZV9hZnRlcl9pZl9lbHNlQDM5CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjY3OS02ODUKICAgIC8vIGl0eG4KICAgIC8vICAgLnBheW1lbnQoewogICAgLy8gICAgIGFtb3VudDogZXhjZXNzVG9GZWVTaW5rLAogICAgLy8gICAgIHJlY2VpdmVyOiB0aGlzLmdldEZlZVNpbmsoKS5uYXRpdmUsCiAgICAvLyAgICAgbm90ZTogJ3Bvb2wgc2F0dXJhdGVkLCBleGNlc3MgdG8gZmVlIHNpbmsnLAogICAgLy8gICB9KQogICAgLy8gICAuc3VibWl0KCkKICAgIGl0eG5fYmVnaW4KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6MTAwMQogICAgLy8gcmV0dXJuIFRlbXBsYXRlVmFyPEFkZHJlc3M+KCdGRUVfU0lOS19BRERSJykKICAgIGJ5dGVjIDIzIC8vIFRNUExfRkVFX1NJTktfQUREUgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo2ODMKICAgIC8vIG5vdGU6ICdwb29sIHNhdHVyYXRlZCwgZXhjZXNzIHRvIGZlZSBzaW5rJywKICAgIHB1c2hieXRlcyAicG9vbCBzYXR1cmF0ZWQsIGV4Y2VzcyB0byBmZWUgc2luayIKICAgIGl0eG5fZmllbGQgTm90ZQogICAgaXR4bl9maWVsZCBSZWNlaXZlcgogICAgZnJhbWVfZGlnIDQKICAgIGR1cAogICAgaXR4bl9maWVsZCBBbW91bnQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6Njc5LTY4NAogICAgLy8gaXR4bgogICAgLy8gICAucGF5bWVudCh7CiAgICAvLyAgICAgYW1vdW50OiBleGNlc3NUb0ZlZVNpbmssCiAgICAvLyAgICAgcmVjZWl2ZXI6IHRoaXMuZ2V0RmVlU2luaygpLm5hdGl2ZSwKICAgIC8vICAgICBub3RlOiAncG9vbCBzYXR1cmF0ZWQsIGV4Y2VzcyB0byBmZWUgc2luaycsCiAgICAvLyAgIH0pCiAgICBpbnRjXzEgLy8gMQogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgaW50Y18wIC8vIDAKICAgIGl0eG5fZmllbGQgRmVlCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjY3OS02ODUKICAgIC8vIGl0eG4KICAgIC8vICAgLnBheW1lbnQoewogICAgLy8gICAgIGFtb3VudDogZXhjZXNzVG9GZWVTaW5rLAogICAgLy8gICAgIHJlY2VpdmVyOiB0aGlzLmdldEZlZVNpbmsoKS5uYXRpdmUsCiAgICAvLyAgICAgbm90ZTogJ3Bvb2wgc2F0dXJhdGVkLCBleGNlc3MgdG8gZmVlIHNpbmsnLAogICAgLy8gICB9KQogICAgLy8gICAuc3VibWl0KCkKICAgIGl0eG5fc3VibWl0CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjY4NwogICAgLy8gYWxnb1Jld2FyZEF2YWlsID0gZGltaW5pc2hlZFJld2FyZAogICAgaW50Y18wIC8vIDAKICAgIGZyYW1lX2J1cnkgNAogICAgZnJhbWVfYnVyeSA3CgplcG9jaEJhbGFuY2VVcGRhdGVfYWZ0ZXJfaWZfZWxzZUAzOToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6NzM5CiAgICAvLyBsZXQgaW5jcmVhc2VkU3Rha2U6IHVpbnQ2NCA9IDAKICAgIGludGNfMCAvLyAwCiAgICBmcmFtZV9idXJ5IDkKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6NzYzCiAgICAvLyBpZiAoYWxnb1Jld2FyZEF2YWlsICE9PSAwIHx8IHRva2VuUmV3YXJkQXZhaWwgIT09IDApIHsKICAgIGZyYW1lX2RpZyA0CiAgICBieiBlcG9jaEJhbGFuY2VVcGRhdGVfYWZ0ZXJfaWZfZWxzZUA3MAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo3NjQKICAgIC8vIGxldCBwYXJ0aWFsU3Rha2Vyc1RvdGFsU3Rha2U6IHVpbnQ2NCA9IDAKICAgIGludGNfMCAvLyAwCiAgICBmcmFtZV9idXJ5IDEzCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjc2NQogICAgLy8gZm9yIChsZXQgaTogdWludDY0ID0gMDsgaSA8IHRoaXMuc3Rha2Vycy52YWx1ZS5sZW5ndGg7IGkgKz0gMSkgewogICAgaW50Y18wIC8vIDAKICAgIGZyYW1lX2J1cnkgOAoKZXBvY2hCYWxhbmNlVXBkYXRlX3doaWxlX3RvcEA0MjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6OTEKICAgIC8vIHN0YWtlcnMgPSBCb3g8Rml4ZWRBcnJheTxTdGFrZWRJbmZvLCB0eXBlb2YgTUFYX1NUQUtFUlNfUEVSX1BPT0w+Pih7IGtleTogJ3N0YWtlcnMnIH0pCiAgICBieXRlY18wIC8vICJzdGFrZXJzIgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo3NjUKICAgIC8vIGZvciAobGV0IGk6IHVpbnQ2NCA9IDA7IGkgPCB0aGlzLnN0YWtlcnMudmFsdWUubGVuZ3RoOyBpICs9IDEpIHsKICAgIGJveF9sZW4KICAgIGJ1cnkgMQogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIGZyYW1lX2RpZyA4CiAgICBpbnRjIDQgLy8gMjAwCiAgICA8CiAgICBieiBlcG9jaEJhbGFuY2VVcGRhdGVfYWZ0ZXJfd2hpbGVANTUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6NzY2CiAgICAvLyBlbnN1cmVCdWRnZXQoNDAwKQogICAgcHVzaGludCA0MDAgLy8gNDAwCiAgICBpbnRjXzAgLy8gMAogICAgY2FsbHN1YiBlbnN1cmVfYnVkZ2V0CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjc2OAogICAgLy8gY29uc3QgY21wU3Rha2VyID0gY2xvbmUodGhpcy5zdGFrZXJzLnZhbHVlW2ldKQogICAgZnJhbWVfZGlnIDgKICAgIGludGNfMiAvLyA2NAogICAgKgogICAgZHVwCiAgICBmcmFtZV9idXJ5IDUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6OTEKICAgIC8vIHN0YWtlcnMgPSBCb3g8Rml4ZWRBcnJheTxTdGFrZWRJbmZvLCB0eXBlb2YgTUFYX1NUQUtFUlNfUEVSX1BPT0w+Pih7IGtleTogJ3N0YWtlcnMnIH0pCiAgICBieXRlY18wIC8vICJzdGFrZXJzIgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo3NjgKICAgIC8vIGNvbnN0IGNtcFN0YWtlciA9IGNsb25lKHRoaXMuc3Rha2Vycy52YWx1ZVtpXSkKICAgIHN3YXAKICAgIGludGNfMiAvLyA2NAogICAgYm94X2V4dHJhY3QKICAgIGR1cAogICAgZnJhbWVfYnVyeSAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjc2OC03NjkKICAgIC8vIGNvbnN0IGNtcFN0YWtlciA9IGNsb25lKHRoaXMuc3Rha2Vycy52YWx1ZVtpXSkKICAgIC8vIGlmIChjbXBTdGFrZXIuYWNjb3VudC5uYXRpdmUgIT09IEdsb2JhbC56ZXJvQWRkcmVzcykgewogICAgZXh0cmFjdCAwIDMyCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjc2OQogICAgLy8gaWYgKGNtcFN0YWtlci5hY2NvdW50Lm5hdGl2ZSAhPT0gR2xvYmFsLnplcm9BZGRyZXNzKSB7CiAgICBnbG9iYWwgWmVyb0FkZHJlc3MKICAgICE9CiAgICBmcmFtZV9kaWcgMTMKICAgIGZyYW1lX2J1cnkgMTQKICAgIGJ6IGVwb2NoQmFsYW5jZVVwZGF0ZV9hZnRlcl9pZl9lbHNlQDU0CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjkxCiAgICAvLyBzdGFrZXJzID0gQm94PEZpeGVkQXJyYXk8U3Rha2VkSW5mbywgdHlwZW9mIE1BWF9TVEFLRVJTX1BFUl9QT09MPj4oeyBrZXk6ICdzdGFrZXJzJyB9KQogICAgYnl0ZWNfMCAvLyAic3Rha2VycyIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6NzY4CiAgICAvLyBjb25zdCBjbXBTdGFrZXIgPSBjbG9uZSh0aGlzLnN0YWtlcnMudmFsdWVbaV0pCiAgICBmcmFtZV9kaWcgNQogICAgaW50Y18yIC8vIDY0CiAgICBib3hfZXh0cmFjdAogICAgcHVzaGludCA1NiAvLyA1NgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo3NzAKICAgIC8vIGlmIChjbXBTdGFrZXIuZW50cnlSb3VuZCA+PSB0aGlzRXBvY2hCZWdpbikgewogICAgZXh0cmFjdF91aW50NjQKICAgIGR1cAogICAgZnJhbWVfYnVyeSAyMAogICAgZnJhbWVfZGlnIDI0CiAgICA+PQogICAgYnogZXBvY2hCYWxhbmNlVXBkYXRlX2Vsc2VfYm9keUA0NgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo5MQogICAgLy8gc3Rha2VycyA9IEJveDxGaXhlZEFycmF5PFN0YWtlZEluZm8sIHR5cGVvZiBNQVhfU1RBS0VSU19QRVJfUE9PTD4+KHsga2V5OiAnc3Rha2VycycgfSkKICAgIGJ5dGVjXzAgLy8gInN0YWtlcnMiCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjc2OAogICAgLy8gY29uc3QgY21wU3Rha2VyID0gY2xvbmUodGhpcy5zdGFrZXJzLnZhbHVlW2ldKQogICAgZnJhbWVfZGlnIDUKICAgIGludGNfMiAvLyA2NAogICAgYm94X2V4dHJhY3QKICAgIHB1c2hpbnQgMzIgLy8gMzIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6NzczCiAgICAvLyBwYXJ0aWFsU3Rha2Vyc1RvdGFsU3Rha2UgKz0gY21wU3Rha2VyLmJhbGFuY2UKICAgIGV4dHJhY3RfdWludDY0CiAgICBmcmFtZV9kaWcgMTMKICAgICsKICAgIGZyYW1lX2J1cnkgMTMKCmVwb2NoQmFsYW5jZVVwZGF0ZV9hZnRlcl9pZl9lbHNlQDUzOgogICAgZnJhbWVfZGlnIDEzCiAgICBmcmFtZV9idXJ5IDE0CgplcG9jaEJhbGFuY2VVcGRhdGVfYWZ0ZXJfaWZfZWxzZUA1NDoKICAgIGZyYW1lX2RpZyAxNAogICAgZnJhbWVfYnVyeSAxMwogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo3NjUKICAgIC8vIGZvciAobGV0IGk6IHVpbnQ2NCA9IDA7IGkgPCB0aGlzLnN0YWtlcnMudmFsdWUubGVuZ3RoOyBpICs9IDEpIHsKICAgIGZyYW1lX2RpZyA4CiAgICBpbnRjXzEgLy8gMQogICAgKwogICAgZnJhbWVfYnVyeSA4CiAgICBiIGVwb2NoQmFsYW5jZVVwZGF0ZV93aGlsZV90b3BANDIKCmVwb2NoQmFsYW5jZVVwZGF0ZV9lbHNlX2JvZHlANDY6CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjc3NwogICAgLy8gY29uc3QgdGltZUluUG9vbDogdWludDY0ID0gdGhpc0Vwb2NoQmVnaW4gLSBjbXBTdGFrZXIuZW50cnlSb3VuZAogICAgZnJhbWVfZGlnIDI0CiAgICBmcmFtZV9kaWcgMjAKICAgIC0KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6NzgxCiAgICAvLyBpZiAodGltZUluUG9vbCA8IGVwb2NoUm91bmRMZW5ndGgpIHsKICAgIGZyYW1lX2RpZyAyMgogICAgPAogICAgZnJhbWVfZGlnIDEzCiAgICBmcmFtZV9idXJ5IDE0CiAgICBieiBlcG9jaEJhbGFuY2VVcGRhdGVfYWZ0ZXJfaWZfZWxzZUA1MgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo5MQogICAgLy8gc3Rha2VycyA9IEJveDxGaXhlZEFycmF5PFN0YWtlZEluZm8sIHR5cGVvZiBNQVhfU1RBS0VSU19QRVJfUE9PTD4+KHsga2V5OiAnc3Rha2VycycgfSkKICAgIGJ5dGVjXzAgLy8gInN0YWtlcnMiCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjc2OAogICAgLy8gY29uc3QgY21wU3Rha2VyID0gY2xvbmUodGhpcy5zdGFrZXJzLnZhbHVlW2ldKQogICAgZnJhbWVfZGlnIDUKICAgIGludGNfMiAvLyA2NAogICAgYm94X2V4dHJhY3QKICAgIHB1c2hpbnQgMzIgLy8gMzIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6NzgyCiAgICAvLyBwYXJ0aWFsU3Rha2Vyc1RvdGFsU3Rha2UgKz0gY21wU3Rha2VyLmJhbGFuY2UKICAgIGV4dHJhY3RfdWludDY0CiAgICBmcmFtZV9kaWcgMTMKICAgICsKICAgIGZyYW1lX2J1cnkgMTMKICAgIGZyYW1lX2RpZyAwCiAgICBmcmFtZV9idXJ5IDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6Nzg1CiAgICAvLyBpZiAodG9rZW5SZXdhcmRBdmFpbCA+IDApIHsKICAgIGZyYW1lX2RpZyAxNgogICAgYnogZXBvY2hCYWxhbmNlVXBkYXRlX2FmdGVyX2lmX2Vsc2VANDkKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6OTEKICAgIC8vIHN0YWtlcnMgPSBCb3g8Rml4ZWRBcnJheTxTdGFrZWRJbmZvLCB0eXBlb2YgTUFYX1NUQUtFUlNfUEVSX1BPT0w+Pih7IGtleTogJ3N0YWtlcnMnIH0pCiAgICBieXRlY18wIC8vICJzdGFrZXJzIgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo3NjgKICAgIC8vIGNvbnN0IGNtcFN0YWtlciA9IGNsb25lKHRoaXMuc3Rha2Vycy52YWx1ZVtpXSkKICAgIGZyYW1lX2RpZyA1CiAgICBpbnRjXzIgLy8gNjQKICAgIGJveF9leHRyYWN0CiAgICBleHRyYWN0IDQ4IDgKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6Nzk2CiAgICAvLyBjbXBTdGFrZXIucmV3YXJkVG9rZW5CYWxhbmNlICs9IHN0YWtlclRva2VuUmV3YXJkCiAgICBmcmFtZV9kaWcgMAogICAgc3dhcAogICAgcmVwbGFjZTIgNDgKICAgIGZyYW1lX2J1cnkgMQoKZXBvY2hCYWxhbmNlVXBkYXRlX2FmdGVyX2lmX2Vsc2VANDk6CiAgICBmcmFtZV9kaWcgMQogICAgZHVwCiAgICBmcmFtZV9idXJ5IDAKICAgIGZyYW1lX2J1cnkgMQogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo3OTkKICAgIC8vIGlmIChhbGdvUmV3YXJkQXZhaWwgPiAwKSB7CiAgICBmcmFtZV9kaWcgNAogICAgYnogZXBvY2hCYWxhbmNlVXBkYXRlX2FmdGVyX2lmX2Vsc2VANTEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6ODEyCiAgICAvLyBjbXBTdGFrZXIuYmFsYW5jZSArPSBzdGFrZXJSZXdhcmQKICAgIGZyYW1lX2RpZyAwCiAgICBkdXAKICAgIGV4dHJhY3QgMzIgOAogICAgcmVwbGFjZTIgMzIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6ODEzCiAgICAvLyBjbXBTdGFrZXIudG90YWxSZXdhcmRlZCArPSBzdGFrZXJSZXdhcmQKICAgIGR1cAogICAgZXh0cmFjdCA0MCA4CiAgICByZXBsYWNlMiA0MAogICAgZnJhbWVfYnVyeSAxCgplcG9jaEJhbGFuY2VVcGRhdGVfYWZ0ZXJfaWZfZWxzZUA1MToKICAgIGZyYW1lX2RpZyAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjkxCiAgICAvLyBzdGFrZXJzID0gQm94PEZpeGVkQXJyYXk8U3Rha2VkSW5mbywgdHlwZW9mIE1BWF9TVEFLRVJTX1BFUl9QT09MPj4oeyBrZXk6ICdzdGFrZXJzJyB9KQogICAgYnl0ZWNfMCAvLyAic3Rha2VycyIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6ODE3CiAgICAvLyB0aGlzLnN0YWtlcnMudmFsdWVbaV0gPSBjbG9uZShjbXBTdGFrZXIpCiAgICBmcmFtZV9kaWcgNQogICAgdW5jb3ZlciAyCiAgICBib3hfcmVwbGFjZQogICAgZnJhbWVfZGlnIDEzCiAgICBmcmFtZV9idXJ5IDE0CgplcG9jaEJhbGFuY2VVcGRhdGVfYWZ0ZXJfaWZfZWxzZUA1MjoKICAgIGZyYW1lX2RpZyAxNAogICAgZnJhbWVfYnVyeSAxMwogICAgYiBlcG9jaEJhbGFuY2VVcGRhdGVfYWZ0ZXJfaWZfZWxzZUA1MwoKZXBvY2hCYWxhbmNlVXBkYXRlX2FmdGVyX3doaWxlQDU1OgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo4MjUKICAgIC8vIGNvbnN0IG5ld1Bvb2xUb3RhbFN0YWtlOiB1aW50NjQgPSB0aGlzLnRvdGFsQWxnb1N0YWtlZC52YWx1ZSAtIHBhcnRpYWxTdGFrZXJzVG90YWxTdGFrZQogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6NzcKICAgIC8vIHRvdGFsQWxnb1N0YWtlZCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oeyBrZXk6ICdzdGFrZWQnIH0pCiAgICBieXRlYyA1IC8vICJzdGFrZWQiCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjgyNQogICAgLy8gY29uc3QgbmV3UG9vbFRvdGFsU3Rha2U6IHVpbnQ2NCA9IHRoaXMudG90YWxBbGdvU3Rha2VkLnZhbHVlIC0gcGFydGlhbFN0YWtlcnNUb3RhbFN0YWtlCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgZnJhbWVfZGlnIDEzCiAgICAtCiAgICBmcmFtZV9kaWcgMTcKICAgIGZyYW1lX2J1cnkgMTgKICAgIGZyYW1lX2RpZyA5CiAgICBmcmFtZV9idXJ5IDEwCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjgyOQogICAgLy8gaWYgKG5ld1Bvb2xUb3RhbFN0YWtlID4gMCkgewogICAgYnogZXBvY2hCYWxhbmNlVXBkYXRlX2FmdGVyX2lmX2Vsc2VANjkKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6ODMxCiAgICAvLyBmb3IgKGxldCBpOiB1aW50NjQgPSAwOyBpIDwgdGhpcy5zdGFrZXJzLnZhbHVlLmxlbmd0aDsgaSArPSAxKSB7CiAgICBpbnRjXzAgLy8gMAogICAgZnJhbWVfYnVyeSAxMgoKZXBvY2hCYWxhbmNlVXBkYXRlX3doaWxlX3RvcEA1NzoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6OTEKICAgIC8vIHN0YWtlcnMgPSBCb3g8Rml4ZWRBcnJheTxTdGFrZWRJbmZvLCB0eXBlb2YgTUFYX1NUQUtFUlNfUEVSX1BPT0w+Pih7IGtleTogJ3N0YWtlcnMnIH0pCiAgICBieXRlY18wIC8vICJzdGFrZXJzIgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo4MzEKICAgIC8vIGZvciAobGV0IGk6IHVpbnQ2NCA9IDA7IGkgPCB0aGlzLnN0YWtlcnMudmFsdWUubGVuZ3RoOyBpICs9IDEpIHsKICAgIGJveF9sZW4KICAgIGJ1cnkgMQogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIGZyYW1lX2RpZyAxMgogICAgaW50YyA0IC8vIDIwMAogICAgPAogICAgYnogZXBvY2hCYWxhbmNlVXBkYXRlX2FmdGVyX3doaWxlQDY4CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjgzMgogICAgLy8gZW5zdXJlQnVkZ2V0KDIwMCkKICAgIGludGMgNCAvLyAyMDAKICAgIGludGNfMCAvLyAwCiAgICBjYWxsc3ViIGVuc3VyZV9idWRnZXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6ODM0CiAgICAvLyBjb25zdCBjbXBTdGFrZXIgPSBjbG9uZSh0aGlzLnN0YWtlcnMudmFsdWVbaV0pCiAgICBmcmFtZV9kaWcgMTIKICAgIGludGNfMiAvLyA2NAogICAgKgogICAgZHVwCiAgICBmcmFtZV9idXJ5IDYKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6OTEKICAgIC8vIHN0YWtlcnMgPSBCb3g8Rml4ZWRBcnJheTxTdGFrZWRJbmZvLCB0eXBlb2YgTUFYX1NUQUtFUlNfUEVSX1BPT0w+Pih7IGtleTogJ3N0YWtlcnMnIH0pCiAgICBieXRlY18wIC8vICJzdGFrZXJzIgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo4MzQKICAgIC8vIGNvbnN0IGNtcFN0YWtlciA9IGNsb25lKHRoaXMuc3Rha2Vycy52YWx1ZVtpXSkKICAgIHN3YXAKICAgIGludGNfMiAvLyA2NAogICAgYm94X2V4dHJhY3QKICAgIGR1cAogICAgZnJhbWVfYnVyeSAyCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjgzNC04MzUKICAgIC8vIGNvbnN0IGNtcFN0YWtlciA9IGNsb25lKHRoaXMuc3Rha2Vycy52YWx1ZVtpXSkKICAgIC8vIGlmIChjbXBTdGFrZXIuYWNjb3VudC5uYXRpdmUgIT09IEdsb2JhbC56ZXJvQWRkcmVzcyAmJiBjbXBTdGFrZXIuZW50cnlSb3VuZCA8IHRoaXNFcG9jaEJlZ2luKSB7CiAgICBleHRyYWN0IDAgMzIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6ODM1CiAgICAvLyBpZiAoY21wU3Rha2VyLmFjY291bnQubmF0aXZlICE9PSBHbG9iYWwuemVyb0FkZHJlc3MgJiYgY21wU3Rha2VyLmVudHJ5Um91bmQgPCB0aGlzRXBvY2hCZWdpbikgewogICAgZ2xvYmFsIFplcm9BZGRyZXNzCiAgICAhPQogICAgYnogZXBvY2hCYWxhbmNlVXBkYXRlX2FmdGVyX2lmX2Vsc2VANjcKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6OTEKICAgIC8vIHN0YWtlcnMgPSBCb3g8Rml4ZWRBcnJheTxTdGFrZWRJbmZvLCB0eXBlb2YgTUFYX1NUQUtFUlNfUEVSX1BPT0w+Pih7IGtleTogJ3N0YWtlcnMnIH0pCiAgICBieXRlY18wIC8vICJzdGFrZXJzIgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo4MzQtODM1CiAgICAvLyBjb25zdCBjbXBTdGFrZXIgPSBjbG9uZSh0aGlzLnN0YWtlcnMudmFsdWVbaV0pCiAgICAvLyBpZiAoY21wU3Rha2VyLmFjY291bnQubmF0aXZlICE9PSBHbG9iYWwuemVyb0FkZHJlc3MgJiYgY21wU3Rha2VyLmVudHJ5Um91bmQgPCB0aGlzRXBvY2hCZWdpbikgewogICAgZnJhbWVfZGlnIDYKICAgIGludGNfMiAvLyA2NAogICAgYm94X2V4dHJhY3QKICAgIHB1c2hpbnQgNTYgLy8gNTYKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6ODM1CiAgICAvLyBpZiAoY21wU3Rha2VyLmFjY291bnQubmF0aXZlICE9PSBHbG9iYWwuemVyb0FkZHJlc3MgJiYgY21wU3Rha2VyLmVudHJ5Um91bmQgPCB0aGlzRXBvY2hCZWdpbikgewogICAgZXh0cmFjdF91aW50NjQKICAgIGR1cAogICAgZnJhbWVfYnVyeSAxOQogICAgZnJhbWVfZGlnIDI0CiAgICA8CiAgICBieiBlcG9jaEJhbGFuY2VVcGRhdGVfYWZ0ZXJfaWZfZWxzZUA2NwogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo4MzYKICAgIC8vIGNvbnN0IHRpbWVJblBvb2w6IHVpbnQ2NCA9IHRoaXNFcG9jaEJlZ2luIC0gY21wU3Rha2VyLmVudHJ5Um91bmQKICAgIGZyYW1lX2RpZyAyNAogICAgZnJhbWVfZGlnIDE5CiAgICAtCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjgzOAogICAgLy8gaWYgKHRpbWVJblBvb2wgPj0gZXBvY2hSb3VuZExlbmd0aCkgewogICAgZnJhbWVfZGlnIDIyCiAgICA+PQogICAgYnogZXBvY2hCYWxhbmNlVXBkYXRlX2FmdGVyX2lmX2Vsc2VANjcKICAgIGZyYW1lX2RpZyAyCiAgICBmcmFtZV9idXJ5IDMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6ODQzCiAgICAvLyBpZiAodG9rZW5SZXdhcmRBdmFpbCA+IDApIHsKICAgIGZyYW1lX2RpZyAxNgogICAgYnogZXBvY2hCYWxhbmNlVXBkYXRlX2FmdGVyX2lmX2Vsc2VANjMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6OTEKICAgIC8vIHN0YWtlcnMgPSBCb3g8Rml4ZWRBcnJheTxTdGFrZWRJbmZvLCB0eXBlb2YgTUFYX1NUQUtFUlNfUEVSX1BPT0w+Pih7IGtleTogJ3N0YWtlcnMnIH0pCiAgICBieXRlY18wIC8vICJzdGFrZXJzIgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo4MzQKICAgIC8vIGNvbnN0IGNtcFN0YWtlciA9IGNsb25lKHRoaXMuc3Rha2Vycy52YWx1ZVtpXSkKICAgIGZyYW1lX2RpZyA2CiAgICBpbnRjXzIgLy8gNjQKICAgIGJveF9leHRyYWN0CiAgICBleHRyYWN0IDQ4IDgKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6ODQ4CiAgICAvLyBjbXBTdGFrZXIucmV3YXJkVG9rZW5CYWxhbmNlICs9IHN0YWtlclRva2VuUmV3YXJkCiAgICBmcmFtZV9kaWcgMgogICAgc3dhcAogICAgcmVwbGFjZTIgNDgKICAgIGZyYW1lX2J1cnkgMwoKZXBvY2hCYWxhbmNlVXBkYXRlX2FmdGVyX2lmX2Vsc2VANjM6CiAgICBmcmFtZV9kaWcgMwogICAgZHVwCiAgICBmcmFtZV9idXJ5IDIKICAgIGZyYW1lX2J1cnkgMwogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo4NTEKICAgIC8vIGlmIChhbGdvUmV3YXJkQXZhaWwgPiAwKSB7CiAgICBmcmFtZV9kaWcgNAogICAgYnogZXBvY2hCYWxhbmNlVXBkYXRlX2FmdGVyX2lmX2Vsc2VANjUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6ODU2CiAgICAvLyBjbXBTdGFrZXIuYmFsYW5jZSArPSBzdGFrZXJSZXdhcmQKICAgIGZyYW1lX2RpZyAyCiAgICBkdXAKICAgIGV4dHJhY3QgMzIgOAogICAgcmVwbGFjZTIgMzIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6ODU3CiAgICAvLyBjbXBTdGFrZXIudG90YWxSZXdhcmRlZCArPSBzdGFrZXJSZXdhcmQKICAgIGR1cAogICAgZXh0cmFjdCA0MCA4CiAgICByZXBsYWNlMiA0MAogICAgZnJhbWVfYnVyeSAzCgplcG9jaEJhbGFuY2VVcGRhdGVfYWZ0ZXJfaWZfZWxzZUA2NToKICAgIGZyYW1lX2RpZyAzCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjkxCiAgICAvLyBzdGFrZXJzID0gQm94PEZpeGVkQXJyYXk8U3Rha2VkSW5mbywgdHlwZW9mIE1BWF9TVEFLRVJTX1BFUl9QT09MPj4oeyBrZXk6ICdzdGFrZXJzJyB9KQogICAgYnl0ZWNfMCAvLyAic3Rha2VycyIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6ODYyCiAgICAvLyB0aGlzLnN0YWtlcnMudmFsdWVbaV0gPSBjbG9uZShjbXBTdGFrZXIpCiAgICBmcmFtZV9kaWcgNgogICAgdW5jb3ZlciAyCiAgICBib3hfcmVwbGFjZQoKZXBvY2hCYWxhbmNlVXBkYXRlX2FmdGVyX2lmX2Vsc2VANjc6CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjgzMQogICAgLy8gZm9yIChsZXQgaTogdWludDY0ID0gMDsgaSA8IHRoaXMuc3Rha2Vycy52YWx1ZS5sZW5ndGg7IGkgKz0gMSkgewogICAgZnJhbWVfZGlnIDEyCiAgICBpbnRjXzEgLy8gMQogICAgKwogICAgZnJhbWVfYnVyeSAxMgogICAgYiBlcG9jaEJhbGFuY2VVcGRhdGVfd2hpbGVfdG9wQDU3CgplcG9jaEJhbGFuY2VVcGRhdGVfYWZ0ZXJfd2hpbGVANjg6CiAgICBmcmFtZV9kaWcgMTcKICAgIGZyYW1lX2J1cnkgMTgKICAgIGZyYW1lX2RpZyA5CiAgICBmcmFtZV9idXJ5IDEwCgplcG9jaEJhbGFuY2VVcGRhdGVfYWZ0ZXJfaWZfZWxzZUA2OToKICAgIGZyYW1lX2RpZyAxOAogICAgZnJhbWVfYnVyeSAxNwogICAgZnJhbWVfZGlnIDEwCiAgICBmcmFtZV9idXJ5IDkKCmVwb2NoQmFsYW5jZVVwZGF0ZV9hZnRlcl9pZl9lbHNlQDcwOgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo4NzIKICAgIC8vIGNvbnN0IHJvdW5kc0xlZnRJbkJpbjogdWludDY0ID0gdGhpcy5iaW5Sb3VuZFN0YXJ0LnZhbHVlICsgdGhpcy5yb3VuZHNQZXJEYXkudmFsdWUgLSBHbG9iYWwucm91bmQKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjk3CiAgICAvLyBiaW5Sb3VuZFN0YXJ0ID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGtleTogJ2JpblJvdW5kU3RhcnQnIH0pCiAgICBieXRlYyA4IC8vICJiaW5Sb3VuZFN0YXJ0IgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo4NzIKICAgIC8vIGNvbnN0IHJvdW5kc0xlZnRJbkJpbjogdWludDY0ID0gdGhpcy5iaW5Sb3VuZFN0YXJ0LnZhbHVlICsgdGhpcy5yb3VuZHNQZXJEYXkudmFsdWUgLSBHbG9iYWwucm91bmQKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo5NQogICAgLy8gcm91bmRzUGVyRGF5ID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGtleTogJ3JvdW5kc1BlckRheScgfSkKICAgIGJ5dGVjIDcgLy8gInJvdW5kc1BlckRheSIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6ODcyCiAgICAvLyBjb25zdCByb3VuZHNMZWZ0SW5CaW46IHVpbnQ2NCA9IHRoaXMuYmluUm91bmRTdGFydC52YWx1ZSArIHRoaXMucm91bmRzUGVyRGF5LnZhbHVlIC0gR2xvYmFsLnJvdW5kCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgKwogICAgZ2xvYmFsIFJvdW5kCiAgICAtCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjg3MwogICAgLy8gdGhpcy50b3RhbEFsZ29TdGFrZWQudmFsdWUgKz0gaW5jcmVhc2VkU3Rha2UKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjc3CiAgICAvLyB0b3RhbEFsZ29TdGFrZWQgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KHsga2V5OiAnc3Rha2VkJyB9KQogICAgYnl0ZWMgNSAvLyAic3Rha2VkIgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo4NzMKICAgIC8vIHRoaXMudG90YWxBbGdvU3Rha2VkLnZhbHVlICs9IGluY3JlYXNlZFN0YWtlCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgZnJhbWVfZGlnIDkKICAgIGR1cAogICAgY292ZXIgMgogICAgKwogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo3NwogICAgLy8gdG90YWxBbGdvU3Rha2VkID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGtleTogJ3N0YWtlZCcgfSkKICAgIGJ5dGVjIDUgLy8gInN0YWtlZCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6ODczCiAgICAvLyB0aGlzLnRvdGFsQWxnb1N0YWtlZC52YWx1ZSArPSBpbmNyZWFzZWRTdGFrZQogICAgc3dhcAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6ODc1CiAgICAvLyB0aGlzLnN0YWtlQWNjdW11bGF0b3IudmFsdWUubmF0aXZlICsgQmlnVWludChpbmNyZWFzZWRTdGFrZSkgKiBCaWdVaW50KHJvdW5kc0xlZnRJbkJpbiksCiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo5OQogICAgLy8gc3Rha2VBY2N1bXVsYXRvciA9IEdsb2JhbFN0YXRlPFVpbnQxMjg+KHsga2V5OiAnc3Rha2VBY2N1bXVsYXRvcicgfSkKICAgIGJ5dGVjIDYgLy8gInN0YWtlQWNjdW11bGF0b3IiCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjg3NQogICAgLy8gdGhpcy5zdGFrZUFjY3VtdWxhdG9yLnZhbHVlLm5hdGl2ZSArIEJpZ1VpbnQoaW5jcmVhc2VkU3Rha2UpICogQmlnVWludChyb3VuZHNMZWZ0SW5CaW4pLAogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGRpZyAxCiAgICBpdG9iCiAgICB1bmNvdmVyIDMKICAgIGl0b2IKICAgIGRpZyAxCiAgICBiKgogICAgdW5jb3ZlciAyCiAgICBiKwogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo4NzQtODc2CiAgICAvLyB0aGlzLnN0YWtlQWNjdW11bGF0b3IudmFsdWUgPSBuZXcgVWludDEyOCgKICAgIC8vICAgdGhpcy5zdGFrZUFjY3VtdWxhdG9yLnZhbHVlLm5hdGl2ZSArIEJpZ1VpbnQoaW5jcmVhc2VkU3Rha2UpICogQmlnVWludChyb3VuZHNMZWZ0SW5CaW4pLAogICAgLy8gKQogICAgZHVwCiAgICBsZW4KICAgIHB1c2hpbnQgMTYgLy8gMTYKICAgIDw9CiAgICBhc3NlcnQgLy8gb3ZlcmZsb3cKICAgIHB1c2hpbnQgMTYgLy8gMTYKICAgIGJ6ZXJvCiAgICBifAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo5OQogICAgLy8gc3Rha2VBY2N1bXVsYXRvciA9IEdsb2JhbFN0YXRlPFVpbnQxMjg+KHsga2V5OiAnc3Rha2VBY2N1bXVsYXRvcicgfSkKICAgIGJ5dGVjIDYgLy8gInN0YWtlQWNjdW11bGF0b3IiCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjg3NC04NzYKICAgIC8vIHRoaXMuc3Rha2VBY2N1bXVsYXRvci52YWx1ZSA9IG5ldyBVaW50MTI4KAogICAgLy8gICB0aGlzLnN0YWtlQWNjdW11bGF0b3IudmFsdWUubmF0aXZlICsgQmlnVWludChpbmNyZWFzZWRTdGFrZSkgKiBCaWdVaW50KHJvdW5kc0xlZnRJbkJpbiksCiAgICAvLyApCiAgICBzd2FwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo4NzcKICAgIC8vIHRoaXMucmV3YXJkQWNjdW11bGF0b3IudmFsdWUgPSB0aGlzLnJld2FyZEFjY3VtdWxhdG9yLnZhbHVlICsgaW5jcmVhc2VkU3Rha2UKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjEwMQogICAgLy8gcmV3YXJkQWNjdW11bGF0b3IgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KHsga2V5OiAncmV3YXJkQWNjdW11bGF0b3InIH0pCiAgICBieXRlYyAxMCAvLyAicmV3YXJkQWNjdW11bGF0b3IiCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjg3NwogICAgLy8gdGhpcy5yZXdhcmRBY2N1bXVsYXRvci52YWx1ZSA9IHRoaXMucmV3YXJkQWNjdW11bGF0b3IudmFsdWUgKyBpbmNyZWFzZWRTdGFrZQogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIHVuY292ZXIgMgogICAgKwogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czoxMDEKICAgIC8vIHJld2FyZEFjY3VtdWxhdG9yID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGtleTogJ3Jld2FyZEFjY3VtdWxhdG9yJyB9KQogICAgYnl0ZWMgMTAgLy8gInJld2FyZEFjY3VtdWxhdG9yIgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo4NzcKICAgIC8vIHRoaXMucmV3YXJkQWNjdW11bGF0b3IudmFsdWUgPSB0aGlzLnJld2FyZEFjY3VtdWxhdG9yLnZhbHVlICsgaW5jcmVhc2VkU3Rha2UKICAgIHN3YXAKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjg4My04OTIKICAgIC8vIGFiaUNhbGwoVmFsaWRhdG9yUmVnaXN0cnlBQkkucHJvdG90eXBlLnN0YWtlVXBkYXRlZFZpYVJld2FyZHMsIHsKICAgIC8vICAgYXBwSWQ6IHRoaXMuY3JlYXRpbmdWYWxpZGF0b3JDb250cmFjdEFwcElkLnZhbHVlLAogICAgLy8gICBhcmdzOiBbCiAgICAvLyAgICAgeyBpZDogdGhpcy52YWxpZGF0b3JJZC52YWx1ZSwgcG9vbElkOiB0aGlzLnBvb2xJZC52YWx1ZSwgcG9vbEFwcElkOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uSWQuaWQgfSwKICAgIC8vICAgICBpbmNyZWFzZWRTdGFrZSwKICAgIC8vICAgICB0b2tlblJld2FyZFBhaWRPdXQsCiAgICAvLyAgICAgdmFsaWRhdG9yQ29tbWlzc2lvblBhaWRPdXQsCiAgICAvLyAgICAgZXhjZXNzVG9GZWVTaW5rLAogICAgLy8gICBdLAogICAgLy8gfSkKICAgIGl0eG5fYmVnaW4KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6ODg0CiAgICAvLyBhcHBJZDogdGhpcy5jcmVhdGluZ1ZhbGlkYXRvckNvbnRyYWN0QXBwSWQudmFsdWUsCiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo2NQogICAgLy8gY3JlYXRpbmdWYWxpZGF0b3JDb250cmFjdEFwcElkID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGtleTogJ2NyZWF0b3JBcHAnIH0pCiAgICBieXRlY18xIC8vICJjcmVhdG9yQXBwIgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo4ODQKICAgIC8vIGFwcElkOiB0aGlzLmNyZWF0aW5nVmFsaWRhdG9yQ29udHJhY3RBcHBJZC52YWx1ZSwKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjg4NgogICAgLy8geyBpZDogdGhpcy52YWxpZGF0b3JJZC52YWx1ZSwgcG9vbElkOiB0aGlzLnBvb2xJZC52YWx1ZSwgcG9vbEFwcElkOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uSWQuaWQgfSwKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjY4CiAgICAvLyB2YWxpZGF0b3JJZCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oeyBrZXk6ICd2YWxpZGF0b3JJZCcgfSkKICAgIGJ5dGVjXzMgLy8gInZhbGlkYXRvcklkIgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo4ODYKICAgIC8vIHsgaWQ6IHRoaXMudmFsaWRhdG9ySWQudmFsdWUsIHBvb2xJZDogdGhpcy5wb29sSWQudmFsdWUsIHBvb2xBcHBJZDogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbklkLmlkIH0sCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6NzEKICAgIC8vIHBvb2xJZCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oeyBrZXk6ICdwb29sSWQnIH0pCiAgICBieXRlYyA0IC8vICJwb29sSWQiCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjg4NgogICAgLy8geyBpZDogdGhpcy52YWxpZGF0b3JJZC52YWx1ZSwgcG9vbElkOiB0aGlzLnBvb2xJZC52YWx1ZSwgcG9vbEFwcElkOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uSWQuaWQgfSwKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBnbG9iYWwgQ3VycmVudEFwcGxpY2F0aW9uSUQKICAgIHVuY292ZXIgMgogICAgaXRvYgogICAgdW5jb3ZlciAyCiAgICBpdG9iCiAgICBjb25jYXQKICAgIHN3YXAKICAgIGl0b2IKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo4ODgKICAgIC8vIHRva2VuUmV3YXJkUGFpZE91dCwKICAgIGZyYW1lX2RpZyAxNwogICAgaXRvYgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo2NDIKICAgIC8vIGxldCB2YWxpZGF0b3JDb21taXNzaW9uUGFpZE91dDogdWludDY0ID0gMAogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6ODg5CiAgICAvLyB2YWxpZGF0b3JDb21taXNzaW9uUGFpZE91dCwKICAgIGl0b2IKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6ODkwCiAgICAvLyBleGNlc3NUb0ZlZVNpbmssCiAgICBmcmFtZV9kaWcgNwogICAgaXRvYgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo4ODMtODkyCiAgICAvLyBhYmlDYWxsKFZhbGlkYXRvclJlZ2lzdHJ5QUJJLnByb3RvdHlwZS5zdGFrZVVwZGF0ZWRWaWFSZXdhcmRzLCB7CiAgICAvLyAgIGFwcElkOiB0aGlzLmNyZWF0aW5nVmFsaWRhdG9yQ29udHJhY3RBcHBJZC52YWx1ZSwKICAgIC8vICAgYXJnczogWwogICAgLy8gICAgIHsgaWQ6IHRoaXMudmFsaWRhdG9ySWQudmFsdWUsIHBvb2xJZDogdGhpcy5wb29sSWQudmFsdWUsIHBvb2xBcHBJZDogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbklkLmlkIH0sCiAgICAvLyAgICAgaW5jcmVhc2VkU3Rha2UsCiAgICAvLyAgICAgdG9rZW5SZXdhcmRQYWlkT3V0LAogICAgLy8gICAgIHZhbGlkYXRvckNvbW1pc3Npb25QYWlkT3V0LAogICAgLy8gICAgIGV4Y2Vzc1RvRmVlU2luaywKICAgIC8vICAgXSwKICAgIC8vIH0pCiAgICBwdXNoYnl0ZXMgMHg0MThmY2VmYyAvLyBtZXRob2QgInN0YWtlVXBkYXRlZFZpYVJld2FyZHMoKHVpbnQ2NCx1aW50NjQsdWludDY0KSx1aW50NjQsdWludDY0LHVpbnQ2NCx1aW50NjQpdm9pZCIKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25BcmdzCiAgICB1bmNvdmVyIDMKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25BcmdzCiAgICB1bmNvdmVyIDQKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25BcmdzCiAgICB1bmNvdmVyIDIKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25BcmdzCiAgICBzd2FwCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uQXJncwogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbkFyZ3MKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25JRAogICAgaW50Y18zIC8vIGFwcGwKICAgIGl0eG5fZmllbGQgVHlwZUVudW0KICAgIGludGNfMCAvLyAwCiAgICBpdHhuX2ZpZWxkIEZlZQogICAgaXR4bl9zdWJtaXQKICAgIHJldHN1YgoKZXBvY2hCYWxhbmNlVXBkYXRlX2Vsc2VfYm9keUAxMDoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6NjAxLTYwNAogICAgLy8gYWJpQ2FsbChTdGFraW5nUG9vbC5wcm90b3R5cGUucHJveGllZFNldFRva2VuUGF5b3V0UmF0aW8sIHsKICAgIC8vICAgYXBwSWQ6IHBvb2xPbmVBcHBJRCwKICAgIC8vICAgYXJnczogW3sgaWQ6IHRoaXMudmFsaWRhdG9ySWQudmFsdWUsIHBvb2xJZDogdGhpcy5wb29sSWQudmFsdWUsIHBvb2xBcHBJZDogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbklkLmlkIH1dLAogICAgLy8gfSkKICAgIGl0eG5fYmVnaW4KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6NjAzCiAgICAvLyBhcmdzOiBbeyBpZDogdGhpcy52YWxpZGF0b3JJZC52YWx1ZSwgcG9vbElkOiB0aGlzLnBvb2xJZC52YWx1ZSwgcG9vbEFwcElkOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uSWQuaWQgfV0sCiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo2OAogICAgLy8gdmFsaWRhdG9ySWQgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KHsga2V5OiAndmFsaWRhdG9ySWQnIH0pCiAgICBieXRlY18zIC8vICJ2YWxpZGF0b3JJZCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6NjAzCiAgICAvLyBhcmdzOiBbeyBpZDogdGhpcy52YWxpZGF0b3JJZC52YWx1ZSwgcG9vbElkOiB0aGlzLnBvb2xJZC52YWx1ZSwgcG9vbEFwcElkOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uSWQuaWQgfV0sCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6NzEKICAgIC8vIHBvb2xJZCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oeyBrZXk6ICdwb29sSWQnIH0pCiAgICBieXRlYyA0IC8vICJwb29sSWQiCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjYwMwogICAgLy8gYXJnczogW3sgaWQ6IHRoaXMudmFsaWRhdG9ySWQudmFsdWUsIHBvb2xJZDogdGhpcy5wb29sSWQudmFsdWUsIHBvb2xBcHBJZDogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbklkLmlkIH1dLAogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGdsb2JhbCBDdXJyZW50QXBwbGljYXRpb25JRAogICAgdW5jb3ZlciAyCiAgICBpdG9iCiAgICB1bmNvdmVyIDIKICAgIGl0b2IKICAgIGNvbmNhdAogICAgc3dhcAogICAgaXRvYgogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjYwMS02MDQKICAgIC8vIGFiaUNhbGwoU3Rha2luZ1Bvb2wucHJvdG90eXBlLnByb3hpZWRTZXRUb2tlblBheW91dFJhdGlvLCB7CiAgICAvLyAgIGFwcElkOiBwb29sT25lQXBwSUQsCiAgICAvLyAgIGFyZ3M6IFt7IGlkOiB0aGlzLnZhbGlkYXRvcklkLnZhbHVlLCBwb29sSWQ6IHRoaXMucG9vbElkLnZhbHVlLCBwb29sQXBwSWQ6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25JZC5pZCB9XSwKICAgIC8vIH0pCiAgICBieXRlYyAxNyAvLyBtZXRob2QgInByb3hpZWRTZXRUb2tlblBheW91dFJhdGlvKCh1aW50NjQsdWludDY0LHVpbnQ2NCkpKHVpbnQ2NFsyNF0sdWludDY0KSIKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25BcmdzCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uQXJncwogICAgZnJhbWVfZGlnIDE1CiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uSUQKICAgIGludGNfMyAvLyBhcHBsCiAgICBpdHhuX2ZpZWxkIFR5cGVFbnVtCiAgICBpbnRjXzAgLy8gMAogICAgaXR4bl9maWVsZCBGZWUKICAgIGl0eG5fc3VibWl0CiAgICBpdHhuIExhc3RMb2cKICAgIGV4dHJhY3QgMCA0CiAgICBieXRlY18yIC8vIDB4MTUxZjdjNzUKICAgID09CiAgICBhc3NlcnQgLy8gQnl0ZXMgaGFzIHZhbGlkIHByZWZpeAogICAgYiBlcG9jaEJhbGFuY2VVcGRhdGVfYWZ0ZXJfaWZfZWxzZUAxMwoKCi8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6OlN0YWtpbmdQb29sLmdvT25saW5lKGZlZVBheW1lbnQ6IHVpbnQ2NCwgdm90ZVBLOiBieXRlcywgc2VsZWN0aW9uUEs6IGJ5dGVzLCBzdGF0ZVByb29mUEs6IGJ5dGVzLCB2b3RlRmlyc3Q6IHVpbnQ2NCwgdm90ZUxhc3Q6IHVpbnQ2NCwgdm90ZUtleURpbHV0aW9uOiB1aW50NjQpIC0+IHZvaWQ6CmdvT25saW5lOgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo5MDgtOTE2CiAgICAvLyBnb09ubGluZSgKICAgIC8vICAgZmVlUGF5bWVudDogZ3R4bi5QYXltZW50VHhuLAogICAgLy8gICB2b3RlUEs6IGJ5dGVzLAogICAgLy8gICBzZWxlY3Rpb25QSzogYnl0ZXMsCiAgICAvLyAgIHN0YXRlUHJvb2ZQSzogYnl0ZXMsCiAgICAvLyAgIHZvdGVGaXJzdDogdWludDY0LAogICAgLy8gICB2b3RlTGFzdDogdWludDY0LAogICAgLy8gICB2b3RlS2V5RGlsdXRpb246IHVpbnQ2NCwKICAgIC8vICk6IHZvaWQgewogICAgcHJvdG8gNyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjkxNwogICAgLy8gYXNzZXJ0KHRoaXMuaXNPd25lck9yTWFuYWdlckNhbGxlcigpLCAnY2FuIG9ubHkgYmUgY2FsbGVkIGJ5IG93bmVyIG9yIG1hbmFnZXIgb2YgdmFsaWRhdG9yJykKICAgIGNhbGxzdWIgaXNPd25lck9yTWFuYWdlckNhbGxlcgogICAgYXNzZXJ0IC8vIGNhbiBvbmx5IGJlIGNhbGxlZCBieSBvd25lciBvciBtYW5hZ2VyIG9mIHZhbGlkYXRvcgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo5MTkKICAgIC8vIGFzc2VydE1hdGNoKGZlZVBheW1lbnQsIHsgcmVjZWl2ZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLCBhbW91bnQ6IGV4dHJhRmVlIH0pCiAgICBmcmFtZV9kaWcgLTcKICAgIGd0eG5zIFJlY2VpdmVyCiAgICBnbG9iYWwgQ3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcwogICAgPT0KICAgIGZyYW1lX2RpZyAtNwogICAgZ3R4bnMgQW1vdW50CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjEwMjQKICAgIC8vIHJldHVybiAyXzAwMF8wMDAKICAgIHB1c2hpbnQgMjAwMDAwMCAvLyAyMDAwMDAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjkxOQogICAgLy8gYXNzZXJ0TWF0Y2goZmVlUGF5bWVudCwgeyByZWNlaXZlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsIGFtb3VudDogZXh0cmFGZWUgfSkKICAgID09CiAgICAmJgogICAgYXNzZXJ0IC8vIGFzc2VydCB0YXJnZXQgaXMgbWF0Y2ggZm9yIGNvbmRpdGlvbnMKICAgIHJldHN1YgoKCi8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6OlN0YWtpbmdQb29sLmdvT2ZmbGluZSgpIC0+IHZvaWQ6CmdvT2ZmbGluZToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6OTQwCiAgICAvLyBpZiAoVHhuLnNlbmRlciAhPT0gQXBwbGljYXRpb24odGhpcy5jcmVhdGluZ1ZhbGlkYXRvckNvbnRyYWN0QXBwSWQudmFsdWUpLmFkZHJlc3MpIHsKICAgIHR4biBTZW5kZXIKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjY1CiAgICAvLyBjcmVhdGluZ1ZhbGlkYXRvckNvbnRyYWN0QXBwSWQgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KHsga2V5OiAnY3JlYXRvckFwcCcgfSkKICAgIGJ5dGVjXzEgLy8gImNyZWF0b3JBcHAiCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjk0MAogICAgLy8gaWYgKFR4bi5zZW5kZXIgIT09IEFwcGxpY2F0aW9uKHRoaXMuY3JlYXRpbmdWYWxpZGF0b3JDb250cmFjdEFwcElkLnZhbHVlKS5hZGRyZXNzKSB7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgYXBwX3BhcmFtc19nZXQgQXBwQWRkcmVzcwogICAgYXNzZXJ0IC8vIGFwcGxpY2F0aW9uIGV4aXN0cwogICAgIT0KICAgIGJ6IGdvT2ZmbGluZV9hZnRlcl9pZl9lbHNlQDIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6OTQxCiAgICAvLyBhc3NlcnQodGhpcy5pc093bmVyT3JNYW5hZ2VyQ2FsbGVyKCksICdjYW4gb25seSBiZSBjYWxsZWQgYnkgb3duZXIgb3IgbWFuYWdlciBvZiB2YWxpZGF0b3InKQogICAgY2FsbHN1YiBpc093bmVyT3JNYW5hZ2VyQ2FsbGVyCiAgICBhc3NlcnQgLy8gY2FuIG9ubHkgYmUgY2FsbGVkIGJ5IG93bmVyIG9yIG1hbmFnZXIgb2YgdmFsaWRhdG9yCgpnb09mZmxpbmVfYWZ0ZXJfaWZfZWxzZUAyOgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo5NDQKICAgIC8vIGl0eG4ua2V5UmVnaXN0cmF0aW9uKHt9KS5zdWJtaXQoKQogICAgaXR4bl9iZWdpbgogICAgcHVzaGludCAyIC8vIDIKICAgIGl0eG5fZmllbGQgVHlwZUVudW0KICAgIGludGNfMCAvLyAwCiAgICBpdHhuX2ZpZWxkIEZlZQogICAgaXR4bl9zdWJtaXQKICAgIHJldHN1YgoKCi8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6OlN0YWtpbmdQb29sLmxpbmtUb05GRChuZmRBcHBJZDogdWludDY0LCBuZmROYW1lOiBieXRlcykgLT4gdm9pZDoKbGlua1RvTkZEOgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo5NTAKICAgIC8vIGxpbmtUb05GRChuZmRBcHBJZDogdWludDY0LCBuZmROYW1lOiBzdHJpbmcpOiB2b2lkIHsKICAgIHByb3RvIDIgMAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo5NTEKICAgIC8vIGFzc2VydCh0aGlzLmlzT3duZXJPck1hbmFnZXJDYWxsZXIoKSwgJ2NhbiBvbmx5IGJlIGNhbGxlZCBieSBvd25lciBvciBtYW5hZ2VyIG9mIHZhbGlkYXRvcicpCiAgICBjYWxsc3ViIGlzT3duZXJPck1hbmFnZXJDYWxsZXIKICAgIGFzc2VydCAvLyBjYW4gb25seSBiZSBjYWxsZWQgYnkgb3duZXIgb3IgbWFuYWdlciBvZiB2YWxpZGF0b3IKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6OTUzLTk2NAogICAgLy8gaXR4bgogICAgLy8gICAuYXBwbGljYXRpb25DYWxsKHsKICAgIC8vICAgICBhcHBJZDogVGVtcGxhdGVWYXI8dWludDY0PignTkZEX1JFR0lTVFJZX0FQUF9JRCcpLAogICAgLy8gICAgIGFwcEFyZ3M6IFsKICAgIC8vICAgICAgIEJ5dGVzKCd2ZXJpZnlfbmZkX2FkZHInKSwKICAgIC8vICAgICAgIEJ5dGVzKG5mZE5hbWUpLAogICAgLy8gICAgICAgb3AuaXRvYihuZmRBcHBJZCksCiAgICAvLyAgICAgICBuZXcgQWRkcmVzcyhHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcykuYnl0ZXMsCiAgICAvLyAgICAgXSwKICAgIC8vICAgICBhcHBzOiBbbmZkQXBwSWRdLAogICAgLy8gICB9KQogICAgLy8gICAuc3VibWl0KCkKICAgIGl0eG5fYmVnaW4KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6OTU1CiAgICAvLyBhcHBJZDogVGVtcGxhdGVWYXI8dWludDY0PignTkZEX1JFR0lTVFJZX0FQUF9JRCcpLAogICAgaW50YyA5IC8vIFRNUExfTkZEX1JFR0lTVFJZX0FQUF9JRAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo5NTkKICAgIC8vIG9wLml0b2IobmZkQXBwSWQpLAogICAgZnJhbWVfZGlnIC0yCiAgICBpdG9iCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjk2MAogICAgLy8gbmV3IEFkZHJlc3MoR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MpLmJ5dGVzLAogICAgZ2xvYmFsIEN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MKICAgIGZyYW1lX2RpZyAtMgogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbnMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6OTU3CiAgICAvLyBCeXRlcygndmVyaWZ5X25mZF9hZGRyJyksCiAgICBwdXNoYnl0ZXMgInZlcmlmeV9uZmRfYWRkciIKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25BcmdzCiAgICBmcmFtZV9kaWcgLTEKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25BcmdzCiAgICBzd2FwCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uQXJncwogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbkFyZ3MKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25JRAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo5NTMtOTYzCiAgICAvLyBpdHhuCiAgICAvLyAgIC5hcHBsaWNhdGlvbkNhbGwoewogICAgLy8gICAgIGFwcElkOiBUZW1wbGF0ZVZhcjx1aW50NjQ+KCdORkRfUkVHSVNUUllfQVBQX0lEJyksCiAgICAvLyAgICAgYXBwQXJnczogWwogICAgLy8gICAgICAgQnl0ZXMoJ3ZlcmlmeV9uZmRfYWRkcicpLAogICAgLy8gICAgICAgQnl0ZXMobmZkTmFtZSksCiAgICAvLyAgICAgICBvcC5pdG9iKG5mZEFwcElkKSwKICAgIC8vICAgICAgIG5ldyBBZGRyZXNzKEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzKS5ieXRlcywKICAgIC8vICAgICBdLAogICAgLy8gICAgIGFwcHM6IFtuZmRBcHBJZF0sCiAgICAvLyAgIH0pCiAgICBpbnRjXzMgLy8gNgogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgaW50Y18wIC8vIDAKICAgIGl0eG5fZmllbGQgRmVlCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjk1My05NjQKICAgIC8vIGl0eG4KICAgIC8vICAgLmFwcGxpY2F0aW9uQ2FsbCh7CiAgICAvLyAgICAgYXBwSWQ6IFRlbXBsYXRlVmFyPHVpbnQ2ND4oJ05GRF9SRUdJU1RSWV9BUFBfSUQnKSwKICAgIC8vICAgICBhcHBBcmdzOiBbCiAgICAvLyAgICAgICBCeXRlcygndmVyaWZ5X25mZF9hZGRyJyksCiAgICAvLyAgICAgICBCeXRlcyhuZmROYW1lKSwKICAgIC8vICAgICAgIG9wLml0b2IobmZkQXBwSWQpLAogICAgLy8gICAgICAgbmV3IEFkZHJlc3MoR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MpLmJ5dGVzLAogICAgLy8gICAgIF0sCiAgICAvLyAgICAgYXBwczogW25mZEFwcElkXSwKICAgIC8vICAgfSkKICAgIC8vICAgLnN1Ym1pdCgpCiAgICBpdHhuX3N1Ym1pdAogICAgcmV0c3ViCgoKLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo6U3Rha2luZ1Bvb2wucHJveGllZFNldFRva2VuUGF5b3V0UmF0aW8ocG9vbEtleTogYnl0ZXMpIC0+IGJ5dGVzOgpwcm94aWVkU2V0VG9rZW5QYXlvdXRSYXRpbzoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6OTczCiAgICAvLyBwcm94aWVkU2V0VG9rZW5QYXlvdXRSYXRpbyhwb29sS2V5OiBWYWxpZGF0b3JQb29sS2V5KTogUG9vbFRva2VuUGF5b3V0UmF0aW8gewogICAgcHJvdG8gMSAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjk3NAogICAgLy8gYXNzZXJ0KHRoaXMudmFsaWRhdG9ySWQudmFsdWUgPT09IHBvb2xLZXkuaWQsICdjYWxsZXIgbXVzdCBiZSBwYXJ0IG9mIHNhbWUgdmFsaWRhdG9yIHNldCEnKQogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6NjgKICAgIC8vIHZhbGlkYXRvcklkID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGtleTogJ3ZhbGlkYXRvcklkJyB9KQogICAgYnl0ZWNfMyAvLyAidmFsaWRhdG9ySWQiCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjk3NAogICAgLy8gYXNzZXJ0KHRoaXMudmFsaWRhdG9ySWQudmFsdWUgPT09IHBvb2xLZXkuaWQsICdjYWxsZXIgbXVzdCBiZSBwYXJ0IG9mIHNhbWUgdmFsaWRhdG9yIHNldCEnKQogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGZyYW1lX2RpZyAtMQogICAgZXh0cmFjdCAwIDgKICAgIGZyYW1lX2RpZyAtMQogICAgaW50Y18wIC8vIDAKICAgIGV4dHJhY3RfdWludDY0CiAgICBkaWcgMgogICAgPT0KICAgIGFzc2VydCAvLyBjYWxsZXIgbXVzdCBiZSBwYXJ0IG9mIHNhbWUgdmFsaWRhdG9yIHNldCEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6OTc1CiAgICAvLyBhc3NlcnQodGhpcy5wb29sSWQudmFsdWUgPT09IDEsICdjYWxsZWUgbXVzdCBiZSBwb29sIDEnKQogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6NzEKICAgIC8vIHBvb2xJZCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oeyBrZXk6ICdwb29sSWQnIH0pCiAgICBieXRlYyA0IC8vICJwb29sSWQiCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjk3NQogICAgLy8gYXNzZXJ0KHRoaXMucG9vbElkLnZhbHVlID09PSAxLCAnY2FsbGVlIG11c3QgYmUgcG9vbCAxJykKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBpbnRjXzEgLy8gMQogICAgPT0KICAgIGFzc2VydCAvLyBjYWxsZWUgbXVzdCBiZSBwb29sIDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6OTc2CiAgICAvLyBhc3NlcnQocG9vbEtleS5wb29sSWQgIT09IDEsICdjYWxsZXIgbXVzdCBOT1QgYmUgcG9vbCAxJykKICAgIGZyYW1lX2RpZyAtMQogICAgZXh0cmFjdCA4IDgKICAgIGZyYW1lX2RpZyAtMQogICAgcHVzaGludCA4IC8vIDgKICAgIGV4dHJhY3RfdWludDY0CiAgICBpbnRjXzEgLy8gMQogICAgIT0KICAgIGFzc2VydCAvLyBjYWxsZXIgbXVzdCBOT1QgYmUgcG9vbCAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjk3OC05ODEKICAgIC8vIGNvbnN0IGNhbGxlclBvb2xBcHBJRCA9IGFiaUNhbGwoVmFsaWRhdG9yUmVnaXN0cnlBQkkucHJvdG90eXBlLmdldFBvb2xBcHBJZCwgewogICAgLy8gICBhcHBJZDogdGhpcy5jcmVhdGluZ1ZhbGlkYXRvckNvbnRyYWN0QXBwSWQudmFsdWUsCiAgICAvLyAgIGFyZ3M6IFtwb29sS2V5LmlkLCBwb29sS2V5LnBvb2xJZF0sCiAgICAvLyB9KS5yZXR1cm5WYWx1ZQogICAgaXR4bl9iZWdpbgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo5NzkKICAgIC8vIGFwcElkOiB0aGlzLmNyZWF0aW5nVmFsaWRhdG9yQ29udHJhY3RBcHBJZC52YWx1ZSwKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjY1CiAgICAvLyBjcmVhdGluZ1ZhbGlkYXRvckNvbnRyYWN0QXBwSWQgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KHsga2V5OiAnY3JlYXRvckFwcCcgfSkKICAgIGJ5dGVjXzEgLy8gImNyZWF0b3JBcHAiCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjk3OQogICAgLy8gYXBwSWQ6IHRoaXMuY3JlYXRpbmdWYWxpZGF0b3JDb250cmFjdEFwcElkLnZhbHVlLAogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6OTc4LTk4MQogICAgLy8gY29uc3QgY2FsbGVyUG9vbEFwcElEID0gYWJpQ2FsbChWYWxpZGF0b3JSZWdpc3RyeUFCSS5wcm90b3R5cGUuZ2V0UG9vbEFwcElkLCB7CiAgICAvLyAgIGFwcElkOiB0aGlzLmNyZWF0aW5nVmFsaWRhdG9yQ29udHJhY3RBcHBJZC52YWx1ZSwKICAgIC8vICAgYXJnczogW3Bvb2xLZXkuaWQsIHBvb2xLZXkucG9vbElkXSwKICAgIC8vIH0pLnJldHVyblZhbHVlCiAgICBieXRlYyAyMSAvLyBtZXRob2QgImdldFBvb2xBcHBJZCh1aW50NjQsdWludDY0KXVpbnQ2NCIKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25BcmdzCiAgICB1bmNvdmVyIDIKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25BcmdzCiAgICBzd2FwCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uQXJncwogICAgZHVwCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uSUQKICAgIGludGNfMyAvLyBhcHBsCiAgICBpdHhuX2ZpZWxkIFR5cGVFbnVtCiAgICBpbnRjXzAgLy8gMAogICAgaXR4bl9maWVsZCBGZWUKICAgIGl0eG5fc3VibWl0CiAgICBpdHhuIExhc3RMb2cKICAgIGR1cAogICAgZXh0cmFjdCA0IDAKICAgIHN3YXAKICAgIGV4dHJhY3QgMCA0CiAgICBieXRlY18yIC8vIDB4MTUxZjdjNzUKICAgID09CiAgICBhc3NlcnQgLy8gQnl0ZXMgaGFzIHZhbGlkIHByZWZpeAogICAgYnRvaQogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo5ODMKICAgIC8vIGFzc2VydChjYWxsZXJQb29sQXBwSUQgPT09IHBvb2xLZXkucG9vbEFwcElkKQogICAgZnJhbWVfZGlnIC0xCiAgICBwdXNoaW50IDE2IC8vIDE2CiAgICBleHRyYWN0X3VpbnQ2NAogICAgc3dhcAogICAgZGlnIDEKICAgID09CiAgICBhc3NlcnQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6OTg0CiAgICAvLyBhc3NlcnQoVHhuLnNlbmRlciA9PT0gQXBwbGljYXRpb24ocG9vbEtleS5wb29sQXBwSWQpLmFkZHJlc3MpCiAgICB0eG4gU2VuZGVyCiAgICBzd2FwCiAgICBhcHBfcGFyYW1zX2dldCBBcHBBZGRyZXNzCiAgICBhc3NlcnQgLy8gYXBwbGljYXRpb24gZXhpc3RzCiAgICA9PQogICAgYXNzZXJ0CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjk4Ni05ODkKICAgIC8vIHJldHVybiBhYmlDYWxsKFZhbGlkYXRvclJlZ2lzdHJ5QUJJLnByb3RvdHlwZS5zZXRUb2tlblBheW91dFJhdGlvLCB7CiAgICAvLyAgIGFwcElkOiB0aGlzLmNyZWF0aW5nVmFsaWRhdG9yQ29udHJhY3RBcHBJZC52YWx1ZSwKICAgIC8vICAgYXJnczogW3RoaXMudmFsaWRhdG9ySWQudmFsdWVdLAogICAgLy8gfSkucmV0dXJuVmFsdWUKICAgIGl0eG5fYmVnaW4KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6OTg4CiAgICAvLyBhcmdzOiBbdGhpcy52YWxpZGF0b3JJZC52YWx1ZV0sCiAgICBzd2FwCiAgICBpdG9iCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjk4Ni05ODkKICAgIC8vIHJldHVybiBhYmlDYWxsKFZhbGlkYXRvclJlZ2lzdHJ5QUJJLnByb3RvdHlwZS5zZXRUb2tlblBheW91dFJhdGlvLCB7CiAgICAvLyAgIGFwcElkOiB0aGlzLmNyZWF0aW5nVmFsaWRhdG9yQ29udHJhY3RBcHBJZC52YWx1ZSwKICAgIC8vICAgYXJnczogW3RoaXMudmFsaWRhdG9ySWQudmFsdWVdLAogICAgLy8gfSkucmV0dXJuVmFsdWUKICAgIGJ5dGVjIDIyIC8vIG1ldGhvZCAic2V0VG9rZW5QYXlvdXRSYXRpbyh1aW50NjQpKHVpbnQ2NFsyNF0sdWludDY0KSIKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25BcmdzCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uQXJncwogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbklECiAgICBpbnRjXzMgLy8gYXBwbAogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgaW50Y18wIC8vIDAKICAgIGl0eG5fZmllbGQgRmVlCiAgICBpdHhuX3N1Ym1pdAogICAgaXR4biBMYXN0TG9nCiAgICBkdXAKICAgIGV4dHJhY3QgNCAwCiAgICBzd2FwCiAgICBleHRyYWN0IDAgNAogICAgYnl0ZWNfMiAvLyAweDE1MWY3Yzc1CiAgICA9PQogICAgYXNzZXJ0IC8vIEJ5dGVzIGhhcyB2YWxpZCBwcmVmaXgKICAgIHJldHN1YgoKCi8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6OlN0YWtpbmdQb29sLmlzT3duZXJPck1hbmFnZXJDYWxsZXIoKSAtPiB1aW50NjQ6CmlzT3duZXJPck1hbmFnZXJDYWxsZXI6CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjk5MgogICAgLy8gcHJpdmF0ZSBpc093bmVyT3JNYW5hZ2VyQ2FsbGVyKCk6IGJvb2xlYW4gewogICAgcHJvdG8gMCAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjk5My05OTYKICAgIC8vIGNvbnN0IE93bmVyQW5kTWFuYWdlciA9IGFiaUNhbGwoVmFsaWRhdG9yUmVnaXN0cnlBQkkucHJvdG90eXBlLmdldFZhbGlkYXRvck93bmVyQW5kTWFuYWdlciwgewogICAgLy8gICBhcHBJZDogdGhpcy5jcmVhdGluZ1ZhbGlkYXRvckNvbnRyYWN0QXBwSWQudmFsdWUsCiAgICAvLyAgIGFyZ3M6IFt0aGlzLnZhbGlkYXRvcklkLnZhbHVlXSwKICAgIC8vIH0pLnJldHVyblZhbHVlCiAgICBpdHhuX2JlZ2luCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjk5NAogICAgLy8gYXBwSWQ6IHRoaXMuY3JlYXRpbmdWYWxpZGF0b3JDb250cmFjdEFwcElkLnZhbHVlLAogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6NjUKICAgIC8vIGNyZWF0aW5nVmFsaWRhdG9yQ29udHJhY3RBcHBJZCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oeyBrZXk6ICdjcmVhdG9yQXBwJyB9KQogICAgYnl0ZWNfMSAvLyAiY3JlYXRvckFwcCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6OTk0CiAgICAvLyBhcHBJZDogdGhpcy5jcmVhdGluZ1ZhbGlkYXRvckNvbnRyYWN0QXBwSWQudmFsdWUsCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo5OTUKICAgIC8vIGFyZ3M6IFt0aGlzLnZhbGlkYXRvcklkLnZhbHVlXSwKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjY4CiAgICAvLyB2YWxpZGF0b3JJZCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oeyBrZXk6ICd2YWxpZGF0b3JJZCcgfSkKICAgIGJ5dGVjXzMgLy8gInZhbGlkYXRvcklkIgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo5OTUKICAgIC8vIGFyZ3M6IFt0aGlzLnZhbGlkYXRvcklkLnZhbHVlXSwKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBpdG9iCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjk5My05OTYKICAgIC8vIGNvbnN0IE93bmVyQW5kTWFuYWdlciA9IGFiaUNhbGwoVmFsaWRhdG9yUmVnaXN0cnlBQkkucHJvdG90eXBlLmdldFZhbGlkYXRvck93bmVyQW5kTWFuYWdlciwgewogICAgLy8gICBhcHBJZDogdGhpcy5jcmVhdGluZ1ZhbGlkYXRvckNvbnRyYWN0QXBwSWQudmFsdWUsCiAgICAvLyAgIGFyZ3M6IFt0aGlzLnZhbGlkYXRvcklkLnZhbHVlXSwKICAgIC8vIH0pLnJldHVyblZhbHVlCiAgICBwdXNoYnl0ZXMgMHgyZmEyMmM0YiAvLyBtZXRob2QgImdldFZhbGlkYXRvck93bmVyQW5kTWFuYWdlcih1aW50NjQpKGFkZHJlc3MsYWRkcmVzcykiCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uQXJncwogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbkFyZ3MKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25JRAogICAgaW50Y18zIC8vIGFwcGwKICAgIGl0eG5fZmllbGQgVHlwZUVudW0KICAgIGludGNfMCAvLyAwCiAgICBpdHhuX2ZpZWxkIEZlZQogICAgaXR4bl9zdWJtaXQKICAgIGl0eG4gTGFzdExvZwogICAgZHVwbiAyCiAgICBleHRyYWN0IDAgNAogICAgYnl0ZWNfMiAvLyAweDE1MWY3Yzc1CiAgICA9PQogICAgYXNzZXJ0IC8vIEJ5dGVzIGhhcyB2YWxpZCBwcmVmaXgKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6OTk3CiAgICAvLyByZXR1cm4gVHhuLnNlbmRlciA9PT0gT3duZXJBbmRNYW5hZ2VyWzBdLm5hdGl2ZSB8fCBUeG4uc2VuZGVyID09PSBPd25lckFuZE1hbmFnZXJbMV0ubmF0aXZlCiAgICB0eG4gU2VuZGVyCiAgICBzd2FwCiAgICBleHRyYWN0IDQgMzIKICAgID09CiAgICBibnogaXNPd25lck9yTWFuYWdlckNhbGxlcl9ib29sX3RydWVAMwogICAgdHhuIFNlbmRlcgogICAgZnJhbWVfZGlnIDAKICAgIGV4dHJhY3QgMzYgMzIKICAgID09CiAgICBieiBpc093bmVyT3JNYW5hZ2VyQ2FsbGVyX2Jvb2xfZmFsc2VANAoKaXNPd25lck9yTWFuYWdlckNhbGxlcl9ib29sX3RydWVAMzoKICAgIGludGNfMSAvLyAxCgppc093bmVyT3JNYW5hZ2VyQ2FsbGVyX2Jvb2xfbWVyZ2VANToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6OTk3CiAgICAvLyByZXR1cm4gVHhuLnNlbmRlciA9PT0gT3duZXJBbmRNYW5hZ2VyWzBdLm5hdGl2ZSB8fCBUeG4uc2VuZGVyID09PSBPd25lckFuZE1hbmFnZXJbMV0ubmF0aXZlCiAgICBzd2FwCiAgICByZXRzdWIKCmlzT3duZXJPck1hbmFnZXJDYWxsZXJfYm9vbF9mYWxzZUA0OgogICAgaW50Y18wIC8vIDAKICAgIGIgaXNPd25lck9yTWFuYWdlckNhbGxlcl9ib29sX21lcmdlQDUKCgovLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjpTdGFraW5nUG9vbC5jaGVja0lmQmluQ2xvc2VkKCkgLT4gdm9pZDoKY2hlY2tJZkJpbkNsb3NlZDoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6MTAzNwogICAgLy8gcHJpdmF0ZSBjaGVja0lmQmluQ2xvc2VkKCkgewogICAgcHJvdG8gMCAwCiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czoxMDM4CiAgICAvLyBjb25zdCBjdXJyZW50QmluU2l6ZSA9IEJpZ1VpbnQodGhpcy5yb3VuZHNQZXJEYXkudmFsdWUpCiAgICBkdXBuIDQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6OTUKICAgIC8vIHJvdW5kc1BlckRheSA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oeyBrZXk6ICdyb3VuZHNQZXJEYXknIH0pCiAgICBieXRlYyA3IC8vICJyb3VuZHNQZXJEYXkiCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjEwMzgKICAgIC8vIGNvbnN0IGN1cnJlbnRCaW5TaXplID0gQmlnVWludCh0aGlzLnJvdW5kc1BlckRheS52YWx1ZSkKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBkdXAKICAgIGl0b2IKICAgIHN3YXAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6MTAzOQogICAgLy8gaWYgKEdsb2JhbC5yb3VuZCA+PSB0aGlzLmJpblJvdW5kU3RhcnQudmFsdWUgKyB0aGlzLnJvdW5kc1BlckRheS52YWx1ZSkgewogICAgZ2xvYmFsIFJvdW5kCiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czo5NwogICAgLy8gYmluUm91bmRTdGFydCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oeyBrZXk6ICdiaW5Sb3VuZFN0YXJ0JyB9KQogICAgYnl0ZWMgOCAvLyAiYmluUm91bmRTdGFydCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6MTAzOQogICAgLy8gaWYgKEdsb2JhbC5yb3VuZCA+PSB0aGlzLmJpblJvdW5kU3RhcnQudmFsdWUgKyB0aGlzLnJvdW5kc1BlckRheS52YWx1ZSkgewogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIHVuY292ZXIgMgogICAgKwogICAgPj0KICAgIGJ6IGNoZWNrSWZCaW5DbG9zZWRfYWZ0ZXJfaWZfZWxzZUA2CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjEwNDAKICAgIC8vIGVuc3VyZUJ1ZGdldCgzMDApCiAgICBpbnRjIDcgLy8gMzAwCiAgICBpbnRjXzAgLy8gMAogICAgY2FsbHN1YiBlbnN1cmVfYnVkZ2V0CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjEwNDIKICAgIC8vIGNvbnN0IGFwcHJveFJvdW5kc1BlclllYXI6IGJpZ3VpbnQgPSBjdXJyZW50QmluU2l6ZSAqIEJpZ1VpbnQoMzY1KQogICAgZnJhbWVfZGlnIDQKICAgIGR1cAogICAgcHVzaGJ5dGVzIDB4MDE2ZAogICAgYioKICAgIGZyYW1lX2J1cnkgMQogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czoxMDQzCiAgICAvLyBjb25zdCBhdmdTdGFrZTogYmlndWludCA9IHRoaXMuc3Rha2VBY2N1bXVsYXRvci52YWx1ZS5uYXRpdmUgLyBjdXJyZW50QmluU2l6ZQogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6OTkKICAgIC8vIHN0YWtlQWNjdW11bGF0b3IgPSBHbG9iYWxTdGF0ZTxVaW50MTI4Pih7IGtleTogJ3N0YWtlQWNjdW11bGF0b3InIH0pCiAgICBieXRlYyA2IC8vICJzdGFrZUFjY3VtdWxhdG9yIgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czoxMDQzCiAgICAvLyBjb25zdCBhdmdTdGFrZTogYmlndWludCA9IHRoaXMuc3Rha2VBY2N1bXVsYXRvci52YWx1ZS5uYXRpdmUgLyBjdXJyZW50QmluU2l6ZQogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIHN3YXAKICAgIGIvCiAgICBkdXAKICAgIGZyYW1lX2J1cnkgMwogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czoxMDQ0CiAgICAvLyBpZiAoYXZnU3Rha2UgIT09IEJpZ1VpbnQoMCkpIHsKICAgIHB1c2hieXRlcyAweAogICAgYiE9CiAgICBieiBjaGVja0lmQmluQ2xvc2VkX2FmdGVyX2lmX2Vsc2VANQogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czoxMDQ5CiAgICAvLyAoKEJpZ1VpbnQodGhpcy5yZXdhcmRBY2N1bXVsYXRvci52YWx1ZSkgKiBCaWdVaW50KDEwMDAwKSkgLyBhdmdTdGFrZSkgKiAoYXBwcm94Um91bmRzUGVyWWVhciAvIGN1cnJlbnRCaW5TaXplKQogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6MTAxCiAgICAvLyByZXdhcmRBY2N1bXVsYXRvciA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oeyBrZXk6ICdyZXdhcmRBY2N1bXVsYXRvcicgfSkKICAgIGJ5dGVjIDEwIC8vICJyZXdhcmRBY2N1bXVsYXRvciIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6MTA0OQogICAgLy8gKChCaWdVaW50KHRoaXMucmV3YXJkQWNjdW11bGF0b3IudmFsdWUpICogQmlnVWludCgxMDAwMCkpIC8gYXZnU3Rha2UpICogKGFwcHJveFJvdW5kc1BlclllYXIgLyBjdXJyZW50QmluU2l6ZSkKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBpdG9iCiAgICBwdXNoYnl0ZXMgMHgyNzEwCiAgICBiKgogICAgZnJhbWVfZGlnIDMKICAgIGR1cAogICAgY292ZXIgMgogICAgYi8KICAgIGZyYW1lX2RpZyAxCiAgICBmcmFtZV9kaWcgNAogICAgYi8KICAgIGIqCiAgICBmcmFtZV9idXJ5IDIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6MTA1MQogICAgLy8gbGV0IGFscGhhID0gQmlnVWludCgxMCkgLy8gLjEKICAgIHB1c2hieXRlcyAweDBhCiAgICBmcmFtZV9idXJ5IDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6MTA1MwogICAgLy8gaWYgKGF2Z1N0YWtlID4gQmlnVWludCgzMDAwMDAwMDAwMDApKSB7CiAgICBwdXNoYnl0ZXMgMHg0NWQ5NjRiODAwCiAgICBiPgogICAgYnogY2hlY2tJZkJpbkNsb3NlZF9hZnRlcl9pZl9lbHNlQDQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6MTA1NAogICAgLy8gYWxwaGEgPSBCaWdVaW50KDkwKSAvLyAuOQogICAgcHVzaGJ5dGVzIDB4NWEKICAgIGZyYW1lX2J1cnkgMAoKY2hlY2tJZkJpbkNsb3NlZF9hZnRlcl9pZl9lbHNlQDQ6CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjEwNTcKICAgIC8vICh0aGlzLndlaWdodGVkTW92aW5nQXZlcmFnZS52YWx1ZS5uYXRpdmUgKiAoQmlnVWludCgxMDApIC0gYWxwaGEpKSAvIEJpZ1VpbnQoMTAwKSArCiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czoxMDMKICAgIC8vIHdlaWdodGVkTW92aW5nQXZlcmFnZSA9IEdsb2JhbFN0YXRlPFVpbnQxMjg+KHsga2V5OiAnZXdtYScgfSkKICAgIGJ5dGVjIDE1IC8vICJld21hIgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czoxMDU3CiAgICAvLyAodGhpcy53ZWlnaHRlZE1vdmluZ0F2ZXJhZ2UudmFsdWUubmF0aXZlICogKEJpZ1VpbnQoMTAwKSAtIGFscGhhKSkgLyBCaWdVaW50KDEwMCkgKwogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGJ5dGVjIDE2IC8vIDB4NjQKICAgIGZyYW1lX2RpZyAwCiAgICBkdXAKICAgIGNvdmVyIDMKICAgIGItCiAgICBiKgogICAgYnl0ZWMgMTYgLy8gMHg2NAogICAgYi8KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6MTA1OAogICAgLy8gKGFwciAqIGFscGhhKSAvIEJpZ1VpbnQoMTAwKSwKICAgIGZyYW1lX2RpZyAyCiAgICB1bmNvdmVyIDIKICAgIGIqCiAgICBieXRlYyAxNiAvLyAweDY0CiAgICBiLwogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czoxMDU3LTEwNTgKICAgIC8vICh0aGlzLndlaWdodGVkTW92aW5nQXZlcmFnZS52YWx1ZS5uYXRpdmUgKiAoQmlnVWludCgxMDApIC0gYWxwaGEpKSAvIEJpZ1VpbnQoMTAwKSArCiAgICAvLyAgIChhcHIgKiBhbHBoYSkgLyBCaWdVaW50KDEwMCksCiAgICBiKwogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czoxMDU2LTEwNTkKICAgIC8vIHRoaXMud2VpZ2h0ZWRNb3ZpbmdBdmVyYWdlLnZhbHVlID0gbmV3IFVpbnQxMjgoCiAgICAvLyAgICh0aGlzLndlaWdodGVkTW92aW5nQXZlcmFnZS52YWx1ZS5uYXRpdmUgKiAoQmlnVWludCgxMDApIC0gYWxwaGEpKSAvIEJpZ1VpbnQoMTAwKSArCiAgICAvLyAgICAgKGFwciAqIGFscGhhKSAvIEJpZ1VpbnQoMTAwKSwKICAgIC8vICkKICAgIGR1cAogICAgbGVuCiAgICBwdXNoaW50IDE2IC8vIDE2CiAgICA8PQogICAgYXNzZXJ0IC8vIG92ZXJmbG93CiAgICBwdXNoaW50IDE2IC8vIDE2CiAgICBiemVybwogICAgYnwKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6MTAzCiAgICAvLyB3ZWlnaHRlZE1vdmluZ0F2ZXJhZ2UgPSBHbG9iYWxTdGF0ZTxVaW50MTI4Pih7IGtleTogJ2V3bWEnIH0pCiAgICBieXRlYyAxNSAvLyAiZXdtYSIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6MTA1Ni0xMDU5CiAgICAvLyB0aGlzLndlaWdodGVkTW92aW5nQXZlcmFnZS52YWx1ZSA9IG5ldyBVaW50MTI4KAogICAgLy8gICAodGhpcy53ZWlnaHRlZE1vdmluZ0F2ZXJhZ2UudmFsdWUubmF0aXZlICogKEJpZ1VpbnQoMTAwKSAtIGFscGhhKSkgLyBCaWdVaW50KDEwMCkgKwogICAgLy8gICAgIChhcHIgKiBhbHBoYSkgLyBCaWdVaW50KDEwMCksCiAgICAvLyApCiAgICBzd2FwCiAgICBhcHBfZ2xvYmFsX3B1dAoKY2hlY2tJZkJpbkNsb3NlZF9hZnRlcl9pZl9lbHNlQDU6CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjk1CiAgICAvLyByb3VuZHNQZXJEYXkgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KHsga2V5OiAncm91bmRzUGVyRGF5JyB9KQogICAgYnl0ZWMgNyAvLyAicm91bmRzUGVyRGF5IgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czoxMDcxCiAgICAvLyB0aGlzLnJvdW5kc1BlckRheS52YWx1ZSA9IEFWR19ST1VORFNfUEVSX0RBWQogICAgaW50YyA1IC8vIDMwODU3CiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czoxMDY0CiAgICAvLyB0aGlzLnN0YWtlQWNjdW11bGF0b3IudmFsdWUgPSBuZXcgVWludDEyOCh0aGlzLnRvdGFsQWxnb1N0YWtlZC52YWx1ZSAqIHRoaXMucm91bmRzUGVyRGF5LnZhbHVlKQogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6NzcKICAgIC8vIHRvdGFsQWxnb1N0YWtlZCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oeyBrZXk6ICdzdGFrZWQnIH0pCiAgICBieXRlYyA1IC8vICJzdGFrZWQiCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjEwNjQKICAgIC8vIHRoaXMuc3Rha2VBY2N1bXVsYXRvci52YWx1ZSA9IG5ldyBVaW50MTI4KHRoaXMudG90YWxBbGdvU3Rha2VkLnZhbHVlICogdGhpcy5yb3VuZHNQZXJEYXkudmFsdWUpCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czoxMDcxCiAgICAvLyB0aGlzLnJvdW5kc1BlckRheS52YWx1ZSA9IEFWR19ST1VORFNfUEVSX0RBWQogICAgaW50YyA1IC8vIDMwODU3CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjEwNjQKICAgIC8vIHRoaXMuc3Rha2VBY2N1bXVsYXRvci52YWx1ZSA9IG5ldyBVaW50MTI4KHRoaXMudG90YWxBbGdvU3Rha2VkLnZhbHVlICogdGhpcy5yb3VuZHNQZXJEYXkudmFsdWUpCiAgICAqCiAgICBpdG9iCiAgICBwdXNoaW50IDE2IC8vIDE2CiAgICBiemVybwogICAgYnwKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6OTkKICAgIC8vIHN0YWtlQWNjdW11bGF0b3IgPSBHbG9iYWxTdGF0ZTxVaW50MTI4Pih7IGtleTogJ3N0YWtlQWNjdW11bGF0b3InIH0pCiAgICBieXRlYyA2IC8vICJzdGFrZUFjY3VtdWxhdG9yIgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czoxMDY0CiAgICAvLyB0aGlzLnN0YWtlQWNjdW11bGF0b3IudmFsdWUgPSBuZXcgVWludDEyOCh0aGlzLnRvdGFsQWxnb1N0YWtlZC52YWx1ZSAqIHRoaXMucm91bmRzUGVyRGF5LnZhbHVlKQogICAgc3dhcAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6MTAxCiAgICAvLyByZXdhcmRBY2N1bXVsYXRvciA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oeyBrZXk6ICdyZXdhcmRBY2N1bXVsYXRvcicgfSkKICAgIGJ5dGVjIDEwIC8vICJyZXdhcmRBY2N1bXVsYXRvciIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6MTA2NQogICAgLy8gdGhpcy5yZXdhcmRBY2N1bXVsYXRvci52YWx1ZSA9IDAKICAgIGludGNfMCAvLyAwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czoxMDY2CiAgICAvLyB0aGlzLmJpblJvdW5kU3RhcnQudmFsdWUgPSBHbG9iYWwucm91bmQgLSAoR2xvYmFsLnJvdW5kICUgdGhpcy5yb3VuZHNQZXJEYXkudmFsdWUpCiAgICBnbG9iYWwgUm91bmQKICAgIGR1cAogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpL3N0YWtpbmdQb29sLmFsZ28udHM6OTUKICAgIC8vIHJvdW5kc1BlckRheSA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oeyBrZXk6ICdyb3VuZHNQZXJEYXknIH0pCiAgICBieXRlYyA3IC8vICJyb3VuZHNQZXJEYXkiCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjEwNjYKICAgIC8vIHRoaXMuYmluUm91bmRTdGFydC52YWx1ZSA9IEdsb2JhbC5yb3VuZCAtIChHbG9iYWwucm91bmQgJSB0aGlzLnJvdW5kc1BlckRheS52YWx1ZSkKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAlCiAgICAtCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aS9zdGFraW5nUG9vbC5hbGdvLnRzOjk3CiAgICAvLyBiaW5Sb3VuZFN0YXJ0ID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGtleTogJ2JpblJvdW5kU3RhcnQnIH0pCiAgICBieXRlYyA4IC8vICJiaW5Sb3VuZFN0YXJ0IgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGkvc3Rha2luZ1Bvb2wuYWxnby50czoxMDY2CiAgICAvLyB0aGlzLmJpblJvdW5kU3RhcnQudmFsdWUgPSBHbG9iYWwucm91bmQgLSAoR2xvYmFsLnJvdW5kICUgdGhpcy5yb3VuZHNQZXJEYXkudmFsdWUpCiAgICBzd2FwCiAgICBhcHBfZ2xvYmFsX3B1dAoKY2hlY2tJZkJpbkNsb3NlZF9hZnRlcl9pZl9lbHNlQDY6CiAgICByZXRzdWIK",
        "clear": "I3ByYWdtYSB2ZXJzaW9uIDEwCiNwcmFnbWEgdHlwZXRyYWNrIGZhbHNlCgovLyBAYWxnb3JhbmRmb3VuZGF0aW9uL2FsZ29yYW5kLXR5cGVzY3JpcHQvYmFzZS1jb250cmFjdC5kLnRzOjpCYXNlQ29udHJhY3QuY2xlYXJTdGF0ZVByb2dyYW0oKSAtPiB1aW50NjQ6Cm1haW46CiAgICBwdXNoaW50IDEgLy8gMQogICAgcmV0dXJuCg=="
    },
    "state": {
        "global": {
            "num_byte_slices": 3,
            "num_uints": 11
        },
        "local": {
            "num_byte_slices": 0,
            "num_uints": 0
        }
    },
    "schema": {
        "global": {
            "declared": {
                "algodVer": {
                    "type": "bytes",
                    "key": "algodVer"
                },
                "binRoundStart": {
                    "type": "uint64",
                    "key": "binRoundStart"
                },
                "creatingValidatorContractAppId": {
                    "type": "uint64",
                    "key": "creatorApp"
                },
                "epochNumber": {
                    "type": "uint64",
                    "key": "epochNumber"
                },
                "lastPayout": {
                    "type": "uint64",
                    "key": "lastPayout"
                },
                "minEntryStake": {
                    "type": "uint64",
                    "key": "minEntryStake"
                },
                "numStakers": {
                    "type": "uint64",
                    "key": "numStakers"
                },
                "poolId": {
                    "type": "uint64",
                    "key": "poolId"
                },
                "rewardAccumulator": {
                    "type": "uint64",
                    "key": "rewardAccumulator"
                },
                "roundsPerDay": {
                    "type": "uint64",
                    "key": "roundsPerDay"
                },
                "stakeAccumulator": {
                    "type": "bytes",
                    "key": "stakeAccumulator"
                },
                "totalAlgoStaked": {
                    "type": "uint64",
                    "key": "staked"
                },
                "validatorId": {
                    "type": "uint64",
                    "key": "validatorId"
                },
                "weightedMovingAverage": {
                    "type": "bytes",
                    "key": "ewma"
                }
            },
            "reserved": {}
        },
        "local": {
            "declared": {},
            "reserved": {}
        }
    },
    "contract": {
        "name": "StakingPool",
        "desc": "StakingPool contract has a new instance deployed per staking pool added by any validator.  A single instance\nis initially immutably deployed, and the id of that instance is used as a construction parameter in the immutable\ninstance of the master ValidatorRegistry contract.  It then uses that StakingPool instance as a 'factory template'\nfor subsequent pool creations - using the on-chain bytecode of that deployed instance to create a new identical\ninstance.\n\nEach instance is explicitly 'linked' to the validator master via its creation parameters.  The validator master\ncontract only allows calls from staking pool contract instances that match data that only the validator master\nauthoritatively has (validator id X, pool Y - has to come from contract address of that pool).  Calls the pools\nvalidate coming from the validator are only allowed if it matches the validator id it was created with.",
        "methods": [
            {
                "name": "updateApplication",
                "args": [],
                "readonly": false,
                "returns": {
                    "type": "void"
                }
            },
            {
                "name": "createApplication",
                "args": [
                    {
                        "type": "uint64",
                        "name": "creatingContractId",
                        "desc": "- id of contract that constructed us - the validator application (single global instance)"
                    },
                    {
                        "type": "uint64",
                        "name": "validatorId",
                        "desc": "- id of validator we're a staking pool of"
                    },
                    {
                        "type": "uint64",
                        "name": "poolId",
                        "desc": "- which pool id are we"
                    },
                    {
                        "type": "uint64",
                        "name": "minEntryStake",
                        "desc": "- minimum amount to be in pool, but also minimum amount balance can't go below (without removing all!)"
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "void"
                },
                "desc": "Initialize the staking pool w/ owner and manager, but can only be created by the validator contract."
            },
            {
                "name": "gas",
                "args": [],
                "readonly": false,
                "returns": {
                    "type": "void"
                },
                "desc": "gas is a dummy no-op call that can be used to pool-up resource references and opcode cost"
            },
            {
                "name": "initStorage",
                "args": [
                    {
                        "type": "pay",
                        "name": "mbrPayment",
                        "desc": "payment from caller which covers mbr increase of new staking pools' storage"
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "void"
                },
                "desc": "Called after we're created and then funded, so we can create our large stakers ledger storage\nCaller has to get MBR amounts from ValidatorRegistry to know how much to fund us to cover the box storage cost\nIf this is pool 1 AND the validator has specified a reward token, opt-in to that token\nso that the validator can seed the pool with future rewards of that token."
            },
            {
                "name": "addStake",
                "args": [
                    {
                        "type": "pay",
                        "name": "stakedAmountPayment",
                        "desc": "prior payment coming from validator contract to us on behalf of staker."
                    },
                    {
                        "type": "address",
                        "name": "staker",
                        "desc": "- The account adding new stake"
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "uint64",
                    "desc": "new 'entry round' round number of stake add"
                },
                "desc": "Adds stake to the given account.\nCan ONLY be called by the validator contract that created us\nMust receive payment from the validator contract for amount being staked."
            },
            {
                "name": "removeStake",
                "args": [
                    {
                        "type": "address",
                        "name": "staker",
                        "desc": "- account to remove.  normally same as sender, but the validator owner or manager can also call\nthis to remove the specified staker explicitly. The removed stake MUST only go to the staker of course.  This is\nso a validator can shut down a poool and refund the stakers.  It can also be used to kick out stakers who no longer\nmeet the gating requirements (determined by the node daemon)."
                    },
                    {
                        "type": "uint64",
                        "name": "amountToUnstake",
                        "desc": "- The amount of stake to be removed.  Specify 0 to remove all stake."
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "void"
                },
                "desc": "Removes stake on behalf of caller (removing own stake).  If any token rewards exist, those are always sent in\nfull. Also notifies the validator contract for this pools validator of the staker / balance changes."
            },
            {
                "name": "claimTokens",
                "args": [],
                "readonly": false,
                "returns": {
                    "type": "void"
                },
                "desc": "Claims all the available reward tokens a staker has available, sending their entire balance to the staker from\npool 1 (either directly, or via validator->pool1 to pay it out)\nAlso notifies the validator contract for this pools validator of the staker / balance changes."
            },
            {
                "name": "getStakerInfo",
                "args": [
                    {
                        "type": "address",
                        "name": "staker",
                        "desc": "- The address of the staker."
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "(address,uint64,uint64,uint64,uint64)",
                    "desc": "- The staked information for the given staker."
                },
                "desc": "Retrieves the staked information for a given staker."
            },
            {
                "name": "payTokenReward",
                "args": [
                    {
                        "type": "address",
                        "name": "staker",
                        "desc": "- the staker account to send rewards to"
                    },
                    {
                        "type": "uint64",
                        "name": "rewardToken",
                        "desc": "- id of reward token (to avoid re-entrancy in calling validator back to get id)"
                    },
                    {
                        "type": "uint64",
                        "name": "amountToSend",
                        "desc": "- amount to send the staker (there is significant trust here(!) - also why only validator can call us"
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "void"
                },
                "desc": "[Internal protocol method] Remove a specified amount of 'community token' rewards for a staker.\nThis can ONLY be called by our validator and only if we're pool 1 - with the token.\nNote: this can also be called by validator as part of OWNER wanting to send the reward tokens\nsomewhere else (ie if they're sunsetting their validator and need the reward tokens back).\nIt's up to the validator to ensure that the balance in rewardTokenHeldBack is honored."
            },
            {
                "name": "updateAlgodVer",
                "args": [
                    {
                        "type": "string",
                        "name": "algodVer",
                        "desc": "- string representing the algorand node daemon version (reti node daemon composes its own meta version)"
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "void"
                },
                "desc": "Update the (honor system) algod version for the node associated to this pool.  The node management daemon\nshould compare its current nodes version to the version stored in global state, updating when different.\nThe reti node daemon composes its own version string using format:\n{major}.{minor}.{build} {branch} [{commit hash}],\nie: 3.22.0 rel/stable [6b508975]\n[ ONLY OWNER OR MANAGER CAN CALL ]"
            },
            {
                "name": "epochBalanceUpdate",
                "args": [],
                "readonly": false,
                "returns": {
                    "type": "void"
                },
                "desc": "Updates the balance of stakers in the pool based on the received 'rewards' (current balance vs known staked balance)\nstakers outstanding balance is adjusted based on their % of stake and time in the current epoch - so that balance\ncompounds over time and staker can remove that amount at will.\nThe validator is paid their percentage each epoch payout.\n\nNote: ANYONE can call this."
            },
            {
                "name": "goOnline",
                "args": [
                    {
                        "type": "pay",
                        "name": "feePayment",
                        "desc": "- payment to cover extra fee of going online if offline - or 0 if not renewal"
                    },
                    {
                        "type": "byte[]",
                        "name": "votePK",
                        "desc": "- The vote public key."
                    },
                    {
                        "type": "byte[]",
                        "name": "selectionPK",
                        "desc": "- The selection public key."
                    },
                    {
                        "type": "byte[]",
                        "name": "stateProofPK",
                        "desc": "- The state proof public key."
                    },
                    {
                        "type": "uint64",
                        "name": "voteFirst",
                        "desc": "- The first vote index."
                    },
                    {
                        "type": "uint64",
                        "name": "voteLast",
                        "desc": "- The last vote index."
                    },
                    {
                        "type": "uint64",
                        "name": "voteKeyDilution",
                        "desc": "- The vote key dilution value."
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "void"
                },
                "desc": "Registers a staking pool key online against a participation key.\n[ ONLY OWNER OR MANAGER CAN CALL ]"
            },
            {
                "name": "goOffline",
                "args": [],
                "readonly": false,
                "returns": {
                    "type": "void"
                },
                "desc": "Marks a staking pool key OFFLINE.\n[ ONLY OWNER OR MANAGER CAN CALL ]"
            },
            {
                "name": "linkToNFD",
                "args": [
                    {
                        "type": "uint64",
                        "name": "nfdAppId"
                    },
                    {
                        "type": "string",
                        "name": "nfdName"
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "void"
                }
            },
            {
                "name": "proxiedSetTokenPayoutRatio",
                "args": [
                    {
                        "type": "(uint64,uint64,uint64)",
                        "name": "poolKey",
                        "desc": "- ValidatorPoolKey tuple"
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "(uint64[24],uint64)"
                },
                "desc": "proxiedSetTokenPayoutRatio is meant to be called by pools != 1 - calling US, pool #1\nWe need to verify that we are in fact being called by another of OUR pools (not us)\nand then we'll call the validator on their behalf to update the token payouts"
            }
        ],
        "networks": {}
    },
    "bare_call_config": {}
}